import{r as rn,s as Fe,c as Yr,u as Xr,g as Gr,d as Qr,n as ie,f as on,e as nt,i as Zr,h as Vn,b as Ge,j as pt,k as xr}from"../chunks/scheduler.31a33d78.js";import{t as Q,d as X,S as je,i as We,g as m,h as _,j as B,f as h,k as f,a as N,s as A,m as j,e as we,c as S,n as W,y as u,z as te,A as Br,o as G,B as oe,p as _t,b as gt,r as Oe,u as Ne,v as qe,w as De,C as Y,D as Ct,E as mt,F as bs,G as ys,H as jt,I as es}from"../chunks/index.94d998fe.js";import{w as ln}from"../chunks/index.722ab265.js";function ge(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function $r(s,e){s.d(1),e.delete(s.key)}function ei(s,e){Q(s,1,1,()=>{e.delete(s.key)})}function kr(s,e,t,n,r,i,o,a,l,c,g,p){let b=s.length,y=i.length,v=b;const w={};for(;v--;)w[s[v].key]=v;const C=[],k=new Map,O=new Map,V=[];for(v=y;v--;){const R=p(r,i,v),L=t(R);let P=o.get(L);P?n&&V.push(()=>P.p(R,e)):(P=c(L,R),P.c()),k.set(L,C[v]=P),L in w&&O.set(L,Math.abs(v-w[L]))}const E=new Set,T=new Set;function D(R){X(R,1),R.m(a,g),o.set(R.key,R),g=R.first,y--}for(;b&&y;){const R=C[y-1],L=s[b-1],P=R.key,$=L.key;R===L?(g=R.first,b--,y--):k.has($)?!o.has(P)||E.has(P)?D(R):T.has($)?b--:O.get(P)>O.get($)?(T.add(P),D(R)):(E.add($),b--):(l(L,o),b--)}for(;b--;){const R=s[b];k.has(R.key)||l(R,o)}for(;y;)D(C[y-1]);return rn(V),C}function ti(s,e){const t={},n={},r={$$scope:1};let i=s.length;for(;i--;){const o=s[i],a=e[i];if(a){for(const l in o)l in a||(n[l]=1);for(const l in a)r[l]||(t[l]=a[l],r[l]=1);s[i]=a}else for(const l in o)r[l]=1}for(const o in n)o in t||(t[o]=void 0);return t}function si(s){return typeof s=="object"&&s!==null?s:{}}const At=ln(null),it=Object.create(null);it.open="0";it.close="1";it.ping="2";it.pong="3";it.message="4";it.upgrade="5";it.noop="6";const Es=Object.create(null);Object.keys(it).forEach(s=>{Es[it[s]]=s});const Zs={type:"error",data:"parser error"},Er=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Ir=typeof ArrayBuffer=="function",Cr=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s&&s.buffer instanceof ArrayBuffer,an=({type:s,data:e},t,n)=>Er&&e instanceof Blob?t?n(e):zn(e,n):Ir&&(e instanceof ArrayBuffer||Cr(e))?t?n(e):zn(new Blob([e]),n):n(it[s]+(e||"")),zn=(s,e)=>{const t=new FileReader;return t.onload=function(){const n=t.result.split(",")[1];e("b"+(n||""))},t.readAsDataURL(s)};function On(s){return s instanceof Uint8Array?s:s instanceof ArrayBuffer?new Uint8Array(s):new Uint8Array(s.buffer,s.byteOffset,s.byteLength)}let Gs;function ni(s,e){if(Er&&s.data instanceof Blob)return s.data.arrayBuffer().then(On).then(e);if(Ir&&(s.data instanceof ArrayBuffer||Cr(s.data)))return e(On(s.data));an(s,!1,t=>{Gs||(Gs=new TextEncoder),e(Gs.encode(t))})}const Nn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$t=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let s=0;s<Nn.length;s++)$t[Nn.charCodeAt(s)]=s;const ri=s=>{let e=s.length*.75,t=s.length,n,r=0,i,o,a,l;s[s.length-1]==="="&&(e--,s[s.length-2]==="="&&e--);const c=new ArrayBuffer(e),g=new Uint8Array(c);for(n=0;n<t;n+=4)i=$t[s.charCodeAt(n)],o=$t[s.charCodeAt(n+1)],a=$t[s.charCodeAt(n+2)],l=$t[s.charCodeAt(n+3)],g[r++]=i<<2|o>>4,g[r++]=(o&15)<<4|a>>2,g[r++]=(a&3)<<6|l&63;return c},ii=typeof ArrayBuffer=="function",cn=(s,e)=>{if(typeof s!="string")return{type:"message",data:Ar(s,e)};const t=s.charAt(0);return t==="b"?{type:"message",data:oi(s.substring(1),e)}:Es[t]?s.length>1?{type:Es[t],data:s.substring(1)}:{type:Es[t]}:Zs},oi=(s,e)=>{if(ii){const t=ri(s);return Ar(t,e)}else return{base64:!0,data:s}},Ar=(s,e)=>{switch(e){case"blob":return s instanceof Blob?s:new Blob([s]);case"arraybuffer":default:return s instanceof ArrayBuffer?s:s.buffer}},Sr=String.fromCharCode(30),li=(s,e)=>{const t=s.length,n=new Array(t);let r=0;s.forEach((i,o)=>{an(i,!1,a=>{n[o]=a,++r===t&&e(n.join(Sr))})})},ai=(s,e)=>{const t=s.split(Sr),n=[];for(let r=0;r<t.length;r++){const i=cn(t[r],e);if(n.push(i),i.type==="error")break}return n};function ci(){return new TransformStream({transform(s,e){ni(s,t=>{const n=t.length;let r;if(n<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,n);else if(n<65536){r=new Uint8Array(3);const i=new DataView(r.buffer);i.setUint8(0,126),i.setUint16(1,n)}else{r=new Uint8Array(9);const i=new DataView(r.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(n))}s.data&&typeof s.data!="string"&&(r[0]|=128),e.enqueue(r),e.enqueue(t)})}})}let Qs;function vs(s){return s.reduce((e,t)=>e+t.length,0)}function ws(s,e){if(s[0].length===e)return s.shift();const t=new Uint8Array(e);let n=0;for(let r=0;r<e;r++)t[r]=s[0][n++],n===s[0].length&&(s.shift(),n=0);return s.length&&n<s[0].length&&(s[0]=s[0].slice(n)),t}function ui(s,e){Qs||(Qs=new TextDecoder);const t=[];let n=0,r=-1,i=!1;return new TransformStream({transform(o,a){for(t.push(o);;){if(n===0){if(vs(t)<1)break;const l=ws(t,1);i=(l[0]&128)===128,r=l[0]&127,r<126?n=3:r===126?n=1:n=2}else if(n===1){if(vs(t)<2)break;const l=ws(t,2);r=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),n=3}else if(n===2){if(vs(t)<8)break;const l=ws(t,8),c=new DataView(l.buffer,l.byteOffset,l.length),g=c.getUint32(0);if(g>Math.pow(2,53-32)-1){a.enqueue(Zs);break}r=g*Math.pow(2,32)+c.getUint32(4),n=3}else{if(vs(t)<r)break;const l=ws(t,r);a.enqueue(cn(i?l:Qs.decode(l),e)),n=0}if(r===0||r>s){a.enqueue(Zs);break}}}})}const Tr=4;function be(s){if(s)return fi(s)}function fi(s){for(var e in be.prototype)s[e]=be.prototype[e];return s}be.prototype.on=be.prototype.addEventListener=function(s,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+s]=this._callbacks["$"+s]||[]).push(e),this};be.prototype.once=function(s,e){function t(){this.off(s,t),e.apply(this,arguments)}return t.fn=e,this.on(s,t),this};be.prototype.off=be.prototype.removeListener=be.prototype.removeAllListeners=be.prototype.removeEventListener=function(s,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+s];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+s],this;for(var n,r=0;r<t.length;r++)if(n=t[r],n===e||n.fn===e){t.splice(r,1);break}return t.length===0&&delete this._callbacks["$"+s],this};be.prototype.emit=function(s){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+s],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(t){t=t.slice(0);for(var n=0,r=t.length;n<r;++n)t[n].apply(this,e)}return this};be.prototype.emitReserved=be.prototype.emit;be.prototype.listeners=function(s){return this._callbacks=this._callbacks||{},this._callbacks["$"+s]||[]};be.prototype.hasListeners=function(s){return!!this.listeners(s).length};const Xe=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function Pr(s,...e){return e.reduce((t,n)=>(s.hasOwnProperty(n)&&(t[n]=s[n]),t),{})}const hi=Xe.setTimeout,di=Xe.clearTimeout;function As(s,e){e.useNativeTimers?(s.setTimeoutFn=hi.bind(Xe),s.clearTimeoutFn=di.bind(Xe)):(s.setTimeoutFn=Xe.setTimeout.bind(Xe),s.clearTimeoutFn=Xe.clearTimeout.bind(Xe))}const pi=1.33;function mi(s){return typeof s=="string"?_i(s):Math.ceil((s.byteLength||s.size)*pi)}function _i(s){let e=0,t=0;for(let n=0,r=s.length;n<r;n++)e=s.charCodeAt(n),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(n++,t+=4);return t}function gi(s){let e="";for(let t in s)s.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(s[t]));return e}function bi(s){let e={},t=s.split("&");for(let n=0,r=t.length;n<r;n++){let i=t[n].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}class yi extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class un extends be{constructor(e){super(),this.writable=!1,As(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,t,n){return super.emitReserved("error",new yi(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=cn(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const t=gi(e);return t.length?"?"+t:""}}const Rr="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),xs=64,vi={};let qn=0,Bs=0,Dn;function Ln(s){let e="";do e=Rr[s%xs]+e,s=Math.floor(s/xs);while(s>0);return e}function Vr(){const s=Ln(+new Date);return s!==Dn?(qn=0,Dn=s):s+"."+Ln(qn++)}for(;Bs<xs;Bs++)vi[Rr[Bs]]=Bs;let zr=!1;try{zr=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const wi=zr;function Or(s){const e=s.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||wi))return new XMLHttpRequest}catch{}if(!e)try{return new Xe[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Bi(){}const ki=function(){return new Or({xdomain:!1}).responseType!=null}();class Ei extends un{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}const t=e&&e.forceBase64;this.supportsBinary=ki&&!t,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let n=0;this.polling&&(n++,this.once("pollComplete",function(){--n||t()})),this.writable||(n++,this.once("drain",function(){--n||t()}))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const t=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};ai(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,li(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=Vr()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new rt(this.uri(),e)}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(r,i)=>{this.onError("xhr post error",r,i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,n)=>{this.onError("xhr poll error",t,n)}),this.pollXhr=e}}class rt extends be{constructor(e,t){super(),As(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.data=t.data!==void 0?t.data:null,this.create()}create(){var e;const t=Pr(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd;const n=this.xhr=new Or(t);try{n.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let r in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&n.setRequestHeader(r,this.opts.extraHeaders[r])}}catch{}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this.opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{var r;n.readyState===3&&((r=this.opts.cookieJar)===null||r===void 0||r.parseCookies(n)),n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},n.send(this.data)}catch(r){this.setTimeoutFn(()=>{this.onError(r)},0);return}typeof document<"u"&&(this.index=rt.requestsCount++,rt.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Bi,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete rt.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}rt.requestsCount=0;rt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Mn);else if(typeof addEventListener=="function"){const s="onpagehide"in Xe?"pagehide":"unload";addEventListener(s,Mn,!1)}}function Mn(){for(let s in rt.requests)rt.requests.hasOwnProperty(s)&&rt.requests[s].abort()}const fn=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0))(),ks=Xe.WebSocket||Xe.MozWebSocket,Un=!0,Ii="arraybuffer",Hn=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Ci extends un{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,n=Hn?{}:Pr(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=Un&&!Hn?t?new ks(e,t):new ks(e):new ks(e,t,n)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;an(n,this.supportsBinary,i=>{const o={};try{Un&&this.ws.send(i)}catch{}r&&fn(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Vr()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}check(){return!!ks}}class Ai extends un{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{const t=ui(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=ci();r.readable.pipeTo(e.writable),this.writer=r.writable.getWriter();const i=()=>{n.read().then(({done:a,value:l})=>{a||(this.onPacket(l),i())}).catch(a=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this.writer.write(o).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this.writer.write(n).then(()=>{r&&fn(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this.transport)===null||e===void 0||e.close()}}const Si={websocket:Ci,webtransport:Ai,polling:Ei},Ti=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Pi=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function $s(s){const e=s,t=s.indexOf("["),n=s.indexOf("]");t!=-1&&n!=-1&&(s=s.substring(0,t)+s.substring(t,n).replace(/:/g,";")+s.substring(n,s.length));let r=Ti.exec(s||""),i={},o=14;for(;o--;)i[Pi[o]]=r[o]||"";return t!=-1&&n!=-1&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=Ri(i,i.path),i.queryKey=Vi(i,i.query),i}function Ri(s,e){const t=/\/{2,9}/g,n=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function Vi(s,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,r,i){r&&(t[r]=i)}),t}let Nr=class Ft extends be{constructor(e,t={}){super(),this.binaryType=Ii,this.writeBuffer=[],e&&typeof e=="object"&&(t=e,e=null),e?(e=$s(e),t.hostname=e.host,t.secure=e.protocol==="https"||e.protocol==="wss",t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=$s(t.host).host),As(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=bi(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=Tr,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new Si[e](n)}open(){let e;if(this.opts.rememberUpgrade&&Ft.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",t=>this.onClose("transport close",t))}probe(e){let t=this.createTransport(e),n=!1;Ft.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",p=>{if(!n)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Ft.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(g(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const b=new Error("probe error");b.transport=t.name,this.emitReserved("upgradeError",b)}}))};function i(){n||(n=!0,g(),t.close(),t=null)}const o=p=>{const b=new Error("probe error: "+p);b.transport=t.name,i(),this.emitReserved("upgradeError",b)};function a(){o("transport closed")}function l(){o("socket closed")}function c(p){t&&p.name!==t.name&&i()}const g=()=>{t.removeListener("open",r),t.removeListener("error",o),t.removeListener("close",a),this.off("close",l),this.off("upgrading",c)};t.once("open",r),t.once("error",o),t.once("close",a),this.once("close",l),this.once("upgrading",c),this.upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||t.open()},200):t.open()}onOpen(){if(this.readyState="open",Ft.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let n=0;n<this.writeBuffer.length;n++){const r=this.writeBuffer[n].data;if(r&&(t+=mi(r)),n>0&&t>this.maxPayload)return this.writeBuffer.slice(0,n);t+=2}return this.writeBuffer}write(e,t,n){return this.sendPacket("message",e,t,n),this}send(e,t,n){return this.sendPacket("message",e,t,n),this}sendPacket(e,t,n,r){if(typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const i={type:e,data:t,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}onError(e){Ft.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let n=0;const r=e.length;for(;n<r;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}};Nr.protocol=Tr;function zi(s,e="",t){let n=s;t=t||typeof location<"u"&&location,s==null&&(s=t.protocol+"//"+t.host),typeof s=="string"&&(s.charAt(0)==="/"&&(s.charAt(1)==="/"?s=t.protocol+s:s=t.host+s),/^(https?|wss?):\/\//.test(s)||(typeof t<"u"?s=t.protocol+"//"+s:s="https://"+s),n=$s(s)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+e,n.href=n.protocol+"://"+i+(t&&t.port===n.port?"":":"+n.port),n}const Oi=typeof ArrayBuffer=="function",Ni=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s.buffer instanceof ArrayBuffer,qr=Object.prototype.toString,qi=typeof Blob=="function"||typeof Blob<"u"&&qr.call(Blob)==="[object BlobConstructor]",Di=typeof File=="function"||typeof File<"u"&&qr.call(File)==="[object FileConstructor]";function hn(s){return Oi&&(s instanceof ArrayBuffer||Ni(s))||qi&&s instanceof Blob||Di&&s instanceof File}function Is(s,e){if(!s||typeof s!="object")return!1;if(Array.isArray(s)){for(let t=0,n=s.length;t<n;t++)if(Is(s[t]))return!0;return!1}if(hn(s))return!0;if(s.toJSON&&typeof s.toJSON=="function"&&arguments.length===1)return Is(s.toJSON(),!0);for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t)&&Is(s[t]))return!0;return!1}function Li(s){const e=[],t=s.data,n=s;return n.data=en(t,e),n.attachments=e.length,{packet:n,buffers:e}}function en(s,e){if(!s)return s;if(hn(s)){const t={_placeholder:!0,num:e.length};return e.push(s),t}else if(Array.isArray(s)){const t=new Array(s.length);for(let n=0;n<s.length;n++)t[n]=en(s[n],e);return t}else if(typeof s=="object"&&!(s instanceof Date)){const t={};for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=en(s[n],e));return t}return s}function Mi(s,e){return s.data=tn(s.data,e),delete s.attachments,s}function tn(s,e){if(!s)return s;if(s&&s._placeholder===!0){if(typeof s.num=="number"&&s.num>=0&&s.num<e.length)return e[s.num];throw new Error("illegal attachments")}else if(Array.isArray(s))for(let t=0;t<s.length;t++)s[t]=tn(s[t],e);else if(typeof s=="object")for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&(s[t]=tn(s[t],e));return s}const Ui=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Hi=5;var x;(function(s){s[s.CONNECT=0]="CONNECT",s[s.DISCONNECT=1]="DISCONNECT",s[s.EVENT=2]="EVENT",s[s.ACK=3]="ACK",s[s.CONNECT_ERROR=4]="CONNECT_ERROR",s[s.BINARY_EVENT=5]="BINARY_EVENT",s[s.BINARY_ACK=6]="BINARY_ACK"})(x||(x={}));class Fi{constructor(e){this.replacer=e}encode(e){return(e.type===x.EVENT||e.type===x.ACK)&&Is(e)?this.encodeAsBinary({type:e.type===x.EVENT?x.BINARY_EVENT:x.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===x.BINARY_EVENT||e.type===x.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Li(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}function Fn(s){return Object.prototype.toString.call(s)==="[object Object]"}class dn extends be{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===x.BINARY_EVENT;n||t.type===x.BINARY_ACK?(t.type=n?x.EVENT:x.ACK,this.reconstructor=new ji(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(hn(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(x[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===x.BINARY_EVENT||n.type===x.BINARY_ACK){const i=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);const o=e.substring(i,t);if(o!=Number(o)||e.charAt(t)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(e.charAt(t+1)==="/"){const i=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););n.nsp=e.substring(i,t)}else n.nsp="/";const r=e.charAt(t+1);if(r!==""&&Number(r)==r){const i=t+1;for(;++t;){const o=e.charAt(t);if(o==null||Number(o)!=o){--t;break}if(t===e.length)break}n.id=Number(e.substring(i,t+1))}if(e.charAt(++t)){const i=this.tryParse(e.substr(t));if(dn.isPayloadValid(n.type,i))n.data=i;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case x.CONNECT:return Fn(t);case x.DISCONNECT:return t===void 0;case x.CONNECT_ERROR:return typeof t=="string"||Fn(t);case x.EVENT:case x.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&Ui.indexOf(t[0])===-1);case x.ACK:case x.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class ji{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=Mi(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Wi=Object.freeze(Object.defineProperty({__proto__:null,Decoder:dn,Encoder:Fi,get PacketType(){return x},protocol:Hi},Symbol.toStringTag,{value:"Module"}));function xe(s,e,t){return s.on(e,t),function(){s.off(e,t)}}const Ji=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Dr extends be{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[xe(e,"open",this.onopen.bind(this)),xe(e,"packet",this.onpacket.bind(this)),xe(e,"error",this.onerror.bind(this)),xe(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(Ji.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const n={type:x.EVENT,data:t};if(n.options={},n.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const o=this.ids++,a=t.pop();this._registerAckCallback(o,a),n.id=o}const r=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!r||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(e,t){var n;const r=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(r===void 0){this.acks[e]=t;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);t.call(this,new Error("operation has timed out"))},r);this.acks[e]=(...o)=>{this.io.clearTimeoutFn(i),t.apply(this,[null,...o])}}emitWithAck(e,...t){const n=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((r,i)=>{t.push((o,a)=>n?o?i(o):r(a):r(o)),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((r,...i)=>n!==this._queue[0]?void 0:(r!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(r)):(this._queue.shift(),t&&t(null,...i)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:x.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case x.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case x.EVENT:case x.BINARY_EVENT:this.onevent(e);break;case x.ACK:case x.BINARY_ACK:this.onack(e);break;case x.DISCONNECT:this.ondisconnect();break;case x.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(...r){n||(n=!0,t.packet({type:x.ACK,id:e,data:r}))}}onack(e){const t=this.acks[e.id];typeof t=="function"&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:x.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function Wt(s){s=s||{},this.ms=s.min||100,this.max=s.max||1e4,this.factor=s.factor||2,this.jitter=s.jitter>0&&s.jitter<=1?s.jitter:0,this.attempts=0}Wt.prototype.duration=function(){var s=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*s);s=Math.floor(e*10)&1?s+t:s-t}return Math.min(s,this.max)|0};Wt.prototype.reset=function(){this.attempts=0};Wt.prototype.setMin=function(s){this.ms=s};Wt.prototype.setMax=function(s){this.max=s};Wt.prototype.setJitter=function(s){this.jitter=s};class sn extends be{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,As(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((n=t.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Wt({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;const r=t.parser||Wi;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Nr(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=xe(t,"open",function(){n.onopen(),e&&e()}),i=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=xe(t,"error",i);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{r(),i(new Error("timeout")),t.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(r),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(xe(e,"ping",this.onping.bind(this)),xe(e,"data",this.ondata.bind(this)),xe(e,"error",this.onerror.bind(this)),xe(e,"close",this.onclose.bind(this)),xe(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){fn(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new Dr(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t)if(this.nsps[n].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(r=>{r?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",r)):e.onreconnect()}))},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const xt={};function Cs(s,e){typeof s=="object"&&(e=s,s=void 0),e=e||{};const t=zi(s,e.path||"/socket.io"),n=t.source,r=t.id,i=t.path,o=xt[r]&&i in xt[r].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let l;return a?l=new sn(n,e):(xt[r]||(xt[r]=new sn(n,e)),l=xt[r]),t.query&&!e.query&&(e.query=t.queryKey),l.socket(t.path,e)}Object.assign(Cs,{Manager:sn,Socket:Dr,io:Cs,connect:Cs});const ce=Cs("https://originaltrial.onrender.com",{reconnection:!0,reconnectionAttempts:30,reconnectionDelay:1e3,timeout:2e4});ce.on("connect",()=>{console.log("User connected on socketID:",ce.id)});ce.on("disconnect",()=>{console.log("User disconnected"),At.subscribe(s=>{s&&At.set(null)})});const St=ln();function Ki(s){let e,t;const n=s[1].default,r=Yr(n,s,s[0],null);return{c(){e=m("div"),r&&r.c(),this.h()},l(i){e=_(i,"DIV",{class:!0});var o=B(e);r&&r.l(o),o.forEach(h),this.h()},h(){f(e,"class","h-full w-full flex flex-col bg-neutral-900 bg-gradient-to-b from-neutral-600")},m(i,o){N(i,e,o),r&&r.m(e,null),t=!0},p(i,[o]){r&&r.p&&(!t||o&1)&&Xr(r,n,i,i[0],t?Qr(n,i[0],o,null):Gr(i[0]),null)},i(i){t||(X(r,i),t=!0)},o(i){Q(r,i),t=!1},d(i){i&&h(e),r&&r.d(i)}}}function Yi(s,e,t){let{$$slots:n={},$$scope:r}=e;return s.$$set=i=>{"$$scope"in i&&t(0,r=i.$$scope)},[r,n]}class Xi extends je{constructor(e){super(),We(this,e,Yi,Ki,Fe,{})}}function jn(s){let e,t=s[0].message+"",n;return{c(){e=m("p"),n=j(t),this.h()},l(r){e=_(r,"P",{class:!0});var i=B(e);n=W(i,t),i.forEach(h),this.h()},h(){f(e,"class","my-1 text-red-500")},m(r,i){N(r,e,i),u(e,n)},p(r,i){i&1&&t!==(t=r[0].message+"")&&G(n,t)},d(r){r&&h(e)}}}function Gi(s){let e,t,n,r,i,o,a,l,c,g,p,b,y=s[0].message&&jn(s);return{c(){e=m("form"),t=m("input"),n=A(),r=m("input"),i=A(),o=m("button"),a=j("Login"),c=A(),y&&y.c(),g=we(),this.h()},l(v){e=_(v,"FORM",{class:!0});var w=B(e);t=_(w,"INPUT",{class:!0,placeholder:!0,name:!0,type:!0,autocomplete:!0}),n=S(w),r=_(w,"INPUT",{class:!0,placeholder:!0,name:!0,type:!0,autocomplete:!0}),i=S(w),o=_(w,"BUTTON",{class:!0,type:!0});var C=B(o);a=W(C,"Login"),C.forEach(h),w.forEach(h),c=S(v),y&&y.l(v),g=we(),this.h()},h(){f(t,"class","auth"),t.required=!0,f(t,"placeholder","Username"),f(t,"name","username"),f(t,"type","text"),f(t,"autocomplete","username"),f(r,"class","auth"),r.required=!0,f(r,"placeholder","Password"),f(r,"name","password"),f(r,"type","password"),f(r,"autocomplete","current-password"),o.disabled=l=s[0].btnDisabled,f(o,"class","auth filled mx-auto disabled:opacity-75"),f(o,"type","submit"),f(e,"class","flex w-full max-w-xs flex-col gap-4 px-2")},m(v,w){N(v,e,w),u(e,t),u(e,n),u(e,r),u(e,i),u(e,o),u(o,a),N(v,c,w),y&&y.m(v,w),N(v,g,w),p||(b=te(e,"submit",Br(s[1])),p=!0)},p(v,[w]){w&1&&l!==(l=v[0].btnDisabled)&&(o.disabled=l),v[0].message?y?y.p(v,w):(y=jn(v),y.c(),y.m(g.parentNode,g)):y&&(y.d(1),y=null)},i:ie,o:ie,d(v){v&&(h(e),h(c),h(g)),y&&y.d(v),p=!1,b()}}}function Qi(s,e,t){async function n(i){t(0,r={message:"",btnDisabled:!0});const o=new FormData(i.target),a=o.get("username"),l=o.get("password");console.log(a,l),ce.emit("signIn",{user:a,password:l})}ce.on("signInResponse",({response:i,status:o,user:a,error:l=""})=>{switch(console.log("signInResponse"),o){case 403:t(0,r.message=l,r);break}t(0,r.btnDisabled=!1,r)});let r={message:"",btnDisabled:!1};return[r,n]}class Zi extends je{constructor(e){super(),We(this,e,Qi,Gi,Fe,{})}}function Wn(s){let e,t=s[0].message+"",n;return{c(){e=m("p"),n=j(t),this.h()},l(r){e=_(r,"P",{class:!0});var i=B(e);n=W(i,t),i.forEach(h),this.h()},h(){f(e,"class","my-2 text-red-700")},m(r,i){N(r,e,i),u(e,n)},p(r,i){i&1&&t!==(t=r[0].message+"")&&G(n,t)},d(r){r&&h(e)}}}function xi(s){let e,t,n,r,i,o,a,l,c,g,p,b,y,v,w,C,k,O,V=s[0].message&&Wn(s);return{c(){e=m("form"),t=m("input"),n=A(),r=m("input"),i=A(),o=m("input"),a=A(),l=m("input"),c=A(),g=m("input"),p=A(),b=m("button"),y=j("Register"),w=A(),V&&V.c(),C=we(),this.h()},l(E){e=_(E,"FORM",{class:!0});var T=B(e);t=_(T,"INPUT",{class:!0,placeholder:!0,name:!0,type:!0,autocomplete:!0}),n=S(T),r=_(T,"INPUT",{class:!0,placeholder:!0,name:!0,type:!0,autocomplete:!0}),i=S(T),o=_(T,"INPUT",{class:!0,placeholder:!0,name:!0,type:!0,autocomplete:!0}),a=S(T),l=_(T,"INPUT",{class:!0,placeholder:!0,name:!0,type:!0,autocomplete:!0}),c=S(T),g=_(T,"INPUT",{class:!0,placeholder:!0,name:!0,type:!0,autocomplete:!0}),p=S(T),b=_(T,"BUTTON",{class:!0,type:!0});var D=B(b);y=W(D,"Register"),D.forEach(h),T.forEach(h),w=S(E),V&&V.l(E),C=we(),this.h()},h(){f(t,"class","auth"),t.required=!0,f(t,"placeholder","Username"),f(t,"name","username"),f(t,"type","text"),f(t,"autocomplete","username"),f(r,"class","auth"),r.required=!0,f(r,"placeholder","Password"),f(r,"name","password"),f(r,"type","password"),f(r,"autocomplete","new-password"),f(o,"class","auth"),o.required=!0,f(o,"placeholder","Confirm Password"),f(o,"name","confirm_password"),f(o,"type","password"),f(o,"autocomplete","new-password"),f(l,"class","auth"),l.required=!0,f(l,"placeholder","E-mail"),f(l,"name","email"),f(l,"type","email"),f(l,"autocomplete","email"),f(g,"class","auth"),g.required=!0,f(g,"placeholder","Repeat your E-mail"),f(g,"name","confirm_email"),f(g,"type","email"),f(g,"autocomplete","email"),b.disabled=v=s[0].btnDisabled,f(b,"class","auth filled mx-auto disabled:opacity-75"),f(b,"type","submit"),f(e,"class","mb-2 flex w-full max-w-xs flex-col gap-4 px-2")},m(E,T){N(E,e,T),u(e,t),u(e,n),u(e,r),u(e,i),u(e,o),u(e,a),u(e,l),u(e,c),u(e,g),u(e,p),u(e,b),u(b,y),N(E,w,T),V&&V.m(E,T),N(E,C,T),k||(O=te(e,"submit",Br(s[1])),k=!0)},p(E,[T]){T&1&&v!==(v=E[0].btnDisabled)&&(b.disabled=v),E[0].message?V?V.p(E,T):(V=Wn(E),V.c(),V.m(C.parentNode,C)):V&&(V.d(1),V=null)},i:ie,o:ie,d(E){E&&(h(e),h(w),h(C)),V&&V.d(E),k=!1,O()}}}function $i(s,e,t){let n,r;async function i(a){t(0,o={message:"",btnDisabled:!0}),console.log("handleSignup");const l=new FormData(a.target),c=l.get("confirm_password"),g=l.get("email"),p=l.get("confirm_email");if(n=l.get("username"),r=l.get("password"),r!==c)return t(0,o={message:"Password not match",btnDisabled:!1});if(g!==p)return t(0,o={message:"Email not match",btnDisabled:!1});console.log(n,r),ce.emit("signUp",{user:n,password:r,email:g})}ce.on("signUpResponse",({status:a,error:l=""})=>{switch(console.log("signUpResponse"),a){case 200:ce.emit("signIn",{user:n,password:r});break;case 403:t(0,o.message=l,o);break}t(0,o.btnDisabled=!1,o)});let o={message:"",btnDisabled:!1};return[o,i]}class eo extends je{constructor(e){super(),We(this,e,$i,xi,Fe,{})}}function to(s){let e,t,n,r="Already have a account? <u>Login here</u>",i,o,a;return e=new eo({}),{c(){Oe(e.$$.fragment),t=A(),n=m("button"),n.innerHTML=r,this.h()},l(l){Ne(e.$$.fragment,l),t=S(l),n=_(l,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(n)!=="svelte-6z6t3e"&&(n.innerHTML=r),this.h()},h(){f(n,"class","mx-auto rounded text-sm text-white")},m(l,c){qe(e,l,c),N(l,t,c),N(l,n,c),i=!0,o||(a=te(n,"click",s[3]),o=!0)},p:ie,i(l){i||(X(e.$$.fragment,l),i=!0)},o(l){Q(e.$$.fragment,l),i=!1},d(l){l&&(h(t),h(n)),De(e,l),o=!1,a()}}}function so(s){let e,t,n,r="Forgot your Password?",i,o,a="Register",l,c,g;return e=new Zi({}),{c(){Oe(e.$$.fragment),t=A(),n=m("button"),n.textContent=r,i=A(),o=m("button"),o.textContent=a,this.h()},l(p){Ne(e.$$.fragment,p),t=S(p),n=_(p,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(n)!=="svelte-866qp3"&&(n.textContent=r),i=S(p),o=_(p,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(o)!=="svelte-1kunee3"&&(o.textContent=a),this.h()},h(){f(n,"class","mb-4 mt-0.5 text-sm text-white underline underline-offset-2"),f(o,"class","auth ringed")},m(p,b){qe(e,p,b),N(p,t,b),N(p,n,b),N(p,i,b),N(p,o,b),l=!0,c||(g=te(o,"click",s[2]),c=!0)},p:ie,i(p){l||(X(e.$$.fragment,p),l=!0)},o(p){Q(e.$$.fragment,p),l=!1},d(p){p&&(h(t),h(n),h(i),h(o)),De(e,p),c=!1,g()}}}function no(s){let e,t,n,r,i,o,a,l,c,g='<p class="text-white">Need help?</p> <a href="tel:+551195284-4514" class="text-white">(11)95284-4514</a>',p,b,y='<p class="text-neutral-500">Terms of Service &amp; Privacy Policy</p>',v;const w=[so,to],C=[];function k(O,V){return O[0]===O[1].signin?0:O[0]===O[1].signup?1:-1}return~(o=k(s))&&(a=C[o]=w[o](s)),{c(){e=m("section"),t=m("img"),r=A(),i=m("div"),a&&a.c(),l=A(),c=m("div"),c.innerHTML=g,p=A(),b=m("div"),b.innerHTML=y,this.h()},l(O){e=_(O,"SECTION",{class:!0});var V=B(e);t=_(V,"IMG",{class:!0,alt:!0,src:!0}),r=S(V),i=_(V,"DIV",{class:!0});var E=B(i);a&&a.l(E),E.forEach(h),l=S(V),c=_(V,"DIV",{class:!0,"data-svelte-h":!0}),oe(c)!=="svelte-rpqs74"&&(c.innerHTML=g),p=S(V),b=_(V,"DIV",{class:!0,"data-svelte-h":!0}),oe(b)!=="svelte-3d58ij"&&(b.innerHTML=y),V.forEach(h),this.h()},h(){f(t,"class","h-14"),f(t,"alt","logo"),on(t.src,n="/logos/OriginalLogoWhite.png")||f(t,"src",n),f(i,"class","flex w-full flex-col items-center justify-center"),f(c,"class","flex flex-col items-center justify-center"),f(b,"class","flex items-center justify-center"),f(e,"class","flex h-full w-full flex-col items-center justify-between py-10")},m(O,V){N(O,e,V),u(e,t),u(e,r),u(e,i),~o&&C[o].m(i,null),u(e,l),u(e,c),u(e,p),u(e,b),v=!0},p(O,[V]){let E=o;o=k(O),o===E?~o&&C[o].p(O,V):(a&&(_t(),Q(C[E],1,1,()=>{C[E]=null}),gt()),~o?(a=C[o],a?a.p(O,V):(a=C[o]=w[o](O),a.c()),X(a,1),a.m(i,null)):a=null)},i(O){v||(X(a),v=!0)},o(O){Q(a),v=!1},d(O){O&&h(e),~o&&C[o].d()}}}function ro(s,e,t){const n={signin:0,signup:1};let r=n.signin;return[r,n,()=>t(0,r=n.signup),()=>t(0,r=n.signin)]}class io extends je{constructor(e){super(),We(this,e,ro,no,Fe,{})}}const nn=ln({lightning1:{gameTitle:"NL 10",blinds:"$0.05 / $0.10",players:0,minBuyIn:2,maxBuyIn:10,buyInAmount:-1},lightning2:{gameTitle:"NL 50",blinds:"$0.25 / $0.50",players:0,minBuyIn:10,maxBuyIn:50,buyInAmount:-1},lightning3:{gameTitle:"NL 100",blinds:"$0.50 / $1.00",players:0,minBuyIn:20,maxBuyIn:100,buyInAmount:-1},lightning4:{gameTitle:"NL 200",blinds:"$1.00 / $2.00",players:0,minBuyIn:40,maxBuyIn:200,buyInAmount:-1}});function Jn(s,e,t){const n=s.slice();return n[5]=e[t][0],n[6]=e[t][1],n}function oo(s){let e=s[2][s[6].poolID].gameTitle+"",t;return{c(){t=j(e)},l(n){t=W(n,e)},m(n,r){N(n,t,r)},p(n,r){r&5&&e!==(e=n[2][n[6].poolID].gameTitle+"")&&G(t,e)},d(n){n&&h(t)}}}function lo(s){let e;return{c(){e=j("Lobby")},l(t){e=W(t,"Lobby")},m(t,n){N(t,e,n)},p:ie,d(t){t&&h(e)}}}function Kn(s,e){let t,n,r,i,o;function a(p,b){return p[5]==="lobby"?lo:oo}let l=a(e),c=l(e);function g(){return e[4](e[5])}return{key:s,first:null,c(){t=m("button"),n=m("p"),c.c(),r=A(),this.h()},l(p){t=_(p,"BUTTON",{class:!0});var b=B(t);n=_(b,"P",{class:!0});var y=B(n);c.l(y),y.forEach(h),r=S(b),b.forEach(h),this.h()},h(){f(n,"class","whitespace-nowrap"),f(t,"class","rounded border-2 border-amber-300 bg-black px-2 py-1 text-sm font-bold uppercase text-emerald-400"),Y(t,"border-amber-300",e[1]===e[5]),this.first=t},m(p,b){N(p,t,b),u(t,n),c.m(n,null),u(t,r),i||(o=te(t,"click",g),i=!0)},p(p,b){e=p,l===(l=a(e))&&c?c.p(e,b):(c.d(1),c=l(e),c&&(c.c(),c.m(n,null))),b&3&&Y(t,"border-amber-300",e[1]===e[5])},d(p){p&&h(t),c.d(),i=!1,o()}}}function ao(s){let e,t=[],n=new Map,r=ge(Object.entries({lobby:null,...s[0].players}));const i=o=>o[5];for(let o=0;o<r.length;o+=1){let a=Jn(s,r,o),l=i(a);n.set(l,t[o]=Kn(l,a))}return{c(){e=m("div");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=_(o,"DIV",{class:!0});var a=B(e);for(let l=0;l<t.length;l+=1)t[l].l(a);a.forEach(h),this.h()},h(){f(e,"class","flex h-14 w-full items-center gap-x-2 overflow-x-auto bg-slate-700 px-2")},m(o,a){N(o,e,a);for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(e,null)},p(o,[a]){a&15&&(r=ge(Object.entries({lobby:null,...o[0].players})),t=kr(t,a,i,1,o,r,n,e,$r,Kn,null,Jn))},i:ie,o:ie,d(o){o&&h(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function co(s,e,t){let n,r,i;nt(s,At,l=>t(0,n=l)),nt(s,St,l=>t(1,r=l)),nt(s,nn,l=>t(2,i=l));function o(l){St.set(l)}return[n,r,i,o,l=>o(l)]}class uo extends je{constructor(e){super(),We(this,e,co,ao,Fe,{})}}function Yn(s,e,t){const n=s.slice();return n[5]=e[t][0],n[6]=e[t][1],n}function Xn(s){let e,t,n=s[6].gameTitle+"",r,i,o,a,l,c="Blinds",g,p,b=s[6].blinds+"",y,v,w,C,k="Players",O,V,E=s[6].players+"",T,D,R,L,P,$="Min",ue,se,U,ee=s[6].minBuyIn+"",M,J,K,le,ye="Max",Z,pe,Be,me=s[6].maxBuyIn+"",ne,Se,_e,z="Join now",Je,Te,ot;return{c(){e=m("div"),t=m("h3"),r=j(n),i=A(),o=m("div"),a=m("div"),l=m("p"),l.textContent=c,g=A(),p=m("p"),y=j(b),v=A(),w=m("div"),C=m("p"),C.textContent=k,O=A(),V=m("p"),T=j(E),D=A(),R=m("div"),L=m("div"),P=m("p"),P.textContent=$,ue=A(),se=m("p"),U=j("$"),M=j(ee),J=A(),K=m("div"),le=m("p"),le.textContent=ye,Z=A(),pe=m("p"),Be=j("$"),ne=j(me),Se=A(),_e=m("button"),_e.textContent=z,Je=A(),this.h()},l(Pe){e=_(Pe,"DIV",{class:!0});var re=B(e);t=_(re,"H3",{class:!0});var Ue=B(t);r=W(Ue,n),Ue.forEach(h),i=S(re),o=_(re,"DIV",{class:!0});var Ie=B(o);a=_(Ie,"DIV",{});var He=B(a);l=_(He,"P",{class:!0,"data-svelte-h":!0}),oe(l)!=="svelte-1pvh4tj"&&(l.textContent=c),g=S(He),p=_(He,"P",{class:!0});var bt=B(p);y=W(bt,b),bt.forEach(h),He.forEach(h),v=S(Ie),w=_(Ie,"DIV",{});var Re=B(w);C=_(Re,"P",{class:!0,"data-svelte-h":!0}),oe(C)!=="svelte-gbpa8t"&&(C.textContent=k),O=S(Re),V=_(Re,"P",{class:!0});var Tt=B(V);T=W(Tt,E),Tt.forEach(h),Re.forEach(h),D=S(Ie),R=_(Ie,"DIV",{class:!0});var $e=B(R);L=_($e,"DIV",{});var Le=B(L);P=_(Le,"P",{class:!0,"data-svelte-h":!0}),oe(P)!=="svelte-1oc3aez"&&(P.textContent=$),ue=S(Le),se=_(Le,"P",{class:!0});var lt=B(se);U=W(lt,"$"),M=W(lt,ee),lt.forEach(h),Le.forEach(h),J=S($e),K=_($e,"DIV",{});var ke=B(K);le=_(ke,"P",{class:!0,"data-svelte-h":!0}),oe(le)!=="svelte-1yeybox"&&(le.textContent=ye),Z=S(ke),pe=_(ke,"P",{class:!0});var Ke=B(pe);Be=W(Ke,"$"),ne=W(Ke,me),Ke.forEach(h),ke.forEach(h),$e.forEach(h),Ie.forEach(h),Se=S(re),_e=_(re,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(_e)!=="svelte-z142ym"&&(_e.textContent=z),Je=S(re),re.forEach(h),this.h()},h(){f(t,"class","text-center text-2xl font-extrabold"),f(l,"class","description"),f(p,"class","title"),f(C,"class","description"),f(V,"class","title"),f(P,"class","description"),f(se,"class","title"),f(le,"class","description"),f(pe,"class","title"),f(R,"class","flex justify-around"),f(o,"class","space-y-4 border-y-2 border-zinc-600 py-2 text-center"),f(_e,"class","mx-auto !mb-2 !mt-4 w-full rounded-lg bg-blue-400 py-1 text-center text-sm font-extrabold uppercase"),f(e,"class","w-36 space-y-2 rounded-lg border-2 border-[rgb(69,69,69)] bg-[rgb(49,49,49)] p-2 text-white")},m(Pe,re){N(Pe,e,re),u(e,t),u(t,r),u(e,i),u(e,o),u(o,a),u(a,l),u(a,g),u(a,p),u(p,y),u(o,v),u(o,w),u(w,C),u(w,O),u(w,V),u(V,T),u(o,D),u(o,R),u(R,L),u(L,P),u(L,ue),u(L,se),u(se,U),u(se,M),u(R,J),u(R,K),u(K,le),u(K,Z),u(K,pe),u(pe,Be),u(pe,ne),u(e,Se),u(e,_e),u(e,Je),Te||(ot=te(_e,"click",function(){Zr(s[2](s[5]))&&s[2](s[5]).apply(this,arguments)}),Te=!0)},p(Pe,re){s=Pe,re&2&&n!==(n=s[6].gameTitle+"")&&G(r,n),re&2&&b!==(b=s[6].blinds+"")&&G(y,b),re&2&&E!==(E=s[6].players+"")&&G(T,E),re&2&&ee!==(ee=s[6].minBuyIn+"")&&G(M,ee),re&2&&me!==(me=s[6].maxBuyIn+"")&&G(ne,me)},d(Pe){Pe&&h(e),Te=!1,ot()}}}function fo(s){let e,t,n,r="Lightning Cash",i,o,a=ge(Object.entries(s[1])),l=[];for(let c=0;c<a.length;c+=1)l[c]=Xn(Yn(s,a,c));return{c(){e=m("div"),t=m("section"),n=m("h2"),n.textContent=r,i=A(),o=m("div");for(let c=0;c<l.length;c+=1)l[c].c();this.h()},l(c){e=_(c,"DIV",{class:!0});var g=B(e);t=_(g,"SECTION",{});var p=B(t);n=_(p,"H2",{class:!0,"data-svelte-h":!0}),oe(n)!=="svelte-1qy4o4j"&&(n.textContent=r),i=S(p),o=_(p,"DIV",{class:!0});var b=B(o);for(let y=0;y<l.length;y+=1)l[y].l(b);b.forEach(h),p.forEach(h),g.forEach(h),this.h()},h(){f(n,"class","pb-2 pl-6 pt-4 text-lg font-bold uppercase tracking-widest text-white"),f(o,"class","grid max-w-fit grid-flow-col gap-x-2 overflow-x-auto px-3"),f(e,"class","h-full"),Y(e,"hidden",!s[0])},m(c,g){N(c,e,g),u(e,t),u(t,n),u(t,i),u(t,o);for(let p=0;p<l.length;p+=1)l[p]&&l[p].m(o,null)},p(c,[g]){if(g&6){a=ge(Object.entries(c[1]));let p;for(p=0;p<a.length;p+=1){const b=Yn(c,a,p);l[p]?l[p].p(b,g):(l[p]=Xn(b),l[p].c(),l[p].m(o,null))}for(;p<l.length;p+=1)l[p].d(1);l.length=a.length}g&1&&Y(e,"hidden",!c[0])},i:ie,o:ie,d(c){c&&h(e),Ct(l,c)}}}function ho(s,e,t){let n,r,i,o;nt(s,At,l=>t(4,r=l)),nt(s,nn,l=>t(1,i=l)),nt(s,St,l=>t(3,o=l)),ce.on("updatePools",l=>{console.log("updatePools");let c=i;Object.keys(l).forEach(g=>{const p=l[g],b=c[g];b.gameTitle=p.gameTitle,b.blinds=`$${p.sb.toFixed(2)} / $${p.bb.toFixed(2)}`,b.minBuyIn=p.minBuyIn,b.maxBuyIn=p.maxBuyIn,b.players=p.currentPlayers,b.buyInAmount===-1&&(b.buyInAmount=p.maxBuyIn)}),console.log(c),nn.set(c)}),ce.on("enterPoolResponse",l=>{if(console.log("enterPoolResponse"),console.log(l),l.status===200){const c=l.player.id;if(!c)throw new Error("Can't get player ID");At.update(g=>{if(g===null)throw new Error("User doesn't exist");return g.players={...g.players,[c]:l.player},console.log(g),g}),St.set(c)}});function a(l){console.log("openNewTable");let c=parseFloat(i[l].buyInAmount.toString());c=Math.round(c*100)/100;const g=(r==null?void 0:r.balance)||0;return console.log(c),console.log(g),console.log(i[l].minBuyIn),console.log(i[l].maxBuyIn),console.log(g<i[l].buyInAmount||i[l].buyInAmount<i[l].minBuyIn||i[l].buyInAmount>i[l].maxBuyIn),c>0&&Object.keys(r==null?void 0:r.players).length<4&&ce.emit("enterPool",{poolID:l,stackSize:c}),null}return s.$$.update=()=>{s.$$.dirty&8&&t(0,n=o==="lobby")},[n,i,a,o]}class po extends je{constructor(e){super(),We(this,e,ho,fo,Fe,{})}}function mo(s){var O,V;let e,t,n,r,i,o,a=s[0].toLocaleTimeString()+"",l,c,g,p=((O=s[2])==null?void 0:O.name)+"",b,y,v,w,C=((V=s[2])==null?void 0:V.balance)+"",k;return{c(){e=m("div"),t=m("img"),r=A(),i=m("div"),o=m("p"),l=j(a),c=A(),g=m("p"),b=j(p),y=A(),v=m("p"),w=j("$"),k=j(C),this.h()},l(E){e=_(E,"DIV",{class:!0});var T=B(e);t=_(T,"IMG",{class:!0,src:!0}),r=S(T),i=_(T,"DIV",{class:!0});var D=B(i);o=_(D,"P",{});var R=B(o);l=W(R,a),R.forEach(h),c=S(D),g=_(D,"P",{class:!0});var L=B(g);b=W(L,p),L.forEach(h),y=S(D),v=_(D,"P",{});var P=B(v);w=W(P,"$"),k=W(P,C),P.forEach(h),D.forEach(h),T.forEach(h),this.h()},h(){f(t,"class","ml-2 h-12"),on(t.src,n="/logos/OriginalLogoWhite.png")||f(t,"src",n),f(g,"class","font-bold"),f(i,"class","grid text-center"),f(e,"class","flex items-center justify-between p-2 text-white"),Y(e,"hidden",!s[1])},m(E,T){N(E,e,T),u(e,t),u(e,r),u(e,i),u(i,o),u(o,l),u(i,c),u(i,g),u(g,b),u(i,y),u(i,v),u(v,w),u(v,k)},p(E,[T]){var D,R;T&1&&a!==(a=E[0].toLocaleTimeString()+"")&&G(l,a),T&4&&p!==(p=((D=E[2])==null?void 0:D.name)+"")&&G(b,p),T&4&&C!==(C=((R=E[2])==null?void 0:R.balance)+"")&&G(k,C),T&2&&Y(e,"hidden",!E[1])},i:ie,o:ie,d(E){E&&h(e)}}}function _o(s,e,t){let n,r,i;nt(s,St,a=>t(3,r=a)),nt(s,At,a=>t(2,i=a));let o=new Date;return setInterval(()=>{t(0,o=new Date)},1e3*1),s.$$.update=()=>{s.$$.dirty&8&&t(1,n=r==="lobby")},[o,n,i,r]}class go extends je{constructor(e){super(),We(this,e,_o,mo,Fe,{})}}function bo(s){let e,t;return{c(){e=m("a"),t=m("div"),this.h()},l(n){e=_(n,"A",{class:!0,href:!0});var r=B(e);t=_(r,"DIV",{class:!0,style:!0}),B(t).forEach(h),r.forEach(h),this.h()},h(){f(t,"class","adsImage svelte-19xb7at"),f(t,"style",s[0]),f(e,"class","adsDiv svelte-19xb7at"),f(e,"href",s[1])},m(n,r){N(n,e,r),u(e,t)},p(n,[r]){r&1&&f(t,"style",n[0]),r&2&&f(e,"href",n[1])},i:ie,o:ie,d(n){n&&h(e)}}}function yo(s,e,t){let n,r,i,{adsIndex:o=0}=e;const a=()=>{t(2,o=Math.floor(Math.random()*c.length))},l=["onfire proporo.png","jbl wave.png","monitor gamer.png","moob cadeira.png","SUITS.png"],c=["https://wa.me/5567999755676","https://www.amazon.com.br/Fones-ouvido-JBL-Wave-Buds/dp/B0BHDRW1DJ/ref=sr_1_30?crid=17T8BQGWFZ1TZ&keywords=fone+de+ouvido+bluetooth&qid=1696690494&sprefix=fone+de+ouvido%2Caps%2C224&sr=8-30&ufe=app_do%3Aamzn1.fos.db68964d-7c0e-4bb2-a95c-e5cb9e32eb12","https://www.amazon.com.br/Monitor-Gamer-AOC-SPEED-75Hz/dp/B08TMTQH9H/ref=sr_1_11?__mk_pt_BR=%C3%85M%C3%85%C5%BD%C3%95%C3%91&crid=7I89CUXI7OED&keywords=monitor&qid=1696691981&sprefix=monitor%2Caps%2C224&sr=8-11&ufe=app_do%3Aamzn1.fos.25548f35-0de7-44b3-b28e-0f56f3f96147","https://www.amazon.com.br/Cadeira-Gamer-Gt-Racer-Preto/dp/B083M7KDYX/ref=sr_1_11?__mk_pt_BR=%C3%85M%C3%85%C5%BD%C3%95%C3%91&crid=3BPR5G6TES3T1&keywords=cadeira%2Bgamer&qid=1696691991&sprefix=cadeira%2Bgame%2Caps%2C277&sr=8-11&ufe=app_do%3Aamzn1.fos.25548f35-0de7-44b3-b28e-0f56f3f96147&th=1","https://www.suitspokerteam.com.br"];return s.$$set=g=>{"adsIndex"in g&&t(2,o=g.adsIndex)},s.$$.update=()=>{s.$$.dirty&4&&t(1,n=c[o]),s.$$.dirty&4&&t(4,r=l[o]),s.$$.dirty&16&&t(0,i=`--ads-image-url:url('../../../anunciantes/${r}');`)},[i,n,o,a,r]}class vo extends je{constructor(e){super(),We(this,e,yo,bo,Fe,{adsIndex:2,changeAds:3})}get changeAds(){return this.$$.ctx[3]}}function wo(s){let e;return{c(){e=m("div"),this.h()},l(t){e=_(t,"DIV",{class:!0,style:!0}),B(e).forEach(h),this.h()},h(){f(e,"class","card svelte-1u6gdwv"),f(e,"style",s[0])},m(t,n){N(t,e,n)},p(t,[n]){n&1&&f(e,"style",t[0])},i:ie,o:ie,d(t){t&&h(e)}}}function Bo(s,e,t){let n,r,{cardString:i}=e,{deck:o}=e;return s.$$set=a=>{"cardString"in a&&t(1,i=a.cardString),"deck"in a&&t(2,o=a.deck)},s.$$.update=()=>{s.$$.dirty&6&&t(3,n=`url('../../../baralho/${o}/${i}.png')`),s.$$.dirty&8&&t(0,r=`--card-url:${n}`)},[r,i,o,n]}class pn extends je{constructor(e){super(),We(this,e,Bo,wo,Fe,{cardString:1,deck:2})}}function Gn(s,e,t){const n=s.slice();return n[41]=e[t],n}function Qn(s,e,t){const n=s.slice();return n[41]=e[t],n}function ko(s){let e=s[15].toUpperCase()+"",t;return{c(){t=j(e)},l(n){t=W(n,e)},m(n,r){N(n,t,r)},p(n,r){r[0]&32768&&e!==(e=n[15].toUpperCase()+"")&&G(t,e)},d(n){n&&h(t)}}}function Eo(s){let e=(s[2].length>=10?s[2].substring(0,7)+"...":s[2])+"",t;return{c(){t=j(e)},l(n){t=W(n,e)},m(n,r){N(n,t,r)},p(n,r){r[0]&4&&e!==(e=(n[2].length>=10?n[2].substring(0,7)+"...":n[2])+"")&&G(t,e)},d(n){n&&h(t)}}}function Zn(s){let e,t,n=s[12]?"":"$ ",r,i,o=s[12]?" BB":"",a;return{c(){e=m("div"),t=m("span"),r=j(n),i=j(s[0]),a=j(o),this.h()},l(l){e=_(l,"DIV",{class:!0});var c=B(e);t=_(c,"SPAN",{class:!0});var g=B(t);r=W(g,n),i=W(g,s[0]),a=W(g,o),g.forEach(h),c.forEach(h),this.h()},h(){f(t,"class","svelte-i235ut"),f(e,"class","playerBet svelte-i235ut")},m(l,c){N(l,e,c),u(e,t),u(t,r),u(t,i),u(t,a)},p(l,c){c[0]&4096&&n!==(n=l[12]?"":"$ ")&&G(r,n),c[0]&1&&G(i,l[0]),c[0]&4096&&o!==(o=l[12]?" BB":"")&&G(a,o)},d(l){l&&h(e)}}}function Io(s){let e,t,n=ge(s[4]),r=[];for(let o=0;o<n.length;o+=1)r[o]=xn(Gn(s,n,o));const i=o=>Q(r[o],1,1,()=>{r[o]=null});return{c(){e=m("div");for(let o=0;o<r.length;o+=1)r[o].c();this.h()},l(o){e=_(o,"DIV",{class:!0});var a=B(e);for(let l=0;l<r.length;l+=1)r[l].l(a);a.forEach(h),this.h()},h(){f(e,"class","playerCards svelte-i235ut"),Y(e,"fold",s[7])},m(o,a){N(o,e,a);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(e,null);s[35](e),t=!0},p(o,a){if(a[0]&16){n=ge(o[4]);let l;for(l=0;l<n.length;l+=1){const c=Gn(o,n,l);r[l]?(r[l].p(c,a),X(r[l],1)):(r[l]=xn(c),r[l].c(),X(r[l],1),r[l].m(e,null))}for(_t(),l=n.length;l<r.length;l+=1)i(l);gt()}(!t||a[0]&128)&&Y(e,"fold",o[7])},i(o){if(!t){for(let a=0;a<n.length;a+=1)X(r[a]);t=!0}},o(o){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)Q(r[a]);t=!1},d(o){o&&h(e),Ct(r,o),s[35](null)}}}function Co(s){let e,t,n=ge(s[4]),r=[];for(let o=0;o<n.length;o+=1)r[o]=$n(Qn(s,n,o));const i=o=>Q(r[o],1,1,()=>{r[o]=null});return{c(){e=m("div");for(let o=0;o<r.length;o+=1)r[o].c();this.h()},l(o){e=_(o,"DIV",{class:!0});var a=B(e);for(let l=0;l<r.length;l+=1)r[l].l(a);a.forEach(h),this.h()},h(){f(e,"class","playerCardsHero svelte-i235ut"),Y(e,"show",So),Y(e,"fold",s[7]&&s[9])},m(o,a){N(o,e,a);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(e,null);s[34](e),t=!0},p(o,a){if(a[0]&16){n=ge(o[4]);let l;for(l=0;l<n.length;l+=1){const c=Qn(o,n,l);r[l]?(r[l].p(c,a),X(r[l],1)):(r[l]=$n(c),r[l].c(),X(r[l],1),r[l].m(e,null))}for(_t(),l=n.length;l<r.length;l+=1)i(l);gt()}(!t||a[0]&640)&&Y(e,"fold",o[7]&&o[9])},i(o){if(!t){for(let a=0;a<n.length;a+=1)X(r[a]);t=!0}},o(o){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)Q(r[a]);t=!1},d(o){o&&h(e),Ct(r,o),s[34](null)}}}function xn(s){let e,t,n;return t=new pn({props:{cardString:s[41],deck:Lr}}),{c(){e=m("div"),Oe(t.$$.fragment),this.h()},l(r){e=_(r,"DIV",{class:!0});var i=B(e);Ne(t.$$.fragment,i),i.forEach(h),this.h()},h(){f(e,"class","card svelte-i235ut")},m(r,i){N(r,e,i),qe(t,e,null),n=!0},p(r,i){const o={};i[0]&16&&(o.cardString=r[41]),t.$set(o)},i(r){n||(X(t.$$.fragment,r),n=!0)},o(r){Q(t.$$.fragment,r),n=!1},d(r){r&&h(e),De(t)}}}function $n(s){let e,t,n;return t=new pn({props:{cardString:s[41],deck:Lr}}),{c(){e=m("div"),Oe(t.$$.fragment),this.h()},l(r){e=_(r,"DIV",{class:!0});var i=B(e);Ne(t.$$.fragment,i),i.forEach(h),this.h()},h(){f(e,"class","card svelte-i235ut")},m(r,i){N(r,e,i),qe(t,e,null),n=!0},p(r,i){const o={};i[0]&16&&(o.cardString=r[41]),t.$set(o)},i(r){n||(X(t.$$.fragment,r),n=!0)},o(r){Q(t.$$.fragment,r),n=!1},d(r){r&&h(e),De(t)}}}function er(s){let e;return{c(){e=m("div"),this.h()},l(t){e=_(t,"DIV",{class:!0}),B(e).forEach(h),this.h()},h(){f(e,"class","playerButton svelte-i235ut")},m(t,n){N(t,e,n)},d(t){t&&h(e)}}}function tr(s){let e,t,n,r;return{c(){e=m("div"),t=m("div"),n=A(),r=m("div"),this.h()},l(i){e=_(i,"DIV",{class:!0});var o=B(e);t=_(o,"DIV",{class:!0}),B(t).forEach(h),n=S(o),r=_(o,"DIV",{class:!0,style:!0}),B(r).forEach(h),o.forEach(h),this.h()},h(){f(t,"class","background svelte-i235ut"),f(r,"class","timePasser svelte-i235ut"),f(r,"style",s[19]),f(e,"class","timer svelte-i235ut")},m(i,o){N(i,e,o),u(e,t),u(e,n),u(e,r)},p(i,o){o[0]&524288&&f(r,"style",i[19])},d(i){i&&h(e)}}}function Ao(s){let e,t,n,r,i,o,a,l,c,g,p,b,y,v,w,C,k,O,V,E,T;function D(M,J){return M[16]?ko:Eo}let R=D(s),L=R(s),P=s[0]>0&&Zn(s);const $=[Co,Io],ue=[];function se(M,J){return M[6]?0:1}C=se(s),k=ue[C]=$[C](s);let U=s[5]&&er(),ee=s[14]&&tr(s);return{c(){e=m("div"),t=m("div"),n=m("div"),r=A(),i=m("div"),o=m("div"),a=A(),l=m("div"),c=m("span"),L.c(),g=A(),p=m("div"),b=m("span"),y=j(s[3]),v=A(),P&&P.c(),w=A(),k.c(),O=A(),U&&U.c(),V=A(),ee&&ee.c(),this.h()},l(M){e=_(M,"DIV",{class:!0});var J=B(e);t=_(J,"DIV",{class:!0});var K=B(t);n=_(K,"DIV",{class:!0}),B(n).forEach(h),r=S(K),i=_(K,"DIV",{class:!0,style:!0});var le=B(i);o=_(le,"DIV",{class:!0}),B(o).forEach(h),le.forEach(h),a=S(K),l=_(K,"DIV",{class:!0});var ye=B(l);c=_(ye,"SPAN",{class:!0});var Z=B(c);L.l(Z),Z.forEach(h),ye.forEach(h),g=S(K),p=_(K,"DIV",{class:!0});var pe=B(p);b=_(pe,"SPAN",{class:!0});var Be=B(b);y=W(Be,s[3]),Be.forEach(h),pe.forEach(h),v=S(K),P&&P.l(K),w=S(K),k.l(K),O=S(K),U&&U.l(K),V=S(K),ee&&ee.l(K),K.forEach(h),J.forEach(h),this.h()},h(){f(n,"class","playerGlow svelte-i235ut"),Y(n,"glowPlayerAnimation",s[14]),f(o,"class","playerCircle svelte-i235ut"),f(i,"class","playerImage svelte-i235ut"),f(i,"style",s[19]),f(c,"class","svelte-i235ut"),f(l,"class","playerName svelte-i235ut"),Y(l,"winner",s[10]),f(b,"class","svelte-i235ut"),f(p,"class","playerBalance svelte-i235ut"),Y(p,"winner",s[10]),Y(p,"value",!s[12]),Y(p,"valueInBB",s[12]),f(t,"class","player svelte-i235ut"),Y(t,"fold",s[7]&&s[1]),Y(t,"sitout",s[8]&&(s[11]||!s[1])),f(e,"class",E=Vn(s[13])+" svelte-i235ut")},m(M,J){N(M,e,J),u(e,t),u(t,n),u(t,r),u(t,i),u(i,o),u(t,a),u(t,l),u(l,c),L.m(c,null),u(t,g),u(t,p),u(p,b),u(b,y),u(t,v),P&&P.m(t,null),u(t,w),ue[C].m(t,null),u(t,O),U&&U.m(t,null),u(t,V),ee&&ee.m(t,null),T=!0},p(M,J){(!T||J[0]&16384)&&Y(n,"glowPlayerAnimation",M[14]),(!T||J[0]&524288)&&f(i,"style",M[19]),R===(R=D(M))&&L?L.p(M,J):(L.d(1),L=R(M),L&&(L.c(),L.m(c,null))),(!T||J[0]&1024)&&Y(l,"winner",M[10]),(!T||J[0]&8)&&G(y,M[3]),(!T||J[0]&1024)&&Y(p,"winner",M[10]),(!T||J[0]&4096)&&Y(p,"value",!M[12]),(!T||J[0]&4096)&&Y(p,"valueInBB",M[12]),M[0]>0?P?P.p(M,J):(P=Zn(M),P.c(),P.m(t,w)):P&&(P.d(1),P=null);let K=C;C=se(M),C===K?ue[C].p(M,J):(_t(),Q(ue[K],1,1,()=>{ue[K]=null}),gt(),k=ue[C],k?k.p(M,J):(k=ue[C]=$[C](M),k.c()),X(k,1),k.m(t,O)),M[5]?U||(U=er(),U.c(),U.m(t,V)):U&&(U.d(1),U=null),M[14]?ee?ee.p(M,J):(ee=tr(M),ee.c(),ee.m(t,null)):ee&&(ee.d(1),ee=null),(!T||J[0]&130)&&Y(t,"fold",M[7]&&M[1]),(!T||J[0]&2306)&&Y(t,"sitout",M[8]&&(M[11]||!M[1])),(!T||J[0]&8192&&E!==(E=Vn(M[13])+" svelte-i235ut"))&&f(e,"class",E)},i(M){T||(X(k),T=!0)},o(M){Q(k),T=!1},d(M){M&&h(e),L.d(),P&&P.d(),ue[C].d(),U&&U.d(),ee&&ee.d()}}}const Lr="boardDeck";let So=!1;function To(s,e,t){let n,r,{tableSize:i}=e,{tableRotateAmount:o}=e,{handIsBeingPlayed:a}=e,{id:l,name:c,stackSize:g,avatar:p,position:b,betSize:y,cards:v,isButton:w,showCards:C,hasFolded:k,isSitout:O,isHero:V,possibleActions:E,isWinner:T,lastAction:D,tableClosed:R,showValuesInBB:L}=e,P=!1,$="",ue,se=!1,U=z=>{z&&(console.log(`updateLastActionShowed(${z})`),$!=z&&z!=""&&(t(16,se=!0),clearTimeout(ue),t(15,$=z),ue=setTimeout(()=>{t(16,se=!1)},1e3)))},ee={2:{0:"playerRow middleColumn pos0 row4",1:"playerRow middleColumn pos3 row1"},3:{0:"playerRow middleColumn pos0 row4",1:"playerRow leftColumn pos2 row2",2:"playerRow rightColumn pos4 row2"},6:{0:"playerRow middleColumn pos0 row4",1:"playerRow leftColumn pos1 row3",2:"playerRow leftColumn pos2 row2",3:"playerRow middleColumn pos3 row1",4:"playerRow rightColumn pos4 row2",5:"playerRow rightColumn pos5 row3"},9:{0:"table9max playerRow middleColumn pos0 row5",1:"table9max playerRow leftMiddleColumn pos1 row4",2:"table9max playerRow leftColumn pos2 row3",3:"table9max playerRow leftMiddleColumn pos3 row2",4:"table9max playerRow leftMiddleTopColumn pos4 row1",5:"table9max playerRow rightMiddleTopColumn pos5 row1",6:"table9max playerRow rightMiddleColumn pos6 row2",7:"table9max playerRow rightColumn pos7 row3",8:"table9max playerRow rightMiddleColumn pos8 row4"}},M,J;function K(){console.log("dealCard called at player "+playerID),M&&(console.log(M),console.log(M.className),M.animate([{top:"-100vh",opacity:0,transform:"rotate(-3600deg)"},{opacity:1,transform:"rotate(0)"}],{duration:1e3,iterations:1,easing:"ease-out",delay:100*b})),J&&J.animate([{top:"-100vh",opacity:0,transform:"rotate(-3600deg)"},{opacity:1,transform:"rotate(0)"}],{duration:1e3,iterations:1,easing:"ease-out",delay:100*b})}function le(){console.log("foldCards() called at player "+playerID)}function ye(z){console.log(`call(${z}) called at player ${playerID}`),t(0,y=z)}let Z=100,pe;function Be(z){console.log("startPlayerTurn(timeLimit)"),console.log(b),console.log(c),console.log(l),me(),console.log(z),t(14,P=!0);let Je=z-new Date().getTime();t(32,Z=Je/2e4*100),console.log(Z),pe=setInterval(()=>{if(P!==!1){if(Z>1)return t(32,Z-=1);if(Z>0)return t(32,Z-=Z);me()}},Je/100)}function me(){clearInterval(pe),t(14,P=!1),t(32,Z=100)}let ne=ee[i][(b-o+i)%i];function Se(z){Ge[z?"unshift":"push"](()=>{J=z,t(18,J)})}function _e(z){Ge[z?"unshift":"push"](()=>{M=z,t(17,M)})}return s.$$set=z=>{"tableSize"in z&&t(20,i=z.tableSize),"tableRotateAmount"in z&&t(21,o=z.tableRotateAmount),"handIsBeingPlayed"in z&&t(1,a=z.handIsBeingPlayed),"id"in z&&t(22,l=z.id),"name"in z&&t(2,c=z.name),"stackSize"in z&&t(3,g=z.stackSize),"avatar"in z&&t(23,p=z.avatar),"position"in z&&t(24,b=z.position),"betSize"in z&&t(0,y=z.betSize),"cards"in z&&t(4,v=z.cards),"isButton"in z&&t(5,w=z.isButton),"showCards"in z&&t(6,C=z.showCards),"hasFolded"in z&&t(7,k=z.hasFolded),"isSitout"in z&&t(8,O=z.isSitout),"isHero"in z&&t(9,V=z.isHero),"possibleActions"in z&&t(25,E=z.possibleActions),"isWinner"in z&&t(10,T=z.isWinner),"lastAction"in z&&t(26,D=z.lastAction),"tableClosed"in z&&t(11,R=z.tableClosed),"showValuesInBB"in z&&t(12,L=z.showValuesInBB)},s.$$.update=()=>{s.$$.dirty[0]&67108864&&U(D),s.$$.dirty[0]&1024&&console.log(`isWinner: ${T}`),s.$$.dirty[0]&8388608&&t(33,n=`url('../../../avatar/${p}.png')`),s.$$.dirty[1]&6&&t(19,r=`--avatar-url:${n};--time-left-perc:${Z}%`),s.$$.dirty[0]&19922944&&console.log(`(${b} - ${o} + ${i}) % ${i}: ${(b-o+i)%i}`),s.$$.dirty[0]&19922944&&t(13,ne=ee[i][(b-o+i)%i]),s.$$.dirty[0]&8192&&console.log(ne)},[y,a,c,g,v,w,C,k,O,V,T,R,L,ne,P,$,se,M,J,r,i,o,l,p,b,E,D,K,le,ye,Be,me,Z,n,Se,_e]}class Po extends je{constructor(e){super(),We(this,e,To,Ao,Fe,{tableSize:20,tableRotateAmount:21,handIsBeingPlayed:1,id:22,name:2,stackSize:3,avatar:23,position:24,betSize:0,cards:4,isButton:5,showCards:6,hasFolded:7,isSitout:8,isHero:9,possibleActions:25,isWinner:10,lastAction:26,tableClosed:11,showValuesInBB:12,dealCards:27,foldCards:28,call:29,startPlayerTurn:30,endPlayerTurn:31},null,[-1,-1])}get dealCards(){return this.$$.ctx[27]}get foldCards(){return this.$$.ctx[28]}get call(){return this.$$.ctx[29]}get startPlayerTurn(){return this.$$.ctx[30]}get endPlayerTurn(){return this.$$.ctx[31]}}function sr(s){let e,t,n=s[1]?"":"$ ",r,i,o=s[1]?" BB":"",a;return{c(){e=m("div"),t=m("span"),r=j(n),i=j(s[0]),a=j(o),this.h()},l(l){e=_(l,"DIV",{class:!0});var c=B(e);t=_(c,"SPAN",{class:!0});var g=B(t);r=W(g,n),i=W(g,s[0]),a=W(g,o),g.forEach(h),c.forEach(h),this.h()},h(){f(t,"class","svelte-21cl44"),Y(t,"value",!s[1]),Y(t,"valueInBB",s[1]),f(e,"class","pot svelte-21cl44")},m(l,c){N(l,e,c),u(e,t),u(t,r),u(t,i),u(t,a)},p(l,c){c&2&&n!==(n=l[1]?"":"$ ")&&G(r,n),c&1&&G(i,l[0]),c&2&&o!==(o=l[1]?" BB":"")&&G(a,o),c&2&&Y(t,"value",!l[1]),c&2&&Y(t,"valueInBB",l[1])},d(l){l&&h(e)}}}function Ro(s){let e,t=s[0]!=0&&sr(s);return{c(){t&&t.c(),e=we()},l(n){t&&t.l(n),e=we()},m(n,r){t&&t.m(n,r),N(n,e,r)},p(n,[r]){n[0]!=0?t?t.p(n,r):(t=sr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ie,o:ie,d(n){n&&h(e),t&&t.d(n)}}}function Vo(s,e,t){let{potAmount:n}=e,{showValuesInBB:r=!1}=e;return s.$$set=i=>{"potAmount"in i&&t(0,n=i.potAmount),"showValuesInBB"in i&&t(1,r=i.showValuesInBB)},[n,r]}class Mr extends je{constructor(e){super(),We(this,e,Vo,Ro,Fe,{potAmount:0,showValuesInBB:1})}}function nr(s,e,t){const n=s.slice();return n[80]=e[t],n[82]=t,n}function rr(s,e,t){const n=s.slice();return n[83]=e[t],n}function ir(s,e,t){const n=s.slice();return n[86]=e[t][0],n[87]=e[t][1],n[88]=e,n[89]=t,n}function or(s,e,t){const n=s.slice();return n[90]=e[t],n[91]=e,n[82]=t,n}function lr(s,e,t){const n=s.slice();return n[92]=e[t],n}function zo(s){let e,t;return{c(){e=m("img"),this.h()},l(n){e=_(n,"IMG",{src:!0,class:!0}),this.h()},h(){on(e.src,t="/mesa.png")||f(e,"src",t),f(e,"class","svelte-1rfaq5z")},m(n,r){N(n,e,r)},d(n){n&&h(e)}}}function ar(s){let e,t='<span class="centerInfoText svelte-1rfaq5z">Waiting for players...</span>';return{c(){e=m("div"),e.innerHTML=t,this.h()},l(n){e=_(n,"DIV",{class:!0,"data-svelte-h":!0}),oe(e)!=="svelte-1t9n9zo"&&(e.innerHTML=t),this.h()},h(){f(e,"class","centerInfoDiv svelte-1rfaq5z")},m(n,r){N(n,e,r)},d(n){n&&h(e)}}}function cr(s){let e,t='<span class="centerInfoText svelte-1rfaq5z">You are sitout.</span>';return{c(){e=m("div"),e.innerHTML=t,this.h()},l(n){e=_(n,"DIV",{class:!0,"data-svelte-h":!0}),oe(e)!=="svelte-g3fkah"&&(e.innerHTML=t),this.h()},h(){f(e,"class","centerInfoDiv svelte-1rfaq5z")},m(n,r){N(n,e,r)},d(n){n&&h(e)}}}function ur(s){let e,t,n;return t=new pn({props:{cardString:s[92],deck:"boardDeck"}}),{c(){e=m("div"),Oe(t.$$.fragment),this.h()},l(r){e=_(r,"DIV",{class:!0});var i=B(e);Ne(t.$$.fragment,i),i.forEach(h),this.h()},h(){f(e,"class","card svelte-1rfaq5z")},m(r,i){N(r,e,i),qe(t,e,null),n=!0},p(r,i){const o={};i[0]&64&&(o.cardString=r[92]),t.$set(o)},i(r){n||(X(t.$$.fragment,r),n=!0)},o(r){Q(t.$$.fragment,r),n=!1},d(r){r&&h(e),De(t)}}}function Oo(s){let e,t,n,r;function i(l){s[44](l,s[90],s[91],s[82])}function o(l){s[45](l)}let a={};return s[90]!==void 0&&(a.potAmount=s[90]),s[18].showValuesInBB!==void 0&&(a.showValuesInBB=s[18].showValuesInBB),e=new Mr({props:a}),Ge.push(()=>mt(e,"potAmount",i)),Ge.push(()=>mt(e,"showValuesInBB",o)),{c(){Oe(e.$$.fragment)},l(l){Ne(e.$$.fragment,l)},m(l,c){qe(e,l,c),r=!0},p(l,c){s=l;const g={};!t&&c[0]&128&&(t=!0,g.potAmount=s[90],pt(()=>t=!1)),!n&&c[0]&262144&&(n=!0,g.showValuesInBB=s[18].showValuesInBB,pt(()=>n=!1)),e.$set(g)},i(l){r||(X(e.$$.fragment,l),r=!0)},o(l){Q(e.$$.fragment,l),r=!1},d(l){De(e,l)}}}function fr(s){let e,t,n=s[82]!=0&&Oo(s);return{c(){n&&n.c(),e=we()},l(r){n&&n.l(r),e=we()},m(r,i){n&&n.m(r,i),N(r,e,i),t=!0},p(r,i){r[82]!=0&&n.p(r,i)},i(r){t||(X(n),t=!0)},o(r){Q(n),t=!1},d(r){r&&h(e),n&&n.d(r)}}}function No(s){return{c:ie,l:ie,m:ie,p:ie,i:ie,o:ie,d:ie}}function qo(s){let e,t,n=ge(Object.entries(s[3])),r=[];for(let o=0;o<n.length;o+=1)r[o]=hr(ir(s,n,o));const i=o=>Q(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=we()},l(o){for(let a=0;a<r.length;a+=1)r[a].l(o);e=we()},m(o,a){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(o,a);N(o,e,a),t=!0},p(o,a){if(a[0]&792600){n=ge(Object.entries(o[3]));let l;for(l=0;l<n.length;l+=1){const c=ir(o,n,l);r[l]?(r[l].p(c,a),X(r[l],1)):(r[l]=hr(c),r[l].c(),X(r[l],1),r[l].m(e.parentNode,e))}for(_t(),l=n.length;l<r.length;l+=1)i(l);gt()}},i(o){if(!t){for(let a=0;a<n.length;a+=1)X(r[a]);t=!0}},o(o){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)Q(r[a]);t=!1},d(o){o&&h(e),Ct(r,o)}}}function hr(s){let e,t,n,r,i=s[86],o,a,l;const c=[s[87]];function g(k){s[46](k)}function p(k){s[47](k)}function b(k){s[48](k)}const y=()=>s[49](e,i),v=()=>s[49](null,i);function w(k){s[50](k)}let C={};for(let k=0;k<c.length;k+=1)C=xr(C,c[k]);return s[11]!==void 0&&(C.tableRotateAmount=s[11]),s[19]!==void 0&&(C.tableSize=s[19]),s[12]!==void 0&&(C.handIsBeingPlayed=s[12]),s[18].showValuesInBB!==void 0&&(C.showValuesInBB=s[18].showValuesInBB),e=new Po({props:C}),Ge.push(()=>mt(e,"tableRotateAmount",g)),Ge.push(()=>mt(e,"tableSize",p)),Ge.push(()=>mt(e,"handIsBeingPlayed",b)),y(),Ge.push(()=>mt(e,"showValuesInBB",w)),{c(){Oe(e.$$.fragment),a=A()},l(k){Ne(e.$$.fragment,k),a=S(k)},m(k,O){qe(e,k,O),N(k,a,O),l=!0},p(k,O){i!==k[86]&&(v(),i=k[86],y());const V=O[0]&8?ti(c,[si(k[87])]):{};!t&&O[0]&2048&&(t=!0,V.tableRotateAmount=k[11],pt(()=>t=!1)),!n&&O[0]&524288&&(n=!0,V.tableSize=k[19],pt(()=>n=!1)),!r&&O[0]&4096&&(r=!0,V.handIsBeingPlayed=k[12],pt(()=>r=!1)),!o&&O[0]&262144&&(o=!0,V.showValuesInBB=k[18].showValuesInBB,pt(()=>o=!1)),e.$set(V)},i(k){l||(X(e.$$.fragment,k),l=!0)},o(k){Q(e.$$.fragment,k),l=!1},d(k){k&&h(a),v(),De(e,k)}}}function dr(s){let e,t,n;return{c(){e=m("div"),t=m("span"),n=j(s[14]),this.h()},l(r){e=_(r,"DIV",{class:!0});var i=B(e);t=_(i,"SPAN",{});var o=B(t);n=W(o,s[14]),o.forEach(h),i.forEach(h),this.h()},h(){f(e,"class","handStrengthDiv svelte-1rfaq5z")},m(r,i){N(r,e,i),u(e,t),u(t,n)},p(r,i){i[0]&16384&&G(n,r[14])},d(r){r&&h(e)}}}function Do(s){let e,t="Hand History Is Empty";return{c(){e=m("div"),e.textContent=t,this.h()},l(n){e=_(n,"DIV",{class:!0,"data-svelte-h":!0}),oe(e)!=="svelte-1h1sk4w"&&(e.textContent=t),this.h()},h(){f(e,"class","handHistory svelte-1rfaq5z")},m(n,r){N(n,e,r)},p:ie,d(n){n&&h(e)}}}function Lo(s){let e,t=s[1][s[2]]+"",n;return{c(){e=m("div"),n=j(t),this.h()},l(r){e=_(r,"DIV",{class:!0});var i=B(e);n=W(i,t),i.forEach(h),this.h()},h(){f(e,"class","handHistory svelte-1rfaq5z")},m(r,i){N(r,e,i),u(e,n)},p(r,i){i[0]&6&&t!==(t=r[1][r[2]]+"")&&G(n,t)},d(r){r&&h(e)}}}function pr(s){let e,t,n,r=s[5].length>1&&mr(s),i=ge(s[5]),o=[];for(let a=0;a<i.length;a+=1)o[a]=br(nr(s,i,a));return{c(){e=m("div"),r&&r.c(),t=A(),n=m("div");for(let a=0;a<o.length;a+=1)o[a].c();this.h()},l(a){e=_(a,"DIV",{class:!0});var l=B(e);r&&r.l(l),t=S(l),n=_(l,"DIV",{class:!0});var c=B(n);for(let g=0;g<o.length;g+=1)o[g].l(c);c.forEach(h),l.forEach(h),this.h()},h(){f(n,"class","buttons svelte-1rfaq5z"),f(e,"class","playButtonsContainer svelte-1rfaq5z")},m(a,l){N(a,e,l),r&&r.m(e,null),u(e,t),u(e,n);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(n,null)},p(a,l){if(a[5].length>1?r?r.p(a,l):(r=mr(a),r.c(),r.m(e,t)):r&&(r.d(1),r=null),l[0]&263201|l[1]&128){i=ge(a[5]);let c;for(c=0;c<i.length;c+=1){const g=nr(a,i,c);o[c]?o[c].p(g,l):(o[c]=br(g),o[c].c(),o[c].m(n,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=i.length}},d(a){a&&h(e),r&&r.d(),Ct(o,a)}}}function mr(s){let e,t,n,r,i,o=s[18].showValuesInBB?"BB":"$",a,l,c,g,p,b,y='<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512" class="svelte-1rfaq5z"><path d="M64 80c-8.8 0-16 7.2-16 16V416c0 8.8 7.2 16 16 16H384c8.8 0 16-7.2 16-16V96c0-8.8-7.2-16-16-16H64zM0 96C0 60.7 28.7 32 64 32H384c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zM200 344V280H136c-13.3 0-24-10.7-24-24s10.7-24 24-24h64V168c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24H248v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z" class="svelte-1rfaq5z"></path></svg>',v,w,C,k,O='<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512" class="svelte-1rfaq5z"><path d="M64 80c-8.8 0-16 7.2-16 16V416c0 8.8 7.2 16 16 16H384c8.8 0 16-7.2 16-16V96c0-8.8-7.2-16-16-16H64zM0 96C0 60.7 28.7 32 64 32H384c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zM152 232H296c13.3 0 24 10.7 24 24s-10.7 24-24 24H152c-13.3 0-24-10.7-24-24s10.7-24 24-24z" class="svelte-1rfaq5z"></path></svg>',V,E,T=ge(s[18].presetButtons[s[16]]),D=[];for(let R=0;R<T.length;R+=1)D[R]=_r(rr(s,T,R));return{c(){e=m("div"),t=m("div"),n=m("div");for(let R=0;R<D.length;R+=1)D[R].c();r=A(),i=m("label"),a=j(o),l=A(),c=m("input"),g=A(),p=m("div"),b=m("button"),b.innerHTML=y,v=A(),w=m("input"),C=A(),k=m("button"),k.innerHTML=O,this.h()},l(R){e=_(R,"DIV",{class:!0});var L=B(e);t=_(L,"DIV",{class:!0});var P=B(t);n=_(P,"DIV",{class:!0});var $=B(n);for(let U=0;U<D.length;U+=1)D[U].l($);$.forEach(h),r=S(P),i=_(P,"LABEL",{class:!0});var ue=B(i);a=W(ue,o),ue.forEach(h),l=S(P),c=_(P,"INPUT",{class:!0,type:!0,step:!0}),P.forEach(h),g=S(L),p=_(L,"DIV",{class:!0});var se=B(p);b=_(se,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(b)!=="svelte-1ggq6c"&&(b.innerHTML=y),v=S(se),w=_(se,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0,id:!0}),C=S(se),k=_(se,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(k)!=="svelte-1w5jg9d"&&(k.innerHTML=O),se.forEach(h),L.forEach(h),this.h()},h(){f(n,"class","presetButtons svelte-1rfaq5z"),f(i,"class","dolarSign svelte-1rfaq5z"),f(c,"class","betDisplay svelte-1rfaq5z"),f(c,"type","number"),f(c,"step","0.01"),f(t,"class","betDisplayRow svelte-1rfaq5z"),f(b,"class","betSliderButton svelte-1rfaq5z"),f(w,"type","range"),f(w,"min",s[8]),f(w,"max",s[9]),f(w,"step","0.01"),f(w,"class","slider svelte-1rfaq5z"),f(w,"id","myRange"),f(k,"class","betSliderButton svelte-1rfaq5z"),f(p,"class","betSlider svelte-1rfaq5z"),f(e,"class","betUpperContainer svelte-1rfaq5z")},m(R,L){N(R,e,L),u(e,t),u(t,n);for(let P=0;P<D.length;P+=1)D[P]&&D[P].m(n,null);u(t,r),u(t,i),u(i,a),u(t,l),u(t,c),jt(c,s[10]),u(e,g),u(e,p),u(p,b),u(p,v),u(p,w),jt(w,s[10]),u(p,C),u(p,k),V||(E=[te(c,"input",s[58]),te(c,"keydown",s[59]),te(b,"click",s[29]),te(w,"change",s[60]),te(w,"input",s[60]),te(k,"click",s[30])],V=!0)},p(R,L){if(L[0]&327680|L[1]&1){T=ge(R[18].presetButtons[R[16]]);let P;for(P=0;P<T.length;P+=1){const $=rr(R,T,P);D[P]?D[P].p($,L):(D[P]=_r($),D[P].c(),D[P].m(n,null))}for(;P<D.length;P+=1)D[P].d(1);D.length=T.length}L[0]&262144&&o!==(o=R[18].showValuesInBB?"BB":"$")&&G(a,o),L[0]&1024&&es(c.value)!==R[10]&&jt(c,R[10]),L[0]&256&&f(w,"min",R[8]),L[0]&512&&f(w,"max",R[9]),L[0]&1024&&jt(w,R[10])},d(R){R&&h(e),Ct(D,R),V=!1,rn(E)}}}function _r(s){let e,t=(s[83].value>0?s[83].value:"")+"",n,r=s[83].display+"",i,o,a;function l(){return s[57](s[83])}return{c(){e=m("button"),n=j(t),i=j(r),this.h()},l(c){e=_(c,"BUTTON",{class:!0});var g=B(e);n=W(g,t),i=W(g,r),g.forEach(h),this.h()},h(){f(e,"class","presetBetSizeButton svelte-1rfaq5z")},m(c,g){N(c,e,g),u(e,n),u(e,i),o||(a=te(e,"click",l),o=!0)},p(c,g){s=c,g[0]&327680&&t!==(t=(s[83].value>0?s[83].value:"")+"")&&G(n,t),g[0]&327680&&r!==(r=s[83].display+"")&&G(i,r)},d(c){c&&h(e),o=!1,a()}}}function Mo(s){let e,t,n,r=s[18].showValuesInBB?"":"$ ",i,o,a=s[18].showValuesInBB?" BB":"",l,c,g,p;function b(C,k){return C[10]<C[0].betSize+C[0].stackSize?Fo:Ho}let y=b(s),v=y(s);function w(){return s[62](s[82])}return{c(){e=m("button"),v.c(),t=A(),n=m("span"),i=j(r),o=j(s[10]),l=j(a),c=A(),this.h()},l(C){e=_(C,"BUTTON",{class:!0});var k=B(e);v.l(k),t=S(k),n=_(k,"SPAN",{class:!0});var O=B(n);i=W(O,r),o=W(O,s[10]),l=W(O,a),O.forEach(h),c=S(k),k.forEach(h),this.h()},h(){f(n,"class","svelte-1rfaq5z"),f(e,"class","playButton svelte-1rfaq5z")},m(C,k){N(C,e,k),v.m(e,null),u(e,t),u(e,n),u(n,i),u(n,o),u(n,l),u(e,c),g||(p=te(e,"click",w),g=!0)},p(C,k){s=C,y===(y=b(s))&&v?v.p(s,k):(v.d(1),v=y(s),v&&(v.c(),v.m(e,t))),k[0]&262144&&r!==(r=s[18].showValuesInBB?"":"$ ")&&G(i,r),k[0]&1024&&G(o,s[10]),k[0]&262144&&a!==(a=s[18].showValuesInBB?" BB":"")&&G(l,a)},d(C){C&&h(e),v.d(),g=!1,p()}}}function Uo(s){let e,t,n=s[80].type+"",r,i,o,a,l,c=s[80].amount>0&&gr(s);function g(){return s[61](s[82])}return{c(){e=m("button"),t=m("span"),r=j(n),i=A(),c&&c.c(),o=A(),this.h()},l(p){e=_(p,"BUTTON",{class:!0});var b=B(e);t=_(b,"SPAN",{class:!0});var y=B(t);r=W(y,n),y.forEach(h),i=S(b),c&&c.l(b),o=S(b),b.forEach(h),this.h()},h(){f(t,"class","svelte-1rfaq5z"),Y(t,"fastFold",s[80].type==="Fold"),f(e,"class","playButton svelte-1rfaq5z"),Y(e,"playerButtonHide",s[80].amount>=s[0].betSize+s[0].stackSize)},m(p,b){N(p,e,b),u(e,t),u(t,r),u(e,i),c&&c.m(e,null),u(e,o),a||(l=te(e,"click",g),a=!0)},p(p,b){s=p,b[0]&32&&n!==(n=s[80].type+"")&&G(r,n),b[0]&32&&Y(t,"fastFold",s[80].type==="Fold"),s[80].amount>0?c?c.p(s,b):(c=gr(s),c.c(),c.m(e,o)):c&&(c.d(1),c=null),b[0]&33&&Y(e,"playerButtonHide",s[80].amount>=s[0].betSize+s[0].stackSize)},d(p){p&&h(e),c&&c.d(),a=!1,l()}}}function Ho(s){let e,t="All-in";return{c(){e=m("span"),e.textContent=t,this.h()},l(n){e=_(n,"SPAN",{class:!0,"data-svelte-h":!0}),oe(e)!=="svelte-s049cb"&&(e.textContent=t),this.h()},h(){f(e,"class","svelte-1rfaq5z")},m(n,r){N(n,e,r)},p:ie,d(n){n&&h(e)}}}function Fo(s){let e,t=s[80].type+"",n;return{c(){e=m("span"),n=j(t),this.h()},l(r){e=_(r,"SPAN",{class:!0});var i=B(e);n=W(i,t),i.forEach(h),this.h()},h(){f(e,"class","svelte-1rfaq5z")},m(r,i){N(r,e,i),u(e,n)},p(r,i){i[0]&32&&t!==(t=r[80].type+"")&&G(n,t)},d(r){r&&h(e)}}}function gr(s){let e,t=s[18].showValuesInBB?"":"$ ",n,r=Math.round((s[80].amount-s[0].betSize)*100)/100+"",i,o=s[18].showValuesInBB?" BB":"",a;return{c(){e=m("span"),n=j(t),i=j(r),a=j(o),this.h()},l(l){e=_(l,"SPAN",{class:!0});var c=B(e);n=W(c,t),i=W(c,r),a=W(c,o),c.forEach(h),this.h()},h(){f(e,"class","svelte-1rfaq5z")},m(l,c){N(l,e,c),u(e,n),u(e,i),u(e,a)},p(l,c){c[0]&262144&&t!==(t=l[18].showValuesInBB?"":"$ ")&&G(n,t),c[0]&33&&r!==(r=Math.round((l[80].amount-l[0].betSize)*100)/100+"")&&G(i,r),c[0]&262144&&o!==(o=l[18].showValuesInBB?" BB":"")&&G(a,o)},d(l){l&&h(e)}}}function br(s){let e;function t(i,o){return i[82]<2?Uo:Mo}let r=t(s)(s);return{c(){r.c(),e=we()},l(i){r.l(i),e=we()},m(i,o){r.m(i,o),N(i,e,o)},p(i,o){r.p(i,o)},d(i){i&&h(e),r.d(i)}}}function jo(s){let e,t,n;function r(o){s[63](o)}let i={};return s[15]!==void 0&&(i.changeAds=s[15]),e=new vo({props:i}),Ge.push(()=>mt(e,"changeAds",r)),{c(){Oe(e.$$.fragment)},l(o){Ne(e.$$.fragment,o)},m(o,a){qe(e,o,a),n=!0},p(o,a){const l={};!t&&a[0]&32768&&(t=!0,l.changeAds=o[15],pt(()=>t=!1)),e.$set(l)},i(o){n||(X(e.$$.fragment,o),n=!0)},o(o){Q(e.$$.fragment,o),n=!1},d(o){De(e,o)}}}function Wo(s){let e,t,n,r="Leave Table",i,o,a="Hand History",l,c,g="Rebuy",p,b,y="Sitout",v,w,C,k,O,V,E,T,D,R,L,P,$,ue,se,U,ee,M,J,K,le,ye,Z,pe,Be,me,ne,Se,_e=s[2]+1+"",z,Je,Te=s[1].length+"",ot,Pe,re,Ue,Ie,He,bt,Re,Tt="X",$e,Le,lt,ke,Ke,at,Jt,Kt,Yt,Ye,et,ct,ts="AVAIABLE BALANCE:",Xt,ut,Gt,Ut,Qt,tt,st,d,H="REBUY AMOUNT:",ae,Me,Pt,mn="$",Ss,Ee,Ts,yt,ft,Rt,_n="MIN",Ps,Vt,Rs,ss,Vs,ht,zt,gn="MAX",zs,Ot,Os,ns,Ns,vt,dt,qs,rs,Ds,wt,bn="CANCEL",Ls,Nt,Ms,Bt,Us,kt,Hs,is,qt,ve,Fs,yn;function Ur(I,q){return zo}let os=Ur()(s),Ve=s[13]&&!s[20]&&ar(),ze=s[21]&&cr(),Dt=ge(s[6]),fe=[];for(let I=0;I<Dt.length;I+=1)fe[I]=ur(lr(s,Dt,I));const Hr=I=>Q(fe[I],1,1,()=>{fe[I]=null});function Fr(I){s[42](I)}function jr(I){s[43](I)}let js={};s[7][0]!==void 0&&(js.potAmount=s[7][0]),s[18].showValuesInBB!==void 0&&(js.showValuesInBB=s[18].showValuesInBB),D=new Mr({props:js}),Ge.push(()=>mt(D,"potAmount",Fr)),Ge.push(()=>mt(D,"showValuesInBB",jr));let Lt=ge(s[7]),he=[];for(let I=0;I<Lt.length;I+=1)he[I]=fr(or(s,Lt,I));const Wr=I=>Q(he[I],1,1,()=>{he[I]=null}),Jr=[qo,No],Ws=[];function Kr(I,q){return 0}se=Kr(),U=Ws[se]=Jr[se](s);let Ce=s[14]&&s[14]!=""&&dr(s);function vn(I,q){return I[1].length>0?Lo:Do}let ls=vn(s),Qe=ls(s),Ae=s[5].length>0&&pr(s),Ze=jo(s);return{c(){e=m("main"),t=m("div"),n=m("button"),n.textContent=r,i=A(),o=m("button"),o.textContent=a,l=A(),c=m("button"),c.textContent=g,p=A(),b=m("button"),b.textContent=y,v=A(),w=m("div"),os.c(),C=A(),Ve&&Ve.c(),k=A(),ze&&ze.c(),O=A(),V=m("div");for(let I=0;I<fe.length;I+=1)fe[I].c();E=A(),T=m("div"),Oe(D.$$.fragment),P=A(),$=m("div");for(let I=0;I<he.length;I+=1)he[I].c();ue=A(),U.c(),ee=A(),Ce&&Ce.c(),M=A(),J=m("div"),K=m("div"),le=m("button"),ye=bs("svg"),Z=bs("path"),Be=A(),me=m("span"),ne=m("pre"),Se=j("Hand History "),z=j(_e),Je=j("/"),ot=j(Te),Pe=A(),re=m("button"),Ue=bs("svg"),Ie=bs("path"),bt=A(),Re=m("button"),Re.textContent=Tt,$e=A(),Le=m("div"),Qe.c(),lt=A(),ke=m("div"),Ke=m("div"),at=m("span"),Jt=j("REBUY "),Kt=j(yr),Yt=A(),Ye=m("div"),et=m("div"),ct=m("span"),ct.textContent=ts,Xt=A(),ut=m("span"),Gt=j("$"),Ut=j(s[17]),Qt=A(),tt=m("div"),st=m("div"),d=m("label"),d.textContent=H,ae=A(),Me=m("div"),Pt=m("span"),Pt.textContent=mn,Ss=A(),Ee=m("input"),Ts=A(),yt=m("div"),ft=m("button"),Rt=m("span"),Rt.textContent=_n,Ps=A(),Vt=m("span"),Rs=j("$"),ss=j(s[24]),Vs=A(),ht=m("button"),zt=m("span"),zt.textContent=gn,zs=A(),Ot=m("span"),Os=j("$"),ns=j(s[25]),Ns=A(),vt=m("div"),dt=m("button"),qs=j("OK"),Ds=A(),wt=m("button"),wt.textContent=bn,Ls=A(),Nt=m("div"),Ms=A(),Bt=m("div"),Us=A(),kt=m("div"),Hs=A(),Ae&&Ae.c(),is=A(),qt=m("div"),Ze&&Ze.c(),this.h()},l(I){e=_(I,"MAIN",{class:!0});var q=B(e);t=_(q,"DIV",{class:!0});var de=B(t);n=_(de,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(n)!=="svelte-c697ne"&&(n.textContent=r),i=S(de),o=_(de,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(o)!=="svelte-9ccdu1"&&(o.textContent=a),l=S(de),c=_(de,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(c)!=="svelte-fli994"&&(c.textContent=g),p=S(de),b=_(de,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(b)!=="svelte-1t1lie"&&(b.textContent=y),de.forEach(h),v=S(q),w=_(q,"DIV",{class:!0});var F=B(w);os.l(F),C=S(F),Ve&&Ve.l(F),k=S(F),ze&&ze.l(F),O=S(F),V=_(F,"DIV",{class:!0});var Et=B(V);for(let Mt=0;Mt<fe.length;Mt+=1)fe[Mt].l(Et);Et.forEach(h),E=S(F),T=_(F,"DIV",{class:!0});var wn=B(T);Ne(D.$$.fragment,wn),wn.forEach(h),P=S(F),$=_(F,"DIV",{class:!0});var Bn=B($);for(let Mt=0;Mt<he.length;Mt+=1)he[Mt].l(Bn);Bn.forEach(h),ue=S(F),U.l(F),ee=S(F),Ce&&Ce.l(F),M=S(F),J=_(F,"DIV",{class:!0,popover:!0,id:!0});var as=B(J);K=_(as,"DIV",{class:!0});var It=B(K);le=_(It,"BUTTON",{class:!0});var kn=B(le);ye=ys(kn,"svg",{xmlns:!0,height:!0,viewBox:!0});var En=B(ye);Z=ys(En,"path",{d:!0}),B(Z).forEach(h),En.forEach(h),kn.forEach(h),Be=S(It),me=_(It,"SPAN",{});var In=B(me);ne=_(In,"PRE",{});var Zt=B(ne);Se=W(Zt,"Hand History "),z=W(Zt,_e),Je=W(Zt,"/"),ot=W(Zt,Te),Zt.forEach(h),In.forEach(h),Pe=S(It),re=_(It,"BUTTON",{class:!0});var Cn=B(re);Ue=ys(Cn,"svg",{xmlns:!0,height:!0,viewBox:!0});var An=B(Ue);Ie=ys(An,"path",{d:!0}),B(Ie).forEach(h),An.forEach(h),Cn.forEach(h),bt=S(It),Re=_(It,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(Re)!=="svelte-1nvu3h7"&&(Re.textContent=Tt),It.forEach(h),$e=S(as),Le=_(as,"DIV",{class:!0});var Sn=B(Le);Qe.l(Sn),Sn.forEach(h),as.forEach(h),lt=S(F),ke=_(F,"DIV",{class:!0,popover:!0,id:!0});var cs=B(ke);Ke=_(cs,"DIV",{class:!0});var Tn=B(Ke);at=_(Tn,"SPAN",{class:!0});var Js=B(at);Jt=W(Js,"REBUY "),Kt=W(Js,yr),Js.forEach(h),Tn.forEach(h),Yt=S(cs),Ye=_(cs,"DIV",{class:!0});var Ht=B(Ye);et=_(Ht,"DIV",{class:!0});var us=B(et);ct=_(us,"SPAN",{class:!0,"data-svelte-h":!0}),oe(ct)!=="svelte-j71th9"&&(ct.textContent=ts),Xt=S(us),ut=_(us,"SPAN",{class:!0});var Ks=B(ut);Gt=W(Ks,"$"),Ut=W(Ks,s[17]),Ks.forEach(h),us.forEach(h),Qt=S(Ht),tt=_(Ht,"DIV",{class:!0});var fs=B(tt);st=_(fs,"DIV",{class:!0});var hs=B(st);d=_(hs,"LABEL",{for:!0,"data-svelte-h":!0}),oe(d)!=="svelte-e3m5wi"&&(d.textContent=H),ae=S(hs),Me=_(hs,"DIV",{class:!0});var ds=B(Me);Pt=_(ds,"SPAN",{class:!0,"data-svelte-h":!0}),oe(Pt)!=="svelte-83dhq"&&(Pt.textContent=mn),Ss=S(ds),Ee=_(ds,"INPUT",{placeholder:!0,id:!0,min:!0,max:!0,step:!0,type:!0,class:!0}),ds.forEach(h),hs.forEach(h),Ts=S(fs),yt=_(fs,"DIV",{class:!0});var ps=B(yt);ft=_(ps,"BUTTON",{class:!0});var ms=B(ft);Rt=_(ms,"SPAN",{class:!0,"data-svelte-h":!0}),oe(Rt)!=="svelte-1bmqyoi"&&(Rt.textContent=_n),Ps=S(ms),Vt=_(ms,"SPAN",{class:!0});var Ys=B(Vt);Rs=W(Ys,"$"),ss=W(Ys,s[24]),Ys.forEach(h),ms.forEach(h),Vs=S(ps),ht=_(ps,"BUTTON",{class:!0});var _s=B(ht);zt=_(_s,"SPAN",{class:!0,"data-svelte-h":!0}),oe(zt)!=="svelte-1uqut8w"&&(zt.textContent=gn),zs=S(_s),Ot=_(_s,"SPAN",{class:!0});var Xs=B(Ot);Os=W(Xs,"$"),ns=W(Xs,s[25]),Xs.forEach(h),_s.forEach(h),ps.forEach(h),fs.forEach(h),Ns=S(Ht),vt=_(Ht,"DIV",{class:!0});var gs=B(vt);dt=_(gs,"BUTTON",{class:!0});var Pn=B(dt);qs=W(Pn,"OK"),Pn.forEach(h),Ds=S(gs),wt=_(gs,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(wt)!=="svelte-16wc3f4"&&(wt.textContent=bn),gs.forEach(h),Ht.forEach(h),cs.forEach(h),F.forEach(h),Ls=S(q),Nt=_(q,"DIV",{class:!0}),B(Nt).forEach(h),Ms=S(q),Bt=_(q,"DIV",{class:!0}),B(Bt).forEach(h),Us=S(q),kt=_(q,"DIV",{class:!0}),B(kt).forEach(h),Hs=S(q),Ae&&Ae.l(q),q.forEach(h),is=S(I),qt=_(I,"DIV",{class:!0});var Rn=B(qt);Ze&&Ze.l(Rn),Rn.forEach(h),this.h()},h(){f(n,"class","svelte-1rfaq5z"),f(o,"class","svelte-1rfaq5z"),f(c,"class","svelte-1rfaq5z"),f(b,"class","svelte-1rfaq5z"),Y(b,"sitout",s[20]),f(t,"class","auxiliarButtons svelte-1rfaq5z"),f(V,"class","board svelte-1rfaq5z"),f(T,"class","potLine potPrincipal svelte-1rfaq5z"),f($,"class","potLine potsParalelos svelte-1rfaq5z"),f(Z,"d","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"),f(ye,"xmlns","http://www.w3.org/2000/svg"),f(ye,"height","1em"),f(ye,"viewBox","0 0 448 512"),le.disabled=pe=s[2]<=0,f(le,"class","svelte-1rfaq5z"),f(Ie,"d","M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"),f(Ue,"xmlns","http://www.w3.org/2000/svg"),f(Ue,"height","1em"),f(Ue,"viewBox","0 0 448 512"),re.disabled=He=s[2]>=s[1].length-1,f(re,"class","svelte-1rfaq5z"),f(Re,"class","closeButton svelte-1rfaq5z"),f(K,"class","popoverTitle svelte-1rfaq5z"),f(Le,"class","popoverMain svelte-1rfaq5z"),f(J,"class","hhPopover svelte-1rfaq5z"),f(J,"popover",""),f(J,"id","hhPopover"),f(at,"class","svelte-1rfaq5z"),f(Ke,"class","popoverTitle svelte-1rfaq5z"),f(ct,"class","svelte-1rfaq5z"),f(ut,"class","svelte-1rfaq5z"),f(et,"class","balanceBlock svelte-1rfaq5z"),f(d,"for","rebuyAmount"),f(Pt,"class","svelte-1rfaq5z"),f(Ee,"placeholder","Amount to Rebuy"),f(Ee,"id","rebuyAmount"),f(Ee,"min",s[24]),f(Ee,"max",s[25]),f(Ee,"step","0.01"),f(Ee,"type","number"),f(Ee,"class","svelte-1rfaq5z"),f(Me,"class","inputWrapper svelte-1rfaq5z"),f(st,"class","rebuyInputBlock svelte-1rfaq5z"),f(Rt,"class","svelte-1rfaq5z"),f(Vt,"class","value svelte-1rfaq5z"),f(ft,"class","rebuyPresetButton svelte-1rfaq5z"),f(zt,"class","svelte-1rfaq5z"),f(Ot,"class","value svelte-1rfaq5z"),f(ht,"class","rebuyPresetButton svelte-1rfaq5z"),f(yt,"class","rebuyButtonsBlock svelte-1rfaq5z"),f(tt,"class","rebuyBlock svelte-1rfaq5z"),f(dt,"class","rebuyConfirmButtons confirm svelte-1rfaq5z"),dt.disabled=rs=s[23]>s[17]||s[23]>s[25]||s[23]<s[24],f(wt,"class","rebuyConfirmButtons cancel svelte-1rfaq5z"),f(vt,"class","rebuyConfirmButtonsBlock svelte-1rfaq5z"),f(Ye,"class","popoverMain svelte-1rfaq5z"),f(ke,"class","rebuyPopover svelte-1rfaq5z"),f(ke,"popover",""),f(ke,"id","rebuyPopover"),f(w,"class","table svelte-1rfaq5z"),f(Nt,"class","svelte-1rfaq5z"),Y(Nt,"transitioning",s[27]),f(Bt,"class","popoverOverlay svelte-1rfaq5z"),Y(Bt,"active",s[22]),f(kt,"class","popoverOverlay svelte-1rfaq5z"),Y(kt,"active",s[26]),f(e,"class","flex svelte-1rfaq5z"),Y(e,"hidden",!s[28]),f(qt,"class","adsContainer svelte-1rfaq5z")},m(I,q){N(I,e,q),u(e,t),u(t,n),u(t,i),u(t,o),u(t,l),u(t,c),u(t,p),u(t,b),u(e,v),u(e,w),os.m(w,null),u(w,C),Ve&&Ve.m(w,null),u(w,k),ze&&ze.m(w,null),u(w,O),u(w,V);for(let de=0;de<fe.length;de+=1)fe[de]&&fe[de].m(V,null);u(w,E),u(w,T),qe(D,T,null),u(w,P),u(w,$);for(let de=0;de<he.length;de+=1)he[de]&&he[de].m($,null);u(w,ue),Ws[se].m(w,null),u(w,ee),Ce&&Ce.m(w,null),u(w,M),u(w,J),u(J,K),u(K,le),u(le,ye),u(ye,Z),u(K,Be),u(K,me),u(me,ne),u(ne,Se),u(ne,z),u(ne,Je),u(ne,ot),u(K,Pe),u(K,re),u(re,Ue),u(Ue,Ie),u(K,bt),u(K,Re),u(J,$e),u(J,Le),Qe.m(Le,null),u(w,lt),u(w,ke),u(ke,Ke),u(Ke,at),u(at,Jt),u(at,Kt),u(ke,Yt),u(ke,Ye),u(Ye,et),u(et,ct),u(et,Xt),u(et,ut),u(ut,Gt),u(ut,Ut),u(Ye,Qt),u(Ye,tt),u(tt,st),u(st,d),u(st,ae),u(st,Me),u(Me,Pt),u(Me,Ss),u(Me,Ee),jt(Ee,s[23]),u(tt,Ts),u(tt,yt),u(yt,ft),u(ft,Rt),u(ft,Ps),u(ft,Vt),u(Vt,Rs),u(Vt,ss),u(yt,Vs),u(yt,ht),u(ht,zt),u(ht,zs),u(ht,Ot),u(Ot,Os),u(Ot,ns),u(Ye,Ns),u(Ye,vt),u(vt,dt),u(dt,qs),u(vt,Ds),u(vt,wt),u(e,Ls),u(e,Nt),u(e,Ms),u(e,Bt),u(e,Us),u(e,kt),u(e,Hs),Ae&&Ae.m(e,null),N(I,is,q),N(I,qt,q),Ze&&Ze.m(qt,null),ve=!0,Fs||(yn=[te(n,"click",s[40]),te(o,"click",s[36]),te(c,"click",s[34]),te(b,"click",s[33]),te(le,"click",s[51]),te(re,"click",s[52]),te(Re,"click",s[36]),te(Ee,"input",s[53]),te(Ee,"keydown",s[54]),te(ft,"click",s[55]),te(ht,"click",s[56]),te(dt,"click",s[35]),te(wt,"click",s[34]),te(w,"wheel",s[32]),te(Bt,"click",s[34]),te(kt,"click",s[36])],Fs=!0)},p(I,q){if((!ve||q[0]&1048576)&&Y(b,"sitout",I[20]),I[13]&&!I[20]?Ve||(Ve=ar(),Ve.c(),Ve.m(w,k)):Ve&&(Ve.d(1),Ve=null),I[21]?ze||(ze=cr(),ze.c(),ze.m(w,O)):ze&&(ze.d(1),ze=null),q[0]&64){Dt=ge(I[6]);let F;for(F=0;F<Dt.length;F+=1){const Et=lr(I,Dt,F);fe[F]?(fe[F].p(Et,q),X(fe[F],1)):(fe[F]=ur(Et),fe[F].c(),X(fe[F],1),fe[F].m(V,null))}for(_t(),F=Dt.length;F<fe.length;F+=1)Hr(F);gt()}const de={};if(!R&&q[0]&128&&(R=!0,de.potAmount=I[7][0],pt(()=>R=!1)),!L&&q[0]&262144&&(L=!0,de.showValuesInBB=I[18].showValuesInBB,pt(()=>L=!1)),D.$set(de),q[0]&262272){Lt=ge(I[7]);let F;for(F=0;F<Lt.length;F+=1){const Et=or(I,Lt,F);he[F]?(he[F].p(Et,q),X(he[F],1)):(he[F]=fr(Et),he[F].c(),X(he[F],1),he[F].m($,null))}for(_t(),F=Lt.length;F<he.length;F+=1)Wr(F);gt()}U.p(I,q),I[14]&&I[14]!=""?Ce?Ce.p(I,q):(Ce=dr(I),Ce.c(),Ce.m(w,M)):Ce&&(Ce.d(1),Ce=null),(!ve||q[0]&4&&pe!==(pe=I[2]<=0))&&(le.disabled=pe),(!ve||q[0]&4)&&_e!==(_e=I[2]+1+"")&&G(z,_e),(!ve||q[0]&2)&&Te!==(Te=I[1].length+"")&&G(ot,Te),(!ve||q[0]&6&&He!==(He=I[2]>=I[1].length-1))&&(re.disabled=He),ls===(ls=vn(I))&&Qe?Qe.p(I,q):(Qe.d(1),Qe=ls(I),Qe&&(Qe.c(),Qe.m(Le,null))),(!ve||q[0]&131072)&&G(Ut,I[17]),(!ve||q[0]&16777216)&&f(Ee,"min",I[24]),(!ve||q[0]&33554432)&&f(Ee,"max",I[25]),q[0]&8388608&&es(Ee.value)!==I[23]&&jt(Ee,I[23]),(!ve||q[0]&16777216)&&G(ss,I[24]),(!ve||q[0]&33554432)&&G(ns,I[25]),(!ve||q[0]&58851328&&rs!==(rs=I[23]>I[17]||I[23]>I[25]||I[23]<I[24]))&&(dt.disabled=rs),(!ve||q[0]&134217728)&&Y(Nt,"transitioning",I[27]),(!ve||q[0]&4194304)&&Y(Bt,"active",I[22]),(!ve||q[0]&67108864)&&Y(kt,"active",I[26]),I[5].length>0?Ae?Ae.p(I,q):(Ae=pr(I),Ae.c(),Ae.m(e,null)):Ae&&(Ae.d(1),Ae=null),(!ve||q[0]&268435456)&&Y(e,"hidden",!I[28]),Ze.p(I,q)},i(I){if(!ve){for(let q=0;q<Dt.length;q+=1)X(fe[q]);X(D.$$.fragment,I);for(let q=0;q<Lt.length;q+=1)X(he[q]);X(U),X(Ze),ve=!0}},o(I){fe=fe.filter(Boolean);for(let q=0;q<fe.length;q+=1)Q(fe[q]);Q(D.$$.fragment,I),he=he.filter(Boolean);for(let q=0;q<he.length;q+=1)Q(he[q]);Q(U),Q(Ze),ve=!1},d(I){I&&(h(e),h(is),h(qt)),os.d(),Ve&&Ve.d(),ze&&ze.d(),Ct(fe,I),De(D),Ct(he,I),Ws[se].d(),Ce&&Ce.d(),Qe.d(),Ae&&Ae.d(),Ze&&Ze.d(),Fs=!1,rn(yn)}}}let yr="";function Jo(s,e,t){let n,r;nt(s,St,d=>t(41,r=d));let{hero:i}=e,o=5,a=10,l=[],c=0,g={},p={},b=[],y=[],v=[0],w=0,C=999999999e-2,k=0,O="",V=0,E=50,T=i.position,D,R=!1,L=!0,P="",$,ue="preflop",se=0,U={sounds:!0,preferedSeat:{"3max":0,"6max":0,"9max":0},showValuesInBB:!0,adjustBetByBB:!0,presetButtons:{preflop:[{type:"pot%",value:25,display:"%"},{type:"pot%",value:50,display:"%"},{type:"pot%",value:75,display:"%"},{type:"pot%",value:100,display:"%"}],postflop:[{type:"pot%",value:25,display:"%"},{type:"pot%",value:50,display:"%"},{type:"pot%",value:75,display:"%"},{type:"pot%",value:100,display:"%"}]}};ce.on("updatePlayerInfo",d=>{if(console.log("updatePlayerInfo"),console.log(d),i.id!==d.id)return;let H=JSON.parse(JSON.stringify(g));t(0,i=d),t(0,i.isHero=!0,i),t(0,i.showCards=!0,i),t(0,i.betSize=parseFloat(i.betSize),i),t(0,i.stackSize=parseFloat(i.stackSize),i),U.showValuesInBB&&(console.log("changing hero values to BB"),t(0,i.betSize=Math.round(i.betSize/a*100)/100,i),t(0,i.stackSize=Math.round(i.stackSize/a*100)/100,i)),t(20,Z=i.isSitout),i.isSitout&&Be(i.isSitout),i.finalHandRank&&t(14,P=i.finalHandRank.combination),i.possibleActions.length>1&&(U.showValuesInBB&&t(0,i.possibleActions[1].amount=Math.round(i.possibleActions[1].amount/a*100)/100,i),i.possibleActions[1].amount>i.betSize+i.stackSize&&t(0,i.possibleActions[1].amount=Math.round((i.betSize+i.stackSize)*100)/100,i),i.possibleActions[1].amount,t(10,E=U.showValuesInBB?Math.round(i.possibleActions[2].amount/a*100)/100:Math.round(i.possibleActions[2].amount*100)/100),E>i.betSize+i.stackSize&&t(10,E=Math.round((i.betSize+i.stackSize)*100)/100),t(8,w=E),t(9,C=Math.round((i.betSize+i.stackSize)*100)/100)),Z||t(5,b=i.possibleActions),t(11,T=i.position),H[i.id]=i,t(3,g=H),console.log(i)}),ce.on("updateUserInfo",({user:d})=>{console.log(d),t(17,se=parseFloat(d.balance))}),ce.on("updateUserSettings",d=>{if(console.log("updateUserSettings"),U.showValuesInBB!=d.showValuesInBB){if(g){const H=JSON.parse(JSON.stringify(g));Object.values(H).forEach(ae=>{d.showValuesInBB&&(ae.betSize=Math.round(ae.betSize/a*100)/100,ae.stackSize=Math.round(ae.stackSize/a*100)/100),d.showValuesInBB||(ae.betSize=Math.round(ae.betSize*a*100)/100,ae.stackSize=Math.round(ae.stackSize*a*100)/100),ae.id===i.id&&t(0,i=ae)}),t(3,g=H)}if(v){const H=JSON.parse(JSON.stringify(v));for(let ae=0;ae<H.length;ae++)d.showValuesInBB&&(H[ae]=Math.round(H[ae]/a*100)/100),d.showValuesInBB||(H[ae]=Math.round(H[ae]*a*100)/100);t(7,v=H)}b.length>1&&(b.forEach(H=>{d.showValuesInBB&&(H.amount=Math.round(H.amount/a*100)/100),d.showValuesInBB||(H.amount=Math.round(H.amount*a*100)/100)}),d.showValuesInBB&&(t(10,E=Math.round(E/a*100)/100),t(8,w=Math.round(w/a*100)/100),t(9,C=Math.round(C/a*100)/100),k=Math.round(k/a*100)/100),d.showValuesInBB||(t(10,E=Math.round(E*a*100)/100),t(8,w=Math.round(w*a*100)/100),t(9,C=Math.round(C*a*100)/100),k=Math.round(k*a*100)/100))}t(18,U=d),console.log(U)}),ce.on("updateGameState",d=>{if(console.log("updateGameState"),console.log(d),i.id in d.players){if(JSON.parse(JSON.stringify(d)),V=0,O="empty player",t(12,R=d.handIsBeingPlayed),t(19,le=d.tableSize),t(6,y=d.boardCards),o=parseFloat(d.sb),a=parseFloat(d.bb),console.log("gameState.pots"),console.log(d.pots),U.showValuesInBB){console.log("updating pot size to bbs");for(let H=0;H<d.pots.length;H++)d.pots[H]=Math.round(parseFloat(d.pots[H])/a*100)/100;k=Math.round(d.biggestBet/a*100)/100}t(7,v=d.pots),console.log("pots"),console.log(v),k=parseFloat(d.biggestBet),t(16,ue=d.boardRound===0?"preflop":"postflop"),clearInterval(D),d.handIsBeingPlayed||t(5,b=[]),d.handIsBeingPlayed||d.isShowdown?t(13,L=!1):t(13,L=!0),Object.values(d.players).forEach(H=>{H.isHero=!1,H.isButton=!1,U.showValuesInBB&&(H.betSize=Math.round(H.betSize/a*100)/100,H.stackSize=Math.round(H.stackSize/a*100)/100),V+=parseFloat(H.betSize),d.positionActing===H.position&&(O=H.id),H.position===d.dealerPos&&(H.isButton=!0),H.id===i.id&&(H.isHero=!0,H.showCards=!0,H.cards=i.cards,t(20,Z=H.isSitout),H.isSitout&&Be(H.isSitout))}),t(3,g=d.players),console.log(g),console.log(p),Object.values(p).forEach(H=>{H&&H.endPlayerTurn()}),console.log(O),d.handIsBeingPlayed&&!d.isShowdown&&(D=setInterval(()=>{O in p&&(p[O].startPlayerTurn(d.timeLimitToAct),clearInterval(D))},100))}}),ce.on("handTransition",d=>{console.log("handTransition"),i.id===d.id&&(t(5,b=[]),t(14,P=""),Ue(),$())}),ce.on("updateHandHistory",d=>{console.log("updateHandHistory"),l.push(d),t(1,l),c===-1&&t(2,c=l.length-1)}),ce.on("askRebuy",d=>{z()}),ce.on("sitoutUpdate",d=>{console.log("sitoutUpdate"),i.id===d.playerID&&(t(20,Z=d.isSitout),Be(Z))}),ce.on("updatePlayerCards",d=>{console.log("updatePlayerCards"),t(0,i.cards=d,i)}),ce.on("leavePoolResponse",({status:d})=>{switch(console.log("leavePoolResponse"),d){case 200:St.set("lobby");break}});function ee(){let d=o;U.adjustBetByBB&&(d=a),U.showValuesInBB&&(d=d/a),E+d>=C?t(10,E=Math.round(C*100)/100):t(10,E=Math.round((E+d)*100)/100)}function M(){let d=o;U.adjustBetByBB&&(d=a),U.showValuesInBB&&(d=d/a),E-d<=w?t(10,E=Math.round(w*100)/100):t(10,E=Math.round((E-d)*100)/100)}function J(d){if(d.type==="min"&&t(10,E=w),d.type==="max"&&t(10,E=C),d.type==="bbs"&&t(10,E=U.showValuesInBB?d.value:Math.round(d.value*a*100)/100),d.type==="pot%"){const H=d.value;let ae=0;for(let Me=0;Me<v.length;Me++)ae+=parseFloat(v[Me]);t(10,E=H/100*(ae+V+k-i.betSize)+k)}E>i.betSize+i.stackSize&&t(10,E=i.betSize+i.stackSize),E<w&&t(10,E=w),t(10,E=Math.round(E*100)/100)}function K(d){d.deltaY<0?ee():M()}let le=6;function ye(){console.log("toggleSitout()"),console.log(i),t(20,Z=!Z),Z||Be(Z),ce.emit("sitoutUpdate",{playerID:i.id,poolID:i.poolID,isSitout:Z})}let Z=!1,pe=!1;function Be(d=!0){console.log("sitoutPopover"+d),d&&t(5,b=[{type:"I`m Back",amount:0}]),d||t(5,b=i.possibleActions),t(21,pe=d)}let me=!1,ne=0,Se=0,_e=0;function z(){console.log("toggleRebuy"),t(23,ne=U.showValuesInBB?a*100-Math.round(i.stackSize*a*100)/100:a*100-i.stackSize),t(24,Se=U.showValuesInBB?a*20-Math.round(i.stackSize*a*100)/100:a*20-i.stackSize),Se<0&&t(24,Se=0),ne<0&&t(23,ne=0),t(25,_e=ne);const d=document.getElementById("rebuyPopover");me&&(d==null||d.hidePopover()),me||d==null||d.showPopover(),t(22,me=!me)}function Je(){console.log("toggleRebuy");let d=Math.round(ne*100)/100;d>0&&ce.emit("tryRebuy",{playerID:i.id,poolID:i.poolID,stackSize:d}),z()}let Te=!1;function ot(){const d=document.getElementById("hhPopover");Te&&(d==null||d.hidePopover()),Te||d==null||d.showPopover(),t(26,Te=!Te),t(2,c=l.length-1)}function Pe(d){console.log(`changeHandHistoryIndex(${d})`),c+d>=0&&c+d<l.length&&t(2,c+=d)}let re=!1;function Ue(){t(27,re=!0),setTimeout(()=>{t(27,re=!1)},1e3)}function Ie(d){let H=b[d];if(H.type==="I`m Back")return ye();t(10,E=parseFloat(E.toString().replace(",","."))),d===2&&(H.amount=Math.round(E*100)/100),H.amount!=0&&U.showValuesInBB&&(H.amount=Math.round(H.amount*a*100)/100),ce.emit("parseAction",{player:i,action:H}),t(5,b=[])}function He(d){console.log(`setRebuyAmount(${d})`),t(23,ne=d)}function bt(){console.log("leavePool"),ce.emit("leavePool",i)}function Re(d){s.$$.not_equal(v[0],d)&&(v[0]=d,t(7,v))}function Tt(d){s.$$.not_equal(U.showValuesInBB,d)&&(U.showValuesInBB=d,t(18,U))}function $e(d,H,ae,Me){ae[Me]=d,t(7,v)}function Le(d){s.$$.not_equal(U.showValuesInBB,d)&&(U.showValuesInBB=d,t(18,U))}function lt(d){T=d,t(11,T),t(0,i)}function ke(d){le=d,t(19,le)}function Ke(d){R=d,t(12,R)}function at(d,H){Ge[d?"unshift":"push"](()=>{p[H]=d,t(4,p)})}function Jt(d){s.$$.not_equal(U.showValuesInBB,d)&&(U.showValuesInBB=d,t(18,U))}const Kt=()=>{Pe(-1)},Yt=()=>{Pe(1)};function Ye(){ne=es(this.value),t(23,ne)}const et=()=>t(23,ne=Number(ne.toFixed(2))),ct=()=>{He(Se)},ts=()=>{He(_e)},Xt=d=>J(d);function ut(){E=es(this.value),t(10,E)}const Gt=()=>t(10,E=Number(E.toFixed(1)));function Ut(){E=es(this.value),t(10,E)}const Qt=d=>Ie(d),tt=d=>Ie(d);function st(d){$=d,t(15,$)}return s.$$set=d=>{"hero"in d&&t(0,i=d.hero)},s.$$.update=()=>{s.$$.dirty[0]&1|s.$$.dirty[1]&1024&&t(28,n=i.id===r),s.$$.dirty[0]&1&&console.log(t(11,T=i.position))},[i,l,c,g,p,b,y,v,w,C,E,T,R,L,P,$,ue,se,U,le,Z,pe,me,ne,Se,_e,Te,re,n,ee,M,J,K,ye,z,Je,ot,Pe,Ie,He,bt,r,Re,Tt,$e,Le,lt,ke,Ke,at,Jt,Kt,Yt,Ye,et,ct,ts,Xt,ut,Gt,Ut,Qt,tt,st]}class Ko extends je{constructor(e){super(),We(this,e,Jo,Wo,Fe,{hero:0},null,[-1,-1,-1,-1])}}function vr(s,e,t){const n=s.slice();return n[1]=e[t][0],n[2]=e[t][1],n}function Yo(s){let e,t,n,r,i,o,a=[],l=new Map,c,g;e=new go({}),n=new uo({}),i=new po({});let p=ge(Object.entries(s[0].players));const b=y=>y[1];for(let y=0;y<p.length;y+=1){let v=vr(s,p,y),w=b(v);l.set(w,a[y]=wr(w,v))}return{c(){Oe(e.$$.fragment),t=A(),Oe(n.$$.fragment),r=A(),Oe(i.$$.fragment),o=A();for(let y=0;y<a.length;y+=1)a[y].c();c=we()},l(y){Ne(e.$$.fragment,y),t=S(y),Ne(n.$$.fragment,y),r=S(y),Ne(i.$$.fragment,y),o=S(y);for(let v=0;v<a.length;v+=1)a[v].l(y);c=we()},m(y,v){qe(e,y,v),N(y,t,v),qe(n,y,v),N(y,r,v),qe(i,y,v),N(y,o,v);for(let w=0;w<a.length;w+=1)a[w]&&a[w].m(y,v);N(y,c,v),g=!0},p(y,v){v&1&&(p=ge(Object.entries(y[0].players)),_t(),a=kr(a,v,b,1,y,p,l,c.parentNode,ei,wr,c,vr),gt())},i(y){if(!g){X(e.$$.fragment,y),X(n.$$.fragment,y),X(i.$$.fragment,y);for(let v=0;v<p.length;v+=1)X(a[v]);g=!0}},o(y){Q(e.$$.fragment,y),Q(n.$$.fragment,y),Q(i.$$.fragment,y);for(let v=0;v<a.length;v+=1)Q(a[v]);g=!1},d(y){y&&(h(t),h(r),h(o),h(c)),De(e,y),De(n,y),De(i,y);for(let v=0;v<a.length;v+=1)a[v].d(y)}}}function Xo(s){let e,t;return e=new io({}),{c(){Oe(e.$$.fragment)},l(n){Ne(e.$$.fragment,n)},m(n,r){qe(e,n,r),t=!0},p:ie,i(n){t||(X(e.$$.fragment,n),t=!0)},o(n){Q(e.$$.fragment,n),t=!1},d(n){De(e,n)}}}function wr(s,e){let t,n,r;return n=new Ko({props:{hero:e[2]}}),{key:s,first:null,c(){t=we(),Oe(n.$$.fragment),this.h()},l(i){t=we(),Ne(n.$$.fragment,i),this.h()},h(){this.first=t},m(i,o){N(i,t,o),qe(n,i,o),r=!0},p(i,o){e=i;const a={};o&1&&(a.hero=e[2]),n.$set(a)},i(i){r||(X(n.$$.fragment,i),r=!0)},o(i){Q(n.$$.fragment,i),r=!1},d(i){i&&h(t),De(n,i)}}}function Go(s){let e,t,n,r;const i=[Xo,Yo],o=[];function a(l,c){return l[0]?1:0}return e=a(s),t=o[e]=i[e](s),{c(){t.c(),n=we()},l(l){t.l(l),n=we()},m(l,c){o[e].m(l,c),N(l,n,c),r=!0},p(l,c){let g=e;e=a(l),e===g?o[e].p(l,c):(_t(),Q(o[g],1,1,()=>{o[g]=null}),gt(),t=o[e],t?t.p(l,c):(t=o[e]=i[e](l),t.c()),X(t,1),t.m(n.parentNode,n))},i(l){r||(X(t),r=!0)},o(l){Q(t),r=!1},d(l){l&&h(n),o[e].d(l)}}}function Qo(s){let e,t;return e=new Xi({props:{$$slots:{default:[Go]},$$scope:{ctx:s}}}),{c(){Oe(e.$$.fragment)},l(n){Ne(e.$$.fragment,n)},m(n,r){qe(e,n,r),t=!0},p(n,[r]){const i={};r&33&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(X(e.$$.fragment,n),t=!0)},o(n){Q(e.$$.fragment,n),t=!1},d(n){De(e,n)}}}function Zo(s,e,t){let n;return nt(s,At,r=>t(0,n=r)),ce.on("updateUserInfo",({user:r,status:i})=>{console.log("updateUserInfo"),console.log(r),i===200&&At.set({name:r.name,balance:Math.round(r.balance*100)/100,avatar:r.avatar,email:r.email,settings:r.settings,players:r.players})}),St.set("lobby"),[n]}class sl extends je{constructor(e){super(),We(this,e,Zo,Qo,Fe,{})}}export{sl as component};
