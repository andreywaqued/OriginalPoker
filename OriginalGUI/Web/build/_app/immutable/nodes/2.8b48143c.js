import{r as tn,s as He,c as Wr,u as Jr,g as Kr,d as Yr,n as re,f as vr,e as rt,i as Xr,h as Tn,b as Ge,j as gt,k as Gr}from"../chunks/scheduler.31a33d78.js";import{t as Z,d as K,S as Fe,i as je,g as _,h as g,j as k,f as d,k as f,a as L,s as S,m as j,e as ke,c as A,n as W,y as u,z as te,A as yr,o as Q,B as oe,p as vt,b as yt,r as Ve,u as Oe,v as Ne,w as De,C as J,D as Tt,E as bt,F as gs,G as bs,H as Wt,I as ts}from"../chunks/index.94d998fe.js";import{w as sn}from"../chunks/index.722ab265.js";function ve(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function Qr(s,e){s.d(1),e.delete(s.key)}function Zr(s,e){Z(s,1,1,()=>{e.delete(s.key)})}function wr(s,e,t,n,r,i,o,a,l,c,h,p){let b=s.length,v=i.length,y=b;const B={};for(;y--;)B[s[y].key]=y;const I=[],E=new Map,R=new Map,P=[];for(y=v;y--;){const T=p(r,i,y),D=t(T);let U=o.get(D);U?n&&P.push(()=>U.p(T,e)):(U=c(D,T),U.c()),E.set(D,I[y]=U),D in B&&R.set(D,Math.abs(y-B[D]))}const O=new Set,w=new Set;function N(T){K(T,1),T.m(a,h),o.set(T.key,T),h=T.first,v--}for(;b&&v;){const T=I[v-1],D=s[b-1],U=T.key,ne=D.key;T===D?(h=T.first,b--,v--):E.has(ne)?!o.has(U)||O.has(U)?N(T):w.has(ne)?b--:R.get(U)>R.get(ne)?(w.add(U),N(T)):(O.add(ne),b--):(l(D,o),b--)}for(;b--;){const T=s[b];E.has(T.key)||l(T,o)}for(;v;)N(I[v-1]);return tn(P),I}function xr(s,e){const t={},n={},r={$$scope:1};let i=s.length;for(;i--;){const o=s[i],a=e[i];if(a){for(const l in o)l in a||(n[l]=1);for(const l in a)r[l]||(t[l]=a[l],r[l]=1);s[i]=a}else for(const l in o)r[l]=1}for(const o in n)o in t||(t[o]=void 0);return t}function $r(s){return typeof s=="object"&&s!==null?s:{}}const Pt=sn(null),it=Object.create(null);it.open="0";it.close="1";it.ping="2";it.pong="3";it.message="4";it.upgrade="5";it.noop="6";const ks=Object.create(null);Object.keys(it).forEach(s=>{ks[it[s]]=s});const Xs={type:"error",data:"parser error"},Br=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",kr=typeof ArrayBuffer=="function",Ir=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s&&s.buffer instanceof ArrayBuffer,nn=({type:s,data:e},t,n)=>Br&&e instanceof Blob?t?n(e):Pn(e,n):kr&&(e instanceof ArrayBuffer||Ir(e))?t?n(e):Pn(new Blob([e]),n):n(it[s]+(e||"")),Pn=(s,e)=>{const t=new FileReader;return t.onload=function(){const n=t.result.split(",")[1];e("b"+(n||""))},t.readAsDataURL(s)};function Rn(s){return s instanceof Uint8Array?s:s instanceof ArrayBuffer?new Uint8Array(s):new Uint8Array(s.buffer,s.byteOffset,s.byteLength)}let Ks;function eo(s,e){if(Br&&s.data instanceof Blob)return s.data.arrayBuffer().then(Rn).then(e);if(kr&&(s.data instanceof ArrayBuffer||Ir(s.data)))return e(Rn(s.data));nn(s,!1,t=>{Ks||(Ks=new TextEncoder),e(Ks.encode(t))})}const Vn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",es=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let s=0;s<Vn.length;s++)es[Vn.charCodeAt(s)]=s;const to=s=>{let e=s.length*.75,t=s.length,n,r=0,i,o,a,l;s[s.length-1]==="="&&(e--,s[s.length-2]==="="&&e--);const c=new ArrayBuffer(e),h=new Uint8Array(c);for(n=0;n<t;n+=4)i=es[s.charCodeAt(n)],o=es[s.charCodeAt(n+1)],a=es[s.charCodeAt(n+2)],l=es[s.charCodeAt(n+3)],h[r++]=i<<2|o>>4,h[r++]=(o&15)<<4|a>>2,h[r++]=(a&3)<<6|l&63;return c},so=typeof ArrayBuffer=="function",rn=(s,e)=>{if(typeof s!="string")return{type:"message",data:Er(s,e)};const t=s.charAt(0);return t==="b"?{type:"message",data:no(s.substring(1),e)}:ks[t]?s.length>1?{type:ks[t],data:s.substring(1)}:{type:ks[t]}:Xs},no=(s,e)=>{if(so){const t=to(s);return Er(t,e)}else return{base64:!0,data:s}},Er=(s,e)=>{switch(e){case"blob":return s instanceof Blob?s:new Blob([s]);case"arraybuffer":default:return s instanceof ArrayBuffer?s:s.buffer}},Cr=String.fromCharCode(30),ro=(s,e)=>{const t=s.length,n=new Array(t);let r=0;s.forEach((i,o)=>{nn(i,!1,a=>{n[o]=a,++r===t&&e(n.join(Cr))})})},oo=(s,e)=>{const t=s.split(Cr),n=[];for(let r=0;r<t.length;r++){const i=rn(t[r],e);if(n.push(i),i.type==="error")break}return n};function io(){return new TransformStream({transform(s,e){eo(s,t=>{const n=t.length;let r;if(n<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,n);else if(n<65536){r=new Uint8Array(3);const i=new DataView(r.buffer);i.setUint8(0,126),i.setUint16(1,n)}else{r=new Uint8Array(9);const i=new DataView(r.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(n))}s.data&&typeof s.data!="string"&&(r[0]|=128),e.enqueue(r),e.enqueue(t)})}})}let Ys;function vs(s){return s.reduce((e,t)=>e+t.length,0)}function ys(s,e){if(s[0].length===e)return s.shift();const t=new Uint8Array(e);let n=0;for(let r=0;r<e;r++)t[r]=s[0][n++],n===s[0].length&&(s.shift(),n=0);return s.length&&n<s[0].length&&(s[0]=s[0].slice(n)),t}function lo(s,e){Ys||(Ys=new TextDecoder);const t=[];let n=0,r=-1,i=!1;return new TransformStream({transform(o,a){for(t.push(o);;){if(n===0){if(vs(t)<1)break;const l=ys(t,1);i=(l[0]&128)===128,r=l[0]&127,r<126?n=3:r===126?n=1:n=2}else if(n===1){if(vs(t)<2)break;const l=ys(t,2);r=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),n=3}else if(n===2){if(vs(t)<8)break;const l=ys(t,8),c=new DataView(l.buffer,l.byteOffset,l.length),h=c.getUint32(0);if(h>Math.pow(2,53-32)-1){a.enqueue(Xs);break}r=h*Math.pow(2,32)+c.getUint32(4),n=3}else{if(vs(t)<r)break;const l=ys(t,r);a.enqueue(rn(i?l:Ys.decode(l),e)),n=0}if(r===0||r>s){a.enqueue(Xs);break}}}})}const Sr=4;function ye(s){if(s)return ao(s)}function ao(s){for(var e in ye.prototype)s[e]=ye.prototype[e];return s}ye.prototype.on=ye.prototype.addEventListener=function(s,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+s]=this._callbacks["$"+s]||[]).push(e),this};ye.prototype.once=function(s,e){function t(){this.off(s,t),e.apply(this,arguments)}return t.fn=e,this.on(s,t),this};ye.prototype.off=ye.prototype.removeListener=ye.prototype.removeAllListeners=ye.prototype.removeEventListener=function(s,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+s];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+s],this;for(var n,r=0;r<t.length;r++)if(n=t[r],n===e||n.fn===e){t.splice(r,1);break}return t.length===0&&delete this._callbacks["$"+s],this};ye.prototype.emit=function(s){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+s],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(t){t=t.slice(0);for(var n=0,r=t.length;n<r;++n)t[n].apply(this,e)}return this};ye.prototype.emitReserved=ye.prototype.emit;ye.prototype.listeners=function(s){return this._callbacks=this._callbacks||{},this._callbacks["$"+s]||[]};ye.prototype.hasListeners=function(s){return!!this.listeners(s).length};const Xe=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function Ar(s,...e){return e.reduce((t,n)=>(s.hasOwnProperty(n)&&(t[n]=s[n]),t),{})}const co=Xe.setTimeout,uo=Xe.clearTimeout;function Cs(s,e){e.useNativeTimers?(s.setTimeoutFn=co.bind(Xe),s.clearTimeoutFn=uo.bind(Xe)):(s.setTimeoutFn=Xe.setTimeout.bind(Xe),s.clearTimeoutFn=Xe.clearTimeout.bind(Xe))}const ho=1.33;function fo(s){return typeof s=="string"?po(s):Math.ceil((s.byteLength||s.size)*ho)}function po(s){let e=0,t=0;for(let n=0,r=s.length;n<r;n++)e=s.charCodeAt(n),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(n++,t+=4);return t}function mo(s){let e="";for(let t in s)s.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(s[t]));return e}function _o(s){let e={},t=s.split("&");for(let n=0,r=t.length;n<r;n++){let i=t[n].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}class go extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class on extends ye{constructor(e){super(),this.writable=!1,Cs(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,t,n){return super.emitReserved("error",new go(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=rn(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const t=mo(e);return t.length?"?"+t:""}}const Tr="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Gs=64,bo={};let On=0,ws=0,Nn;function Dn(s){let e="";do e=Tr[s%Gs]+e,s=Math.floor(s/Gs);while(s>0);return e}function Pr(){const s=Dn(+new Date);return s!==Nn?(On=0,Nn=s):s+"."+Dn(On++)}for(;ws<Gs;ws++)bo[Tr[ws]]=ws;let Rr=!1;try{Rr=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const vo=Rr;function Vr(s){const e=s.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||vo))return new XMLHttpRequest}catch{}if(!e)try{return new Xe[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function yo(){}const wo=function(){return new Vr({xdomain:!1}).responseType!=null}();class Bo extends on{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}const t=e&&e.forceBase64;this.supportsBinary=wo&&!t,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let n=0;this.polling&&(n++,this.once("pollComplete",function(){--n||t()})),this.writable||(n++,this.once("drain",function(){--n||t()}))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const t=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};oo(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,ro(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=Pr()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new ot(this.uri(),e)}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(r,i)=>{this.onError("xhr post error",r,i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,n)=>{this.onError("xhr poll error",t,n)}),this.pollXhr=e}}class ot extends ye{constructor(e,t){super(),Cs(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.data=t.data!==void 0?t.data:null,this.create()}create(){var e;const t=Ar(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd;const n=this.xhr=new Vr(t);try{n.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let r in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&n.setRequestHeader(r,this.opts.extraHeaders[r])}}catch{}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this.opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{var r;n.readyState===3&&((r=this.opts.cookieJar)===null||r===void 0||r.parseCookies(n)),n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},n.send(this.data)}catch(r){this.setTimeoutFn(()=>{this.onError(r)},0);return}typeof document<"u"&&(this.index=ot.requestsCount++,ot.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=yo,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete ot.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}ot.requestsCount=0;ot.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Ln);else if(typeof addEventListener=="function"){const s="onpagehide"in Xe?"pagehide":"unload";addEventListener(s,Ln,!1)}}function Ln(){for(let s in ot.requests)ot.requests.hasOwnProperty(s)&&ot.requests[s].abort()}const ln=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0))(),Bs=Xe.WebSocket||Xe.MozWebSocket,Mn=!0,ko="arraybuffer",zn=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Io extends on{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,n=zn?{}:Ar(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=Mn&&!zn?t?new Bs(e,t):new Bs(e):new Bs(e,t,n)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;nn(n,this.supportsBinary,i=>{const o={};try{Mn&&this.ws.send(i)}catch{}r&&ln(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Pr()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}check(){return!!Bs}}class Eo extends on{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{const t=lo(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=io();r.readable.pipeTo(e.writable),this.writer=r.writable.getWriter();const i=()=>{n.read().then(({done:a,value:l})=>{a||(this.onPacket(l),i())}).catch(a=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this.writer.write(o).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this.writer.write(n).then(()=>{r&&ln(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this.transport)===null||e===void 0||e.close()}}const Co={websocket:Io,webtransport:Eo,polling:Bo},So=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Ao=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Qs(s){const e=s,t=s.indexOf("["),n=s.indexOf("]");t!=-1&&n!=-1&&(s=s.substring(0,t)+s.substring(t,n).replace(/:/g,";")+s.substring(n,s.length));let r=So.exec(s||""),i={},o=14;for(;o--;)i[Ao[o]]=r[o]||"";return t!=-1&&n!=-1&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=To(i,i.path),i.queryKey=Po(i,i.query),i}function To(s,e){const t=/\/{2,9}/g,n=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function Po(s,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,r,i){r&&(t[r]=i)}),t}let Or=class jt extends ye{constructor(e,t={}){super(),this.binaryType=ko,this.writeBuffer=[],e&&typeof e=="object"&&(t=e,e=null),e?(e=Qs(e),t.hostname=e.host,t.secure=e.protocol==="https"||e.protocol==="wss",t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=Qs(t.host).host),Cs(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=_o(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=Sr,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new Co[e](n)}open(){let e;if(this.opts.rememberUpgrade&&jt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",t=>this.onClose("transport close",t))}probe(e){let t=this.createTransport(e),n=!1;jt.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",p=>{if(!n)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;jt.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(h(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const b=new Error("probe error");b.transport=t.name,this.emitReserved("upgradeError",b)}}))};function i(){n||(n=!0,h(),t.close(),t=null)}const o=p=>{const b=new Error("probe error: "+p);b.transport=t.name,i(),this.emitReserved("upgradeError",b)};function a(){o("transport closed")}function l(){o("socket closed")}function c(p){t&&p.name!==t.name&&i()}const h=()=>{t.removeListener("open",r),t.removeListener("error",o),t.removeListener("close",a),this.off("close",l),this.off("upgrading",c)};t.once("open",r),t.once("error",o),t.once("close",a),this.once("close",l),this.once("upgrading",c),this.upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||t.open()},200):t.open()}onOpen(){if(this.readyState="open",jt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let n=0;n<this.writeBuffer.length;n++){const r=this.writeBuffer[n].data;if(r&&(t+=fo(r)),n>0&&t>this.maxPayload)return this.writeBuffer.slice(0,n);t+=2}return this.writeBuffer}write(e,t,n){return this.sendPacket("message",e,t,n),this}send(e,t,n){return this.sendPacket("message",e,t,n),this}sendPacket(e,t,n,r){if(typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const i={type:e,data:t,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}onError(e){jt.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let n=0;const r=e.length;for(;n<r;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}};Or.protocol=Sr;function Ro(s,e="",t){let n=s;t=t||typeof location<"u"&&location,s==null&&(s=t.protocol+"//"+t.host),typeof s=="string"&&(s.charAt(0)==="/"&&(s.charAt(1)==="/"?s=t.protocol+s:s=t.host+s),/^(https?|wss?):\/\//.test(s)||(typeof t<"u"?s=t.protocol+"//"+s:s="https://"+s),n=Qs(s)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+e,n.href=n.protocol+"://"+i+(t&&t.port===n.port?"":":"+n.port),n}const Vo=typeof ArrayBuffer=="function",Oo=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s.buffer instanceof ArrayBuffer,Nr=Object.prototype.toString,No=typeof Blob=="function"||typeof Blob<"u"&&Nr.call(Blob)==="[object BlobConstructor]",Do=typeof File=="function"||typeof File<"u"&&Nr.call(File)==="[object FileConstructor]";function an(s){return Vo&&(s instanceof ArrayBuffer||Oo(s))||No&&s instanceof Blob||Do&&s instanceof File}function Is(s,e){if(!s||typeof s!="object")return!1;if(Array.isArray(s)){for(let t=0,n=s.length;t<n;t++)if(Is(s[t]))return!0;return!1}if(an(s))return!0;if(s.toJSON&&typeof s.toJSON=="function"&&arguments.length===1)return Is(s.toJSON(),!0);for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t)&&Is(s[t]))return!0;return!1}function Lo(s){const e=[],t=s.data,n=s;return n.data=Zs(t,e),n.attachments=e.length,{packet:n,buffers:e}}function Zs(s,e){if(!s)return s;if(an(s)){const t={_placeholder:!0,num:e.length};return e.push(s),t}else if(Array.isArray(s)){const t=new Array(s.length);for(let n=0;n<s.length;n++)t[n]=Zs(s[n],e);return t}else if(typeof s=="object"&&!(s instanceof Date)){const t={};for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=Zs(s[n],e));return t}return s}function Mo(s,e){return s.data=xs(s.data,e),delete s.attachments,s}function xs(s,e){if(!s)return s;if(s&&s._placeholder===!0){if(typeof s.num=="number"&&s.num>=0&&s.num<e.length)return e[s.num];throw new Error("illegal attachments")}else if(Array.isArray(s))for(let t=0;t<s.length;t++)s[t]=xs(s[t],e);else if(typeof s=="object")for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&(s[t]=xs(s[t],e));return s}const zo=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],qo=5;var x;(function(s){s[s.CONNECT=0]="CONNECT",s[s.DISCONNECT=1]="DISCONNECT",s[s.EVENT=2]="EVENT",s[s.ACK=3]="ACK",s[s.CONNECT_ERROR=4]="CONNECT_ERROR",s[s.BINARY_EVENT=5]="BINARY_EVENT",s[s.BINARY_ACK=6]="BINARY_ACK"})(x||(x={}));class Uo{constructor(e){this.replacer=e}encode(e){return(e.type===x.EVENT||e.type===x.ACK)&&Is(e)?this.encodeAsBinary({type:e.type===x.EVENT?x.BINARY_EVENT:x.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===x.BINARY_EVENT||e.type===x.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Lo(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}function qn(s){return Object.prototype.toString.call(s)==="[object Object]"}class cn extends ye{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===x.BINARY_EVENT;n||t.type===x.BINARY_ACK?(t.type=n?x.EVENT:x.ACK,this.reconstructor=new Ho(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(an(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(x[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===x.BINARY_EVENT||n.type===x.BINARY_ACK){const i=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);const o=e.substring(i,t);if(o!=Number(o)||e.charAt(t)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(e.charAt(t+1)==="/"){const i=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););n.nsp=e.substring(i,t)}else n.nsp="/";const r=e.charAt(t+1);if(r!==""&&Number(r)==r){const i=t+1;for(;++t;){const o=e.charAt(t);if(o==null||Number(o)!=o){--t;break}if(t===e.length)break}n.id=Number(e.substring(i,t+1))}if(e.charAt(++t)){const i=this.tryParse(e.substr(t));if(cn.isPayloadValid(n.type,i))n.data=i;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case x.CONNECT:return qn(t);case x.DISCONNECT:return t===void 0;case x.CONNECT_ERROR:return typeof t=="string"||qn(t);case x.EVENT:case x.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&zo.indexOf(t[0])===-1);case x.ACK:case x.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Ho{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=Mo(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Fo=Object.freeze(Object.defineProperty({__proto__:null,Decoder:cn,Encoder:Uo,get PacketType(){return x},protocol:qo},Symbol.toStringTag,{value:"Module"}));function $e(s,e,t){return s.on(e,t),function(){s.off(e,t)}}const jo=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Dr extends ye{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[$e(e,"open",this.onopen.bind(this)),$e(e,"packet",this.onpacket.bind(this)),$e(e,"error",this.onerror.bind(this)),$e(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(jo.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const n={type:x.EVENT,data:t};if(n.options={},n.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const o=this.ids++,a=t.pop();this._registerAckCallback(o,a),n.id=o}const r=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!r||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(e,t){var n;const r=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(r===void 0){this.acks[e]=t;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);t.call(this,new Error("operation has timed out"))},r);this.acks[e]=(...o)=>{this.io.clearTimeoutFn(i),t.apply(this,[null,...o])}}emitWithAck(e,...t){const n=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((r,i)=>{t.push((o,a)=>n?o?i(o):r(a):r(o)),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((r,...i)=>n!==this._queue[0]?void 0:(r!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(r)):(this._queue.shift(),t&&t(null,...i)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:x.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case x.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case x.EVENT:case x.BINARY_EVENT:this.onevent(e);break;case x.ACK:case x.BINARY_ACK:this.onack(e);break;case x.DISCONNECT:this.ondisconnect();break;case x.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(...r){n||(n=!0,t.packet({type:x.ACK,id:e,data:r}))}}onack(e){const t=this.acks[e.id];typeof t=="function"&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:x.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function Jt(s){s=s||{},this.ms=s.min||100,this.max=s.max||1e4,this.factor=s.factor||2,this.jitter=s.jitter>0&&s.jitter<=1?s.jitter:0,this.attempts=0}Jt.prototype.duration=function(){var s=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*s);s=Math.floor(e*10)&1?s+t:s-t}return Math.min(s,this.max)|0};Jt.prototype.reset=function(){this.attempts=0};Jt.prototype.setMin=function(s){this.ms=s};Jt.prototype.setMax=function(s){this.max=s};Jt.prototype.setJitter=function(s){this.jitter=s};class $s extends ye{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,Cs(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((n=t.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Jt({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;const r=t.parser||Fo;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Or(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=$e(t,"open",function(){n.onopen(),e&&e()}),i=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=$e(t,"error",i);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{r(),i(new Error("timeout")),t.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(r),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push($e(e,"ping",this.onping.bind(this)),$e(e,"data",this.ondata.bind(this)),$e(e,"error",this.onerror.bind(this)),$e(e,"close",this.onclose.bind(this)),$e(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){ln(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new Dr(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t)if(this.nsps[n].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(r=>{r?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",r)):e.onreconnect()}))},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const $t={};function Es(s,e){typeof s=="object"&&(e=s,s=void 0),e=e||{};const t=Ro(s,e.path||"/socket.io"),n=t.source,r=t.id,i=t.path,o=$t[r]&&i in $t[r].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let l;return a?l=new $s(n,e):($t[r]||($t[r]=new $s(n,e)),l=$t[r]),t.query&&!e.query&&(e.query=t.queryKey),l.socket(t.path,e)}Object.assign(Es,{Manager:$s,Socket:Dr,io:Es,connect:Es});const le=Es("https://originaltrial.onrender.com",{reconnection:!0,reconnectionAttempts:30,reconnectionDelay:1e3,timeout:2e4});le.on("connect",()=>{console.log("User connected on socketID:",le.id)});le.on("disconnect",()=>{console.log("User disconnected"),Pt.subscribe(s=>{s&&Pt.set(null)})});const Rt=sn();function Wo(s){let e,t;const n=s[1].default,r=Wr(n,s,s[0],null);return{c(){e=_("div"),r&&r.c(),this.h()},l(i){e=g(i,"DIV",{class:!0});var o=k(e);r&&r.l(o),o.forEach(d),this.h()},h(){f(e,"class","h-full w-full flex flex-col bg-neutral-900 bg-gradient-to-b from-neutral-600")},m(i,o){L(i,e,o),r&&r.m(e,null),t=!0},p(i,[o]){r&&r.p&&(!t||o&1)&&Jr(r,n,i,i[0],t?Yr(n,i[0],o,null):Kr(i[0]),null)},i(i){t||(K(r,i),t=!0)},o(i){Z(r,i),t=!1},d(i){i&&d(e),r&&r.d(i)}}}function Jo(s,e,t){let{$$slots:n={},$$scope:r}=e;return s.$$set=i=>{"$$scope"in i&&t(0,r=i.$$scope)},[r,n]}class Ko extends Fe{constructor(e){super(),je(this,e,Jo,Wo,He,{})}}function Un(s){let e,t=s[0].message+"",n;return{c(){e=_("p"),n=j(t),this.h()},l(r){e=g(r,"P",{class:!0});var i=k(e);n=W(i,t),i.forEach(d),this.h()},h(){f(e,"class","my-1 text-red-500")},m(r,i){L(r,e,i),u(e,n)},p(r,i){i&1&&t!==(t=r[0].message+"")&&Q(n,t)},d(r){r&&d(e)}}}function Yo(s){let e,t,n,r,i,o,a,l,c,h,p,b,v=s[0].message&&Un(s);return{c(){e=_("form"),t=_("input"),n=S(),r=_("input"),i=S(),o=_("button"),a=j("Login"),c=S(),v&&v.c(),h=ke(),this.h()},l(y){e=g(y,"FORM",{class:!0});var B=k(e);t=g(B,"INPUT",{class:!0,placeholder:!0,name:!0,type:!0,autocomplete:!0}),n=A(B),r=g(B,"INPUT",{class:!0,placeholder:!0,name:!0,type:!0,autocomplete:!0}),i=A(B),o=g(B,"BUTTON",{class:!0,type:!0});var I=k(o);a=W(I,"Login"),I.forEach(d),B.forEach(d),c=A(y),v&&v.l(y),h=ke(),this.h()},h(){f(t,"class","auth"),t.required=!0,f(t,"placeholder","Username"),f(t,"name","username"),f(t,"type","text"),f(t,"autocomplete","username"),f(r,"class","auth"),r.required=!0,f(r,"placeholder","Password"),f(r,"name","password"),f(r,"type","password"),f(r,"autocomplete","current-password"),o.disabled=l=s[0].btnDisabled,f(o,"class","auth filled mx-auto disabled:opacity-75"),f(o,"type","submit"),f(e,"class","flex w-full max-w-xs flex-col gap-4 px-2")},m(y,B){L(y,e,B),u(e,t),u(e,n),u(e,r),u(e,i),u(e,o),u(o,a),L(y,c,B),v&&v.m(y,B),L(y,h,B),p||(b=te(e,"submit",yr(s[1])),p=!0)},p(y,[B]){B&1&&l!==(l=y[0].btnDisabled)&&(o.disabled=l),y[0].message?v?v.p(y,B):(v=Un(y),v.c(),v.m(h.parentNode,h)):v&&(v.d(1),v=null)},i:re,o:re,d(y){y&&(d(e),d(c),d(h)),v&&v.d(y),p=!1,b()}}}function Xo(s,e,t){async function n(i){t(0,r={message:"",btnDisabled:!0});const o=new FormData(i.target),a=o.get("username"),l=o.get("password");console.log(a,l),le.emit("signIn",{user:a,password:l})}le.on("signInResponse",({response:i,status:o,user:a,error:l=""})=>{switch(console.log("signInResponse"),o){case 403:t(0,r.message=l,r);break}t(0,r.btnDisabled=!1,r)});let r={message:"",btnDisabled:!1};return[r,n]}class Go extends Fe{constructor(e){super(),je(this,e,Xo,Yo,He,{})}}function Hn(s){let e,t=s[0].message+"",n;return{c(){e=_("p"),n=j(t),this.h()},l(r){e=g(r,"P",{class:!0});var i=k(e);n=W(i,t),i.forEach(d),this.h()},h(){f(e,"class","my-2 text-red-700")},m(r,i){L(r,e,i),u(e,n)},p(r,i){i&1&&t!==(t=r[0].message+"")&&Q(n,t)},d(r){r&&d(e)}}}function Qo(s){let e,t,n,r,i,o,a,l,c,h,p,b,v,y,B,I,E,R,P=s[0].message&&Hn(s);return{c(){e=_("form"),t=_("input"),n=S(),r=_("input"),i=S(),o=_("input"),a=S(),l=_("input"),c=S(),h=_("input"),p=S(),b=_("button"),v=j("Register"),B=S(),P&&P.c(),I=ke(),this.h()},l(O){e=g(O,"FORM",{class:!0});var w=k(e);t=g(w,"INPUT",{class:!0,placeholder:!0,name:!0,type:!0,autocomplete:!0}),n=A(w),r=g(w,"INPUT",{class:!0,placeholder:!0,name:!0,type:!0,autocomplete:!0}),i=A(w),o=g(w,"INPUT",{class:!0,placeholder:!0,name:!0,type:!0,autocomplete:!0}),a=A(w),l=g(w,"INPUT",{class:!0,placeholder:!0,name:!0,type:!0,autocomplete:!0}),c=A(w),h=g(w,"INPUT",{class:!0,placeholder:!0,name:!0,type:!0,autocomplete:!0}),p=A(w),b=g(w,"BUTTON",{class:!0,type:!0});var N=k(b);v=W(N,"Register"),N.forEach(d),w.forEach(d),B=A(O),P&&P.l(O),I=ke(),this.h()},h(){f(t,"class","auth"),t.required=!0,f(t,"placeholder","Username"),f(t,"name","username"),f(t,"type","text"),f(t,"autocomplete","username"),f(r,"class","auth"),r.required=!0,f(r,"placeholder","Password"),f(r,"name","password"),f(r,"type","password"),f(r,"autocomplete","new-password"),f(o,"class","auth"),o.required=!0,f(o,"placeholder","Confirm Password"),f(o,"name","confirm_password"),f(o,"type","password"),f(o,"autocomplete","new-password"),f(l,"class","auth"),l.required=!0,f(l,"placeholder","E-mail"),f(l,"name","email"),f(l,"type","email"),f(l,"autocomplete","email"),f(h,"class","auth"),h.required=!0,f(h,"placeholder","Repeat your E-mail"),f(h,"name","confirm_email"),f(h,"type","email"),f(h,"autocomplete","email"),b.disabled=y=s[0].btnDisabled,f(b,"class","auth filled mx-auto disabled:opacity-75"),f(b,"type","submit"),f(e,"class","mb-2 flex w-full max-w-xs flex-col gap-4 px-2")},m(O,w){L(O,e,w),u(e,t),u(e,n),u(e,r),u(e,i),u(e,o),u(e,a),u(e,l),u(e,c),u(e,h),u(e,p),u(e,b),u(b,v),L(O,B,w),P&&P.m(O,w),L(O,I,w),E||(R=te(e,"submit",yr(s[1])),E=!0)},p(O,[w]){w&1&&y!==(y=O[0].btnDisabled)&&(b.disabled=y),O[0].message?P?P.p(O,w):(P=Hn(O),P.c(),P.m(I.parentNode,I)):P&&(P.d(1),P=null)},i:re,o:re,d(O){O&&(d(e),d(B),d(I)),P&&P.d(O),E=!1,R()}}}function Zo(s,e,t){let n,r;async function i(a){t(0,o={message:"",btnDisabled:!0}),console.log("handleSignup");const l=new FormData(a.target),c=l.get("confirm_password"),h=l.get("email"),p=l.get("confirm_email");if(n=l.get("username"),r=l.get("password"),r!==c)return t(0,o={message:"Password not match",btnDisabled:!1});if(h!==p)return t(0,o={message:"Email not match",btnDisabled:!1});console.log(n,r),le.emit("signUp",{user:n,password:r,email:h})}le.on("signUpResponse",({status:a,error:l=""})=>{switch(console.log("signUpResponse"),a){case 200:le.emit("signIn",{user:n,password:r});break;case 403:t(0,o.message=l,o);break}t(0,o.btnDisabled=!1,o)});let o={message:"",btnDisabled:!1};return[o,i]}class xo extends Fe{constructor(e){super(),je(this,e,Zo,Qo,He,{})}}function $o(s){let e,t,n,r="Already have a account? <u>Login here</u>",i,o,a;return e=new xo({}),{c(){Ve(e.$$.fragment),t=S(),n=_("button"),n.innerHTML=r,this.h()},l(l){Oe(e.$$.fragment,l),t=A(l),n=g(l,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(n)!=="svelte-6z6t3e"&&(n.innerHTML=r),this.h()},h(){f(n,"class","mx-auto rounded text-sm text-white")},m(l,c){Ne(e,l,c),L(l,t,c),L(l,n,c),i=!0,o||(a=te(n,"click",s[3]),o=!0)},p:re,i(l){i||(K(e.$$.fragment,l),i=!0)},o(l){Z(e.$$.fragment,l),i=!1},d(l){l&&(d(t),d(n)),De(e,l),o=!1,a()}}}function ei(s){let e,t,n,r="Forgot your Password?",i,o,a="Register",l,c,h;return e=new Go({}),{c(){Ve(e.$$.fragment),t=S(),n=_("button"),n.textContent=r,i=S(),o=_("button"),o.textContent=a,this.h()},l(p){Oe(e.$$.fragment,p),t=A(p),n=g(p,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(n)!=="svelte-866qp3"&&(n.textContent=r),i=A(p),o=g(p,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(o)!=="svelte-1kunee3"&&(o.textContent=a),this.h()},h(){f(n,"class","mb-4 mt-0.5 text-sm text-white underline underline-offset-2"),f(o,"class","auth ringed")},m(p,b){Ne(e,p,b),L(p,t,b),L(p,n,b),L(p,i,b),L(p,o,b),l=!0,c||(h=te(o,"click",s[2]),c=!0)},p:re,i(p){l||(K(e.$$.fragment,p),l=!0)},o(p){Z(e.$$.fragment,p),l=!1},d(p){p&&(d(t),d(n),d(i),d(o)),De(e,p),c=!1,h()}}}function ti(s){let e,t,n,r,i,o,a,l,c,h='<p class="text-white">Need help?</p> <a href="tel:+551195284-4514" class="text-white">(11)95284-4514</a>',p,b,v='<p class="text-neutral-500">Terms of Service &amp; Privacy Policy</p>',y;const B=[ei,$o],I=[];function E(R,P){return R[0]===R[1].signin?0:R[0]===R[1].signup?1:-1}return~(o=E(s))&&(a=I[o]=B[o](s)),{c(){e=_("section"),t=_("img"),r=S(),i=_("div"),a&&a.c(),l=S(),c=_("div"),c.innerHTML=h,p=S(),b=_("div"),b.innerHTML=v,this.h()},l(R){e=g(R,"SECTION",{class:!0});var P=k(e);t=g(P,"IMG",{class:!0,alt:!0,src:!0}),r=A(P),i=g(P,"DIV",{class:!0});var O=k(i);a&&a.l(O),O.forEach(d),l=A(P),c=g(P,"DIV",{class:!0,"data-svelte-h":!0}),oe(c)!=="svelte-rpqs74"&&(c.innerHTML=h),p=A(P),b=g(P,"DIV",{class:!0,"data-svelte-h":!0}),oe(b)!=="svelte-3d58ij"&&(b.innerHTML=v),P.forEach(d),this.h()},h(){f(t,"class","h-14"),f(t,"alt","logo"),vr(t.src,n="/logos/OriginalLogoWhite.png")||f(t,"src",n),f(i,"class","flex w-full flex-col items-center justify-center"),f(c,"class","flex flex-col items-center justify-center"),f(b,"class","flex items-center justify-center"),f(e,"class","flex h-full w-full flex-col items-center justify-between py-10")},m(R,P){L(R,e,P),u(e,t),u(e,r),u(e,i),~o&&I[o].m(i,null),u(e,l),u(e,c),u(e,p),u(e,b),y=!0},p(R,[P]){let O=o;o=E(R),o===O?~o&&I[o].p(R,P):(a&&(vt(),Z(I[O],1,1,()=>{I[O]=null}),yt()),~o?(a=I[o],a?a.p(R,P):(a=I[o]=B[o](R),a.c()),K(a,1),a.m(i,null)):a=null)},i(R){y||(K(a),y=!0)},o(R){Z(a),y=!1},d(R){R&&d(e),~o&&I[o].d()}}}function si(s,e,t){const n={signin:0,signup:1};let r=n.signin;return[r,n,()=>t(0,r=n.signup),()=>t(0,r=n.signin)]}class ni extends Fe{constructor(e){super(),je(this,e,si,ti,He,{})}}const en=sn({lightning1:{gameTitle:"NL 10",blinds:"$0.05 / $0.10",players:0,minBuyIn:2,maxBuyIn:10,buyInAmount:-1},lightning2:{gameTitle:"NL 50",blinds:"$0.25 / $0.50",players:0,minBuyIn:10,maxBuyIn:50,buyInAmount:-1},lightning3:{gameTitle:"NL 100",blinds:"$0.50 / $1.00",players:0,minBuyIn:20,maxBuyIn:100,buyInAmount:-1},lightning4:{gameTitle:"NL 200",blinds:"$1.00 / $2.00",players:0,minBuyIn:40,maxBuyIn:200,buyInAmount:-1}});function Fn(s,e,t){const n=s.slice();return n[5]=e[t][0],n[6]=e[t][1],n}function ri(s){let e=s[2][s[6].poolID].gameTitle+"",t;return{c(){t=j(e)},l(n){t=W(n,e)},m(n,r){L(n,t,r)},p(n,r){r&5&&e!==(e=n[2][n[6].poolID].gameTitle+"")&&Q(t,e)},d(n){n&&d(t)}}}function oi(s){let e;return{c(){e=j("Lobby")},l(t){e=W(t,"Lobby")},m(t,n){L(t,e,n)},p:re,d(t){t&&d(e)}}}function jn(s,e){let t,n,r,i,o;function a(p,b){return p[5]==="lobby"?oi:ri}let l=a(e),c=l(e);function h(){return e[4](e[5])}return{key:s,first:null,c(){t=_("button"),n=_("p"),c.c(),r=S(),this.h()},l(p){t=g(p,"BUTTON",{class:!0});var b=k(t);n=g(b,"P",{class:!0});var v=k(n);c.l(v),v.forEach(d),r=A(b),b.forEach(d),this.h()},h(){f(n,"class","whitespace-nowrap"),f(t,"class","rounded border-2 border-amber-300 bg-black px-2 py-1 text-sm font-bold uppercase text-emerald-400"),J(t,"border-amber-300",e[1]===e[5]),this.first=t},m(p,b){L(p,t,b),u(t,n),c.m(n,null),u(t,r),i||(o=te(t,"click",h),i=!0)},p(p,b){e=p,l===(l=a(e))&&c?c.p(e,b):(c.d(1),c=l(e),c&&(c.c(),c.m(n,null))),b&3&&J(t,"border-amber-300",e[1]===e[5])},d(p){p&&d(t),c.d(),i=!1,o()}}}function ii(s){let e,t=[],n=new Map,r=ve(Object.entries({lobby:null,...s[0].players}));const i=o=>o[5];for(let o=0;o<r.length;o+=1){let a=Fn(s,r,o),l=i(a);n.set(l,t[o]=jn(l,a))}return{c(){e=_("div");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=g(o,"DIV",{class:!0});var a=k(e);for(let l=0;l<t.length;l+=1)t[l].l(a);a.forEach(d),this.h()},h(){f(e,"class","flex h-14 w-full items-center gap-x-2 overflow-x-auto border-y-2 border-[rgb(69,69,69)] bg-slate-700 px-2")},m(o,a){L(o,e,a);for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(e,null)},p(o,[a]){a&15&&(r=ve(Object.entries({lobby:null,...o[0].players})),t=wr(t,a,i,1,o,r,n,e,Qr,jn,null,Fn))},i:re,o:re,d(o){o&&d(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function li(s,e,t){let n,r,i;rt(s,Pt,l=>t(0,n=l)),rt(s,Rt,l=>t(1,r=l)),rt(s,en,l=>t(2,i=l));function o(l){Rt.set(l)}return[n,r,i,o,l=>o(l)]}class ai extends Fe{constructor(e){super(),je(this,e,li,ii,He,{})}}function Wn(s,e,t){const n=s.slice();return n[5]=e[t][0],n[6]=e[t][1],n}function Jn(s){let e,t,n=s[6].gameTitle+"",r,i,o,a,l,c="Blinds",h,p,b=s[6].blinds+"",v,y,B,I,E="Players",R,P,O=s[6].players+"",w,N,T,D,U,ne="Min",$,me,se,z=s[6].minBuyIn+"",q,Y,X,ue,Ee="Max",ee,G,_e,he=s[6].maxBuyIn+"",ge,de,be,V="Join now",we,lt,Le;return{c(){e=_("div"),t=_("h3"),r=j(n),i=S(),o=_("div"),a=_("div"),l=_("p"),l.textContent=c,h=S(),p=_("p"),v=j(b),y=S(),B=_("div"),I=_("p"),I.textContent=E,R=S(),P=_("p"),w=j(O),N=S(),T=_("div"),D=_("div"),U=_("p"),U.textContent=ne,$=S(),me=_("p"),se=j("$"),q=j(z),Y=S(),X=_("div"),ue=_("p"),ue.textContent=Ee,ee=S(),G=_("p"),_e=j("$"),ge=j(he),de=S(),be=_("button"),be.textContent=V,we=S(),this.h()},l(Me){e=g(Me,"DIV",{class:!0});var fe=k(e);t=g(fe,"H3",{class:!0});var We=k(t);r=W(We,n),We.forEach(d),i=A(fe),o=g(fe,"DIV",{class:!0});var Ue=k(o);a=g(Ue,"DIV",{});var Je=k(a);l=g(Je,"P",{class:!0,"data-svelte-h":!0}),oe(l)!=="svelte-1pvh4tj"&&(l.textContent=c),h=A(Je),p=g(Je,"P",{class:!0});var Ce=k(p);v=W(Ce,b),Ce.forEach(d),Je.forEach(d),y=A(Ue),B=g(Ue,"DIV",{});var Te=k(B);I=g(Te,"P",{class:!0,"data-svelte-h":!0}),oe(I)!=="svelte-gbpa8t"&&(I.textContent=E),R=A(Te),P=g(Te,"P",{class:!0});var et=k(P);w=W(et,O),et.forEach(d),Te.forEach(d),N=A(Ue),T=g(Ue,"DIV",{class:!0});var Qe=k(T);D=g(Qe,"DIV",{});var tt=k(D);U=g(tt,"P",{class:!0,"data-svelte-h":!0}),oe(U)!=="svelte-1oc3aez"&&(U.textContent=ne),$=A(tt),me=g(tt,"P",{class:!0});var ze=k(me);se=W(ze,"$"),q=W(ze,z),ze.forEach(d),tt.forEach(d),Y=A(Qe),X=g(Qe,"DIV",{});var at=k(X);ue=g(at,"P",{class:!0,"data-svelte-h":!0}),oe(ue)!=="svelte-1yeybox"&&(ue.textContent=Ee),ee=A(at),G=g(at,"P",{class:!0});var ct=k(G);_e=W(ct,"$"),ge=W(ct,he),ct.forEach(d),at.forEach(d),Qe.forEach(d),Ue.forEach(d),de=A(fe),be=g(fe,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(be)!=="svelte-z142ym"&&(be.textContent=V),we=A(fe),fe.forEach(d),this.h()},h(){f(t,"class","text-center text-2xl font-extrabold"),f(l,"class","description"),f(p,"class","title"),f(I,"class","description"),f(P,"class","title"),f(U,"class","description"),f(me,"class","title"),f(ue,"class","description"),f(G,"class","title"),f(T,"class","flex justify-around"),f(o,"class","space-y-4 border-y-2 border-zinc-600 py-2 text-center"),f(be,"class","mx-auto !mb-2 !mt-4 w-full rounded-lg bg-blue-400 py-1 text-center text-sm font-extrabold uppercase"),f(e,"class","w-36 space-y-2 rounded-lg border-2 border-[rgb(69,69,69)] bg-[rgb(49,49,49)] p-2 text-white")},m(Me,fe){L(Me,e,fe),u(e,t),u(t,r),u(e,i),u(e,o),u(o,a),u(a,l),u(a,h),u(a,p),u(p,v),u(o,y),u(o,B),u(B,I),u(B,R),u(B,P),u(P,w),u(o,N),u(o,T),u(T,D),u(D,U),u(D,$),u(D,me),u(me,se),u(me,q),u(T,Y),u(T,X),u(X,ue),u(X,ee),u(X,G),u(G,_e),u(G,ge),u(e,de),u(e,be),u(e,we),lt||(Le=te(be,"click",function(){Xr(s[2](s[5]))&&s[2](s[5]).apply(this,arguments)}),lt=!0)},p(Me,fe){s=Me,fe&2&&n!==(n=s[6].gameTitle+"")&&Q(r,n),fe&2&&b!==(b=s[6].blinds+"")&&Q(v,b),fe&2&&O!==(O=s[6].players+"")&&Q(w,O),fe&2&&z!==(z=s[6].minBuyIn+"")&&Q(q,z),fe&2&&he!==(he=s[6].maxBuyIn+"")&&Q(ge,he)},d(Me){Me&&d(e),lt=!1,Le()}}}function ci(s){let e,t,n,r="Lightning Cash",i,o,a=ve(Object.entries(s[1])),l=[];for(let c=0;c<a.length;c+=1)l[c]=Jn(Wn(s,a,c));return{c(){e=_("div"),t=_("section"),n=_("h2"),n.textContent=r,i=S(),o=_("div");for(let c=0;c<l.length;c+=1)l[c].c();this.h()},l(c){e=g(c,"DIV",{class:!0});var h=k(e);t=g(h,"SECTION",{});var p=k(t);n=g(p,"H2",{class:!0,"data-svelte-h":!0}),oe(n)!=="svelte-1qy4o4j"&&(n.textContent=r),i=A(p),o=g(p,"DIV",{class:!0});var b=k(o);for(let v=0;v<l.length;v+=1)l[v].l(b);b.forEach(d),p.forEach(d),h.forEach(d),this.h()},h(){f(n,"class","pb-2 pl-6 pt-4 text-lg font-bold uppercase tracking-widest text-white"),f(o,"class","grid max-w-fit grid-flow-col gap-x-2 overflow-x-auto px-3"),f(e,"class","h-full"),J(e,"hidden",!s[0])},m(c,h){L(c,e,h),u(e,t),u(t,n),u(t,i),u(t,o);for(let p=0;p<l.length;p+=1)l[p]&&l[p].m(o,null)},p(c,[h]){if(h&6){a=ve(Object.entries(c[1]));let p;for(p=0;p<a.length;p+=1){const b=Wn(c,a,p);l[p]?l[p].p(b,h):(l[p]=Jn(b),l[p].c(),l[p].m(o,null))}for(;p<l.length;p+=1)l[p].d(1);l.length=a.length}h&1&&J(e,"hidden",!c[0])},i:re,o:re,d(c){c&&d(e),Tt(l,c)}}}function ui(s,e,t){let n,r,i,o;rt(s,Pt,l=>t(4,r=l)),rt(s,en,l=>t(1,i=l)),rt(s,Rt,l=>t(3,o=l)),le.on("updatePools",l=>{console.log("updatePools");let c=i;Object.keys(l).forEach(h=>{const p=l[h],b=c[h];b.gameTitle=p.gameTitle,b.blinds=`$${p.sb.toFixed(2)} / $${p.bb.toFixed(2)}`,b.minBuyIn=p.minBuyIn,b.maxBuyIn=p.maxBuyIn,b.players=p.currentPlayers,b.buyInAmount===-1&&(b.buyInAmount=p.maxBuyIn)}),console.log(c),en.set(c)}),le.on("enterPoolResponse",l=>{if(console.log("enterPoolResponse"),console.log(l),l.status===200){const c=l.player.id;if(!c)throw new Error("Can't get player ID");Pt.update(h=>{if(h===null)throw new Error("User doesn't exist");return h.players={...h.players,[c]:l.player},console.log(h),h}),Rt.set(c)}});function a(l){console.log("openNewTable");let c=parseFloat(i[l].buyInAmount.toString());c=Math.round(c*100)/100;const h=(r==null?void 0:r.balance)||0;return console.log(c),console.log(h),console.log(i[l].minBuyIn),console.log(i[l].maxBuyIn),console.log(h<i[l].buyInAmount||i[l].buyInAmount<i[l].minBuyIn||i[l].buyInAmount>i[l].maxBuyIn),c>0&&Object.keys(r==null?void 0:r.players).length<4&&le.emit("enterPool",{poolID:l,stackSize:c}),null}return s.$$.update=()=>{s.$$.dirty&8&&t(0,n=o==="lobby")},[n,i,a,o]}class hi extends Fe{constructor(e){super(),je(this,e,ui,ci,He,{})}}function fi(s){var R,P;let e,t,n,r,i,o,a=s[0].toLocaleTimeString()+"",l,c,h,p=((R=s[2])==null?void 0:R.name)+"",b,v,y,B,I=((P=s[2])==null?void 0:P.balance)+"",E;return{c(){e=_("div"),t=_("img"),r=S(),i=_("div"),o=_("p"),l=j(a),c=S(),h=_("p"),b=j(p),v=S(),y=_("p"),B=j("$"),E=j(I),this.h()},l(O){e=g(O,"DIV",{class:!0});var w=k(e);t=g(w,"IMG",{class:!0,src:!0}),r=A(w),i=g(w,"DIV",{class:!0});var N=k(i);o=g(N,"P",{});var T=k(o);l=W(T,a),T.forEach(d),c=A(N),h=g(N,"P",{class:!0});var D=k(h);b=W(D,p),D.forEach(d),v=A(N),y=g(N,"P",{});var U=k(y);B=W(U,"$"),E=W(U,I),U.forEach(d),N.forEach(d),w.forEach(d),this.h()},h(){f(t,"class","ml-2 h-12"),vr(t.src,n="/logos/OriginalLogoWhite.png")||f(t,"src",n),f(h,"class","font-bold"),f(i,"class","grid text-center"),f(e,"class","flex items-center justify-between p-2 text-white"),J(e,"hidden",!s[1])},m(O,w){L(O,e,w),u(e,t),u(e,r),u(e,i),u(i,o),u(o,l),u(i,c),u(i,h),u(h,b),u(i,v),u(i,y),u(y,B),u(y,E)},p(O,[w]){var N,T;w&1&&a!==(a=O[0].toLocaleTimeString()+"")&&Q(l,a),w&4&&p!==(p=((N=O[2])==null?void 0:N.name)+"")&&Q(b,p),w&4&&I!==(I=((T=O[2])==null?void 0:T.balance)+"")&&Q(E,I),w&2&&J(e,"hidden",!O[1])},i:re,o:re,d(O){O&&d(e)}}}function di(s,e,t){let n,r,i;rt(s,Rt,a=>t(3,r=a)),rt(s,Pt,a=>t(2,i=a));let o=new Date;return setInterval(()=>{t(0,o=new Date)},1e3*1),s.$$.update=()=>{s.$$.dirty&8&&t(1,n=r==="lobby")},[o,n,i,r]}class pi extends Fe{constructor(e){super(),je(this,e,di,fi,He,{})}}function mi(s){let e,t;return{c(){e=_("a"),t=_("div"),this.h()},l(n){e=g(n,"A",{class:!0,href:!0});var r=k(e);t=g(r,"DIV",{class:!0,style:!0}),k(t).forEach(d),r.forEach(d),this.h()},h(){f(t,"class","adsImage svelte-19xb7at"),f(t,"style",s[0]),f(e,"class","adsDiv svelte-19xb7at"),f(e,"href",s[1])},m(n,r){L(n,e,r),u(e,t)},p(n,[r]){r&1&&f(t,"style",n[0]),r&2&&f(e,"href",n[1])},i:re,o:re,d(n){n&&d(e)}}}function _i(s,e,t){let n,r,i,{adsIndex:o=0}=e;const a=()=>{t(2,o=Math.floor(Math.random()*c.length))},l=["onfire proporo.png","jbl wave.png","monitor gamer.png","moob cadeira.png","SUITS.png"],c=["https://wa.me/5567999755676","https://www.amazon.com.br/Fones-ouvido-JBL-Wave-Buds/dp/B0BHDRW1DJ/ref=sr_1_30?crid=17T8BQGWFZ1TZ&keywords=fone+de+ouvido+bluetooth&qid=1696690494&sprefix=fone+de+ouvido%2Caps%2C224&sr=8-30&ufe=app_do%3Aamzn1.fos.db68964d-7c0e-4bb2-a95c-e5cb9e32eb12","https://www.amazon.com.br/Monitor-Gamer-AOC-SPEED-75Hz/dp/B08TMTQH9H/ref=sr_1_11?__mk_pt_BR=%C3%85M%C3%85%C5%BD%C3%95%C3%91&crid=7I89CUXI7OED&keywords=monitor&qid=1696691981&sprefix=monitor%2Caps%2C224&sr=8-11&ufe=app_do%3Aamzn1.fos.25548f35-0de7-44b3-b28e-0f56f3f96147","https://www.amazon.com.br/Cadeira-Gamer-Gt-Racer-Preto/dp/B083M7KDYX/ref=sr_1_11?__mk_pt_BR=%C3%85M%C3%85%C5%BD%C3%95%C3%91&crid=3BPR5G6TES3T1&keywords=cadeira%2Bgamer&qid=1696691991&sprefix=cadeira%2Bgame%2Caps%2C277&sr=8-11&ufe=app_do%3Aamzn1.fos.25548f35-0de7-44b3-b28e-0f56f3f96147&th=1","https://www.suitspokerteam.com.br"];return s.$$set=h=>{"adsIndex"in h&&t(2,o=h.adsIndex)},s.$$.update=()=>{s.$$.dirty&4&&t(1,n=c[o]),s.$$.dirty&4&&t(4,r=l[o]),s.$$.dirty&16&&t(0,i=`--ads-image-url:url('../../../anunciantes/${r}');`)},[i,n,o,a,r]}class gi extends Fe{constructor(e){super(),je(this,e,_i,mi,He,{adsIndex:2,changeAds:3})}get changeAds(){return this.$$.ctx[3]}}function bi(s){let e;return{c(){e=_("div"),this.h()},l(t){e=g(t,"DIV",{class:!0,style:!0}),k(e).forEach(d),this.h()},h(){f(e,"class","card svelte-1u6gdwv"),f(e,"style",s[0])},m(t,n){L(t,e,n)},p(t,[n]){n&1&&f(e,"style",t[0])},i:re,o:re,d(t){t&&d(e)}}}function vi(s,e,t){let n,r,{cardString:i}=e,{deck:o}=e;return s.$$set=a=>{"cardString"in a&&t(1,i=a.cardString),"deck"in a&&t(2,o=a.deck)},s.$$.update=()=>{s.$$.dirty&6&&t(3,n=`url('../../../baralho/${o}/${i}.png')`),s.$$.dirty&8&&t(0,r=`--card-url:${n}`)},[r,i,o,n]}class un extends Fe{constructor(e){super(),je(this,e,vi,bi,He,{cardString:1,deck:2})}}function Kn(s,e,t){const n=s.slice();return n[41]=e[t],n}function Yn(s,e,t){const n=s.slice();return n[41]=e[t],n}function yi(s){let e=s[15].toUpperCase()+"",t;return{c(){t=j(e)},l(n){t=W(n,e)},m(n,r){L(n,t,r)},p(n,r){r[0]&32768&&e!==(e=n[15].toUpperCase()+"")&&Q(t,e)},d(n){n&&d(t)}}}function wi(s){let e=(s[2].length>=10?s[2].substring(0,7)+"...":s[2])+"",t;return{c(){t=j(e)},l(n){t=W(n,e)},m(n,r){L(n,t,r)},p(n,r){r[0]&4&&e!==(e=(n[2].length>=10?n[2].substring(0,7)+"...":n[2])+"")&&Q(t,e)},d(n){n&&d(t)}}}function Xn(s){let e,t,n=s[12]?"":"$ ",r,i,o=s[12]?" BB":"",a;return{c(){e=_("div"),t=_("span"),r=j(n),i=j(s[0]),a=j(o),this.h()},l(l){e=g(l,"DIV",{class:!0});var c=k(e);t=g(c,"SPAN",{class:!0});var h=k(t);r=W(h,n),i=W(h,s[0]),a=W(h,o),h.forEach(d),c.forEach(d),this.h()},h(){f(t,"class","svelte-1arqeps"),f(e,"class","playerBet svelte-1arqeps")},m(l,c){L(l,e,c),u(e,t),u(t,r),u(t,i),u(t,a)},p(l,c){c[0]&4096&&n!==(n=l[12]?"":"$ ")&&Q(r,n),c[0]&1&&Q(i,l[0]),c[0]&4096&&o!==(o=l[12]?" BB":"")&&Q(a,o)},d(l){l&&d(e)}}}function Bi(s){let e,t,n=ve(s[4]),r=[];for(let o=0;o<n.length;o+=1)r[o]=Gn(Kn(s,n,o));const i=o=>Z(r[o],1,1,()=>{r[o]=null});return{c(){e=_("div");for(let o=0;o<r.length;o+=1)r[o].c();this.h()},l(o){e=g(o,"DIV",{class:!0});var a=k(e);for(let l=0;l<r.length;l+=1)r[l].l(a);a.forEach(d),this.h()},h(){f(e,"class","playerCards svelte-1arqeps"),J(e,"fold",s[7])},m(o,a){L(o,e,a);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(e,null);s[35](e),t=!0},p(o,a){if(a[0]&16){n=ve(o[4]);let l;for(l=0;l<n.length;l+=1){const c=Kn(o,n,l);r[l]?(r[l].p(c,a),K(r[l],1)):(r[l]=Gn(c),r[l].c(),K(r[l],1),r[l].m(e,null))}for(vt(),l=n.length;l<r.length;l+=1)i(l);yt()}(!t||a[0]&128)&&J(e,"fold",o[7])},i(o){if(!t){for(let a=0;a<n.length;a+=1)K(r[a]);t=!0}},o(o){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)Z(r[a]);t=!1},d(o){o&&d(e),Tt(r,o),s[35](null)}}}function ki(s){let e,t,n=ve(s[4]),r=[];for(let o=0;o<n.length;o+=1)r[o]=Qn(Yn(s,n,o));const i=o=>Z(r[o],1,1,()=>{r[o]=null});return{c(){e=_("div");for(let o=0;o<r.length;o+=1)r[o].c();this.h()},l(o){e=g(o,"DIV",{class:!0});var a=k(e);for(let l=0;l<r.length;l+=1)r[l].l(a);a.forEach(d),this.h()},h(){f(e,"class","playerCardsHero svelte-1arqeps"),J(e,"show",Ei),J(e,"fold",s[7]&&s[9])},m(o,a){L(o,e,a);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(e,null);s[34](e),t=!0},p(o,a){if(a[0]&16){n=ve(o[4]);let l;for(l=0;l<n.length;l+=1){const c=Yn(o,n,l);r[l]?(r[l].p(c,a),K(r[l],1)):(r[l]=Qn(c),r[l].c(),K(r[l],1),r[l].m(e,null))}for(vt(),l=n.length;l<r.length;l+=1)i(l);yt()}(!t||a[0]&640)&&J(e,"fold",o[7]&&o[9])},i(o){if(!t){for(let a=0;a<n.length;a+=1)K(r[a]);t=!0}},o(o){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)Z(r[a]);t=!1},d(o){o&&d(e),Tt(r,o),s[34](null)}}}function Gn(s){let e,t,n;return t=new un({props:{cardString:s[41],deck:Lr}}),{c(){e=_("div"),Ve(t.$$.fragment),this.h()},l(r){e=g(r,"DIV",{class:!0});var i=k(e);Oe(t.$$.fragment,i),i.forEach(d),this.h()},h(){f(e,"class","card svelte-1arqeps")},m(r,i){L(r,e,i),Ne(t,e,null),n=!0},p(r,i){const o={};i[0]&16&&(o.cardString=r[41]),t.$set(o)},i(r){n||(K(t.$$.fragment,r),n=!0)},o(r){Z(t.$$.fragment,r),n=!1},d(r){r&&d(e),De(t)}}}function Qn(s){let e,t,n;return t=new un({props:{cardString:s[41],deck:Lr}}),{c(){e=_("div"),Ve(t.$$.fragment),this.h()},l(r){e=g(r,"DIV",{class:!0});var i=k(e);Oe(t.$$.fragment,i),i.forEach(d),this.h()},h(){f(e,"class","card svelte-1arqeps")},m(r,i){L(r,e,i),Ne(t,e,null),n=!0},p(r,i){const o={};i[0]&16&&(o.cardString=r[41]),t.$set(o)},i(r){n||(K(t.$$.fragment,r),n=!0)},o(r){Z(t.$$.fragment,r),n=!1},d(r){r&&d(e),De(t)}}}function Zn(s){let e;return{c(){e=_("div"),this.h()},l(t){e=g(t,"DIV",{class:!0}),k(e).forEach(d),this.h()},h(){f(e,"class","playerButton svelte-1arqeps")},m(t,n){L(t,e,n)},d(t){t&&d(e)}}}function xn(s){let e,t,n,r;return{c(){e=_("div"),t=_("div"),n=S(),r=_("div"),this.h()},l(i){e=g(i,"DIV",{class:!0});var o=k(e);t=g(o,"DIV",{class:!0}),k(t).forEach(d),n=A(o),r=g(o,"DIV",{class:!0,style:!0}),k(r).forEach(d),o.forEach(d),this.h()},h(){f(t,"class","background svelte-1arqeps"),f(r,"class","timePasser svelte-1arqeps"),f(r,"style",s[19]),f(e,"class","timer svelte-1arqeps")},m(i,o){L(i,e,o),u(e,t),u(e,n),u(e,r)},p(i,o){o[0]&524288&&f(r,"style",i[19])},d(i){i&&d(e)}}}function Ii(s){let e,t,n,r,i,o,a,l,c,h,p,b,v,y,B,I,E,R,P,O,w;function N(q,Y){return q[16]?yi:wi}let T=N(s),D=T(s),U=s[0]>0&&Xn(s);const ne=[ki,Bi],$=[];function me(q,Y){return q[6]?0:1}I=me(s),E=$[I]=ne[I](s);let se=s[5]&&Zn(),z=s[14]&&xn(s);return{c(){e=_("div"),t=_("div"),n=_("div"),r=S(),i=_("div"),o=_("div"),a=S(),l=_("div"),c=_("span"),D.c(),h=S(),p=_("div"),b=_("span"),v=j(s[3]),y=S(),U&&U.c(),B=S(),E.c(),R=S(),se&&se.c(),P=S(),z&&z.c(),this.h()},l(q){e=g(q,"DIV",{class:!0});var Y=k(e);t=g(Y,"DIV",{class:!0});var X=k(t);n=g(X,"DIV",{class:!0}),k(n).forEach(d),r=A(X),i=g(X,"DIV",{class:!0,style:!0});var ue=k(i);o=g(ue,"DIV",{class:!0}),k(o).forEach(d),ue.forEach(d),a=A(X),l=g(X,"DIV",{class:!0});var Ee=k(l);c=g(Ee,"SPAN",{class:!0});var ee=k(c);D.l(ee),ee.forEach(d),Ee.forEach(d),h=A(X),p=g(X,"DIV",{class:!0});var G=k(p);b=g(G,"SPAN",{class:!0});var _e=k(b);v=W(_e,s[3]),_e.forEach(d),G.forEach(d),y=A(X),U&&U.l(X),B=A(X),E.l(X),R=A(X),se&&se.l(X),P=A(X),z&&z.l(X),X.forEach(d),Y.forEach(d),this.h()},h(){f(n,"class","playerGlow svelte-1arqeps"),J(n,"glowPlayerAnimation",s[14]),f(o,"class","playerCircle svelte-1arqeps"),f(i,"class","playerImage svelte-1arqeps"),f(i,"style",s[19]),f(c,"class","svelte-1arqeps"),f(l,"class","playerName svelte-1arqeps"),J(l,"winner",s[10]),f(b,"class","svelte-1arqeps"),f(p,"class","playerBalance svelte-1arqeps"),J(p,"winner",s[10]),J(p,"value",!s[12]),J(p,"valueInBB",s[12]),f(t,"class","player svelte-1arqeps"),J(t,"fold",s[7]&&s[1]),J(t,"sitout",s[8]&&(s[11]||!s[1])),f(e,"class",O=Tn(s[13])+" svelte-1arqeps")},m(q,Y){L(q,e,Y),u(e,t),u(t,n),u(t,r),u(t,i),u(i,o),u(t,a),u(t,l),u(l,c),D.m(c,null),u(t,h),u(t,p),u(p,b),u(b,v),u(t,y),U&&U.m(t,null),u(t,B),$[I].m(t,null),u(t,R),se&&se.m(t,null),u(t,P),z&&z.m(t,null),w=!0},p(q,Y){(!w||Y[0]&16384)&&J(n,"glowPlayerAnimation",q[14]),(!w||Y[0]&524288)&&f(i,"style",q[19]),T===(T=N(q))&&D?D.p(q,Y):(D.d(1),D=T(q),D&&(D.c(),D.m(c,null))),(!w||Y[0]&1024)&&J(l,"winner",q[10]),(!w||Y[0]&8)&&Q(v,q[3]),(!w||Y[0]&1024)&&J(p,"winner",q[10]),(!w||Y[0]&4096)&&J(p,"value",!q[12]),(!w||Y[0]&4096)&&J(p,"valueInBB",q[12]),q[0]>0?U?U.p(q,Y):(U=Xn(q),U.c(),U.m(t,B)):U&&(U.d(1),U=null);let X=I;I=me(q),I===X?$[I].p(q,Y):(vt(),Z($[X],1,1,()=>{$[X]=null}),yt(),E=$[I],E?E.p(q,Y):(E=$[I]=ne[I](q),E.c()),K(E,1),E.m(t,R)),q[5]?se||(se=Zn(),se.c(),se.m(t,P)):se&&(se.d(1),se=null),q[14]?z?z.p(q,Y):(z=xn(q),z.c(),z.m(t,null)):z&&(z.d(1),z=null),(!w||Y[0]&130)&&J(t,"fold",q[7]&&q[1]),(!w||Y[0]&2306)&&J(t,"sitout",q[8]&&(q[11]||!q[1])),(!w||Y[0]&8192&&O!==(O=Tn(q[13])+" svelte-1arqeps"))&&f(e,"class",O)},i(q){w||(K(E),w=!0)},o(q){Z(E),w=!1},d(q){q&&d(e),D.d(),U&&U.d(),$[I].d(),se&&se.d(),z&&z.d()}}}const Lr="boardDeck";let Ei=!1;function Ci(s,e,t){let n,r,{tableSize:i}=e,{tableRotateAmount:o}=e,{handIsBeingPlayed:a}=e,{id:l,name:c,stackSize:h,avatar:p,position:b,betSize:v,cards:y,isButton:B,showCards:I,hasFolded:E,isSitout:R,isHero:P,possibleActions:O,isWinner:w,lastAction:N,tableClosed:T,showValuesInBB:D}=e,U=!1,ne="",$,me=!1,se=V=>{V&&(console.log(`updateLastActionShowed(${V})`),ne!=V&&V!=""&&(t(16,me=!0),clearTimeout($),t(15,ne=V),$=setTimeout(()=>{t(16,me=!1)},1e3)))},z={2:{0:"playerRow middleColumn pos0 row4",1:"playerRow middleColumn pos3 row1"},3:{0:"playerRow middleColumn pos0 row4",1:"playerRow leftColumn pos2 row2",2:"playerRow rightColumn pos4 row2"},6:{0:"playerRow middleColumn pos0 row4",1:"playerRow leftColumn pos1 row3",2:"playerRow leftColumn pos2 row2",3:"playerRow middleColumn pos3 row1",4:"playerRow rightColumn pos4 row2",5:"playerRow rightColumn pos5 row3"},9:{0:"table9max playerRow middleColumn pos0 row5",1:"table9max playerRow leftMiddleColumn pos1 row4",2:"table9max playerRow leftColumn pos2 row3",3:"table9max playerRow leftMiddleColumn pos3 row2",4:"table9max playerRow leftMiddleTopColumn pos4 row1",5:"table9max playerRow rightMiddleTopColumn pos5 row1",6:"table9max playerRow rightMiddleColumn pos6 row2",7:"table9max playerRow rightColumn pos7 row3",8:"table9max playerRow rightMiddleColumn pos8 row4"}},q,Y;function X(){console.log("dealCard called at player "+playerID),q&&(console.log(q),console.log(q.className),q.animate([{top:"-100vh",opacity:0,transform:"rotate(-3600deg)"},{opacity:1,transform:"rotate(0)"}],{duration:1e3,iterations:1,easing:"ease-out",delay:100*b})),Y&&Y.animate([{top:"-100vh",opacity:0,transform:"rotate(-3600deg)"},{opacity:1,transform:"rotate(0)"}],{duration:1e3,iterations:1,easing:"ease-out",delay:100*b})}function ue(){console.log("foldCards() called at player "+playerID)}function Ee(V){console.log(`call(${V}) called at player ${playerID}`),t(0,v=V)}let ee=100,G;function _e(V){console.log("startPlayerTurn(timeLimit)"),console.log(b),console.log(c),console.log(l),he(),console.log(V),t(14,U=!0);let we=V-new Date().getTime();t(32,ee=we/2e4*100),console.log(ee),G=setInterval(()=>{if(U!==!1){if(ee>1)return t(32,ee-=1);if(ee>0)return t(32,ee-=ee);he()}},we/100)}function he(){clearInterval(G),t(14,U=!1),t(32,ee=100)}let ge=z[i][(b-o+i)%i];function de(V){Ge[V?"unshift":"push"](()=>{Y=V,t(18,Y)})}function be(V){Ge[V?"unshift":"push"](()=>{q=V,t(17,q)})}return s.$$set=V=>{"tableSize"in V&&t(20,i=V.tableSize),"tableRotateAmount"in V&&t(21,o=V.tableRotateAmount),"handIsBeingPlayed"in V&&t(1,a=V.handIsBeingPlayed),"id"in V&&t(22,l=V.id),"name"in V&&t(2,c=V.name),"stackSize"in V&&t(3,h=V.stackSize),"avatar"in V&&t(23,p=V.avatar),"position"in V&&t(24,b=V.position),"betSize"in V&&t(0,v=V.betSize),"cards"in V&&t(4,y=V.cards),"isButton"in V&&t(5,B=V.isButton),"showCards"in V&&t(6,I=V.showCards),"hasFolded"in V&&t(7,E=V.hasFolded),"isSitout"in V&&t(8,R=V.isSitout),"isHero"in V&&t(9,P=V.isHero),"possibleActions"in V&&t(25,O=V.possibleActions),"isWinner"in V&&t(10,w=V.isWinner),"lastAction"in V&&t(26,N=V.lastAction),"tableClosed"in V&&t(11,T=V.tableClosed),"showValuesInBB"in V&&t(12,D=V.showValuesInBB)},s.$$.update=()=>{s.$$.dirty[0]&67108864&&se(N),s.$$.dirty[0]&1024&&console.log(`isWinner: ${w}`),s.$$.dirty[0]&8388608&&t(33,n=`url('../../../avatar/${p}.png')`),s.$$.dirty[1]&6&&t(19,r=`--avatar-url:${n};--time-left-perc:${ee}%`),s.$$.dirty[0]&19922944&&console.log(`(${b} - ${o} + ${i}) % ${i}: ${(b-o+i)%i}`),s.$$.dirty[0]&19922944&&t(13,ge=z[i][(b-o+i)%i]),s.$$.dirty[0]&8192&&console.log(ge)},[v,a,c,h,y,B,I,E,R,P,w,T,D,ge,U,ne,me,q,Y,r,i,o,l,p,b,O,N,X,ue,Ee,_e,he,ee,n,de,be]}class Si extends Fe{constructor(e){super(),je(this,e,Ci,Ii,He,{tableSize:20,tableRotateAmount:21,handIsBeingPlayed:1,id:22,name:2,stackSize:3,avatar:23,position:24,betSize:0,cards:4,isButton:5,showCards:6,hasFolded:7,isSitout:8,isHero:9,possibleActions:25,isWinner:10,lastAction:26,tableClosed:11,showValuesInBB:12,dealCards:27,foldCards:28,call:29,startPlayerTurn:30,endPlayerTurn:31},null,[-1,-1])}get dealCards(){return this.$$.ctx[27]}get foldCards(){return this.$$.ctx[28]}get call(){return this.$$.ctx[29]}get startPlayerTurn(){return this.$$.ctx[30]}get endPlayerTurn(){return this.$$.ctx[31]}}function $n(s){let e,t,n=s[1]?"":"$ ",r,i,o=s[1]?" BB":"",a;return{c(){e=_("div"),t=_("span"),r=j(n),i=j(s[0]),a=j(o),this.h()},l(l){e=g(l,"DIV",{class:!0});var c=k(e);t=g(c,"SPAN",{class:!0});var h=k(t);r=W(h,n),i=W(h,s[0]),a=W(h,o),h.forEach(d),c.forEach(d),this.h()},h(){f(t,"class","svelte-x1766"),J(t,"value",!s[1]),J(t,"valueInBB",s[1]),f(e,"class","pot svelte-x1766")},m(l,c){L(l,e,c),u(e,t),u(t,r),u(t,i),u(t,a)},p(l,c){c&2&&n!==(n=l[1]?"":"$ ")&&Q(r,n),c&1&&Q(i,l[0]),c&2&&o!==(o=l[1]?" BB":"")&&Q(a,o),c&2&&J(t,"value",!l[1]),c&2&&J(t,"valueInBB",l[1])},d(l){l&&d(e)}}}function Ai(s){let e,t=s[0]!=0&&$n(s);return{c(){t&&t.c(),e=ke()},l(n){t&&t.l(n),e=ke()},m(n,r){t&&t.m(n,r),L(n,e,r)},p(n,[r]){n[0]!=0?t?t.p(n,r):(t=$n(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:re,o:re,d(n){n&&d(e),t&&t.d(n)}}}function Ti(s,e,t){let{potAmount:n}=e,{showValuesInBB:r=!1}=e;return s.$$set=i=>{"potAmount"in i&&t(0,n=i.potAmount),"showValuesInBB"in i&&t(1,r=i.showValuesInBB)},[n,r]}class Mr extends Fe{constructor(e){super(),je(this,e,Ti,Ai,He,{potAmount:0,showValuesInBB:1})}}function er(s,e,t){const n=s.slice();return n[81]=e[t],n[83]=t,n}function tr(s,e,t){const n=s.slice();return n[84]=e[t],n}function sr(s,e,t){const n=s.slice();return n[0]=e[t][0],n[87]=e[t][1],n[88]=e,n[89]=t,n}function nr(s,e,t){const n=s.slice();return n[90]=e[t],n[91]=e,n[83]=t,n}function rr(s,e,t){const n=s.slice();return n[92]=e[t],n}function or(s){let e,t='<span class="centerInfoText svelte-4hv8w0">Waiting for players...</span>';return{c(){e=_("div"),e.innerHTML=t,this.h()},l(n){e=g(n,"DIV",{class:!0,"data-svelte-h":!0}),oe(e)!=="svelte-1t9n9zo"&&(e.innerHTML=t),this.h()},h(){f(e,"class","centerInfoDiv svelte-4hv8w0")},m(n,r){L(n,e,r)},d(n){n&&d(e)}}}function ir(s){let e,t='<span class="centerInfoText svelte-4hv8w0">You are sitout.</span>';return{c(){e=_("div"),e.innerHTML=t,this.h()},l(n){e=g(n,"DIV",{class:!0,"data-svelte-h":!0}),oe(e)!=="svelte-g3fkah"&&(e.innerHTML=t),this.h()},h(){f(e,"class","centerInfoDiv svelte-4hv8w0")},m(n,r){L(n,e,r)},d(n){n&&d(e)}}}function lr(s){let e,t,n;return t=new un({props:{cardString:s[92],deck:"boardDeck"}}),{c(){e=_("div"),Ve(t.$$.fragment),this.h()},l(r){e=g(r,"DIV",{class:!0});var i=k(e);Oe(t.$$.fragment,i),i.forEach(d),this.h()},h(){f(e,"class","card svelte-4hv8w0")},m(r,i){L(r,e,i),Ne(t,e,null),n=!0},p(r,i){const o={};i[0]&128&&(o.cardString=r[92]),t.$set(o)},i(r){n||(K(t.$$.fragment,r),n=!0)},o(r){Z(t.$$.fragment,r),n=!1},d(r){r&&d(e),De(t)}}}function Pi(s){let e,t,n,r;function i(l){s[45](l,s[90],s[91],s[83])}function o(l){s[46](l)}let a={};return s[90]!==void 0&&(a.potAmount=s[90]),s[19].showValuesInBB!==void 0&&(a.showValuesInBB=s[19].showValuesInBB),e=new Mr({props:a}),Ge.push(()=>bt(e,"potAmount",i)),Ge.push(()=>bt(e,"showValuesInBB",o)),{c(){Ve(e.$$.fragment)},l(l){Oe(e.$$.fragment,l)},m(l,c){Ne(e,l,c),r=!0},p(l,c){s=l;const h={};!t&&c[0]&256&&(t=!0,h.potAmount=s[90],gt(()=>t=!1)),!n&&c[0]&524288&&(n=!0,h.showValuesInBB=s[19].showValuesInBB,gt(()=>n=!1)),e.$set(h)},i(l){r||(K(e.$$.fragment,l),r=!0)},o(l){Z(e.$$.fragment,l),r=!1},d(l){De(e,l)}}}function ar(s){let e,t,n=s[83]!=0&&Pi(s);return{c(){n&&n.c(),e=ke()},l(r){n&&n.l(r),e=ke()},m(r,i){n&&n.m(r,i),L(r,e,i),t=!0},p(r,i){r[83]!=0&&n.p(r,i)},i(r){t||(K(n),t=!0)},o(r){Z(n),t=!1},d(r){r&&d(e),n&&n.d(r)}}}function Ri(s){return{c:re,l:re,m:re,p:re,i:re,o:re,d:re}}function Vi(s){let e,t,n=ve(Object.entries(s[4])),r=[];for(let o=0;o<n.length;o+=1)r[o]=cr(sr(s,n,o));const i=o=>Z(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=ke()},l(o){for(let a=0;a<r.length;a+=1)r[a].l(o);e=ke()},m(o,a){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(o,a);L(o,e,a),t=!0},p(o,a){if(a[0]&1585200){n=ve(Object.entries(o[4]));let l;for(l=0;l<n.length;l+=1){const c=sr(o,n,l);r[l]?(r[l].p(c,a),K(r[l],1)):(r[l]=cr(c),r[l].c(),K(r[l],1),r[l].m(e.parentNode,e))}for(vt(),l=n.length;l<r.length;l+=1)i(l);yt()}},i(o){if(!t){for(let a=0;a<n.length;a+=1)K(r[a]);t=!0}},o(o){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)Z(r[a]);t=!1},d(o){o&&d(e),Tt(r,o)}}}function cr(s){let e,t,n,r,i=s[0],o,a,l;const c=[s[87]];function h(E){s[47](E)}function p(E){s[48](E)}function b(E){s[49](E)}const v=()=>s[50](e,i),y=()=>s[50](null,i);function B(E){s[51](E)}let I={};for(let E=0;E<c.length;E+=1)I=Gr(I,c[E]);return s[12]!==void 0&&(I.tableRotateAmount=s[12]),s[20]!==void 0&&(I.tableSize=s[20]),s[13]!==void 0&&(I.handIsBeingPlayed=s[13]),s[19].showValuesInBB!==void 0&&(I.showValuesInBB=s[19].showValuesInBB),e=new Si({props:I}),Ge.push(()=>bt(e,"tableRotateAmount",h)),Ge.push(()=>bt(e,"tableSize",p)),Ge.push(()=>bt(e,"handIsBeingPlayed",b)),v(),Ge.push(()=>bt(e,"showValuesInBB",B)),{c(){Ve(e.$$.fragment),a=S()},l(E){Oe(e.$$.fragment,E),a=A(E)},m(E,R){Ne(e,E,R),L(E,a,R),l=!0},p(E,R){i!==E[0]&&(y(),i=E[0],v());const P=R[0]&16?xr(c,[$r(E[87])]):{};!t&&R[0]&4096&&(t=!0,P.tableRotateAmount=E[12],gt(()=>t=!1)),!n&&R[0]&1048576&&(n=!0,P.tableSize=E[20],gt(()=>n=!1)),!r&&R[0]&8192&&(r=!0,P.handIsBeingPlayed=E[13],gt(()=>r=!1)),!o&&R[0]&524288&&(o=!0,P.showValuesInBB=E[19].showValuesInBB,gt(()=>o=!1)),e.$set(P)},i(E){l||(K(e.$$.fragment,E),l=!0)},o(E){Z(e.$$.fragment,E),l=!1},d(E){E&&d(a),y(),De(e,E)}}}function ur(s){let e,t,n,r=s[6].length>1&&hr(s),i=ve(s[6]),o=[];for(let a=0;a<i.length;a+=1)o[a]=pr(er(s,i,a));return{c(){e=_("div"),r&&r.c(),t=S(),n=_("div");for(let a=0;a<o.length;a+=1)o[a].c();this.h()},l(a){e=g(a,"DIV",{class:!0});var l=k(e);r&&r.l(l),t=A(l),n=g(l,"DIV",{class:!0});var c=k(n);for(let h=0;h<o.length;h+=1)o[h].l(c);c.forEach(d),l.forEach(d),this.h()},h(){f(n,"class","buttons svelte-4hv8w0"),f(e,"class","playButtonsContainer svelte-4hv8w0")},m(a,l){L(a,e,l),r&&r.m(e,null),u(e,t),u(e,n);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(n,null)},p(a,l){if(a[6].length>1?r?r.p(a,l):(r=hr(a),r.c(),r.m(e,t)):r&&(r.d(1),r=null),l[0]&526402|l[1]&256){i=ve(a[6]);let c;for(c=0;c<i.length;c+=1){const h=er(a,i,c);o[c]?o[c].p(h,l):(o[c]=pr(h),o[c].c(),o[c].m(n,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=i.length}},d(a){a&&d(e),r&&r.d(),Tt(o,a)}}}function hr(s){let e,t,n,r,i=s[19].showValuesInBB?"BB":"$",o,a,l,c,h,p,b='<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512" class="svelte-4hv8w0"><path d="M64 80c-8.8 0-16 7.2-16 16V416c0 8.8 7.2 16 16 16H384c8.8 0 16-7.2 16-16V96c0-8.8-7.2-16-16-16H64zM0 96C0 60.7 28.7 32 64 32H384c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zM152 232H296c13.3 0 24 10.7 24 24s-10.7 24-24 24H152c-13.3 0-24-10.7-24-24s10.7-24 24-24z" class="svelte-4hv8w0"></path></svg>',v,y,B,I,E='<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512" class="svelte-4hv8w0"><path d="M64 80c-8.8 0-16 7.2-16 16V416c0 8.8 7.2 16 16 16H384c8.8 0 16-7.2 16-16V96c0-8.8-7.2-16-16-16H64zM0 96C0 60.7 28.7 32 64 32H384c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zM200 344V280H136c-13.3 0-24-10.7-24-24s10.7-24 24-24h64V168c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24H248v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z" class="svelte-4hv8w0"></path></svg>',R,P,O=ve(s[19].presetButtons[s[17]]),w=[];for(let N=0;N<O.length;N+=1)w[N]=fr(tr(s,O,N));return{c(){e=_("div"),t=_("div");for(let N=0;N<w.length;N+=1)w[N].c();n=S(),r=_("label"),o=j(i),a=S(),l=_("input"),c=S(),h=_("div"),p=_("button"),p.innerHTML=b,v=S(),y=_("input"),B=S(),I=_("button"),I.innerHTML=E,this.h()},l(N){e=g(N,"DIV",{class:!0});var T=k(e);t=g(T,"DIV",{class:!0});var D=k(t);for(let $=0;$<w.length;$+=1)w[$].l(D);D.forEach(d),n=A(T),r=g(T,"LABEL",{class:!0});var U=k(r);o=W(U,i),U.forEach(d),a=A(T),l=g(T,"INPUT",{class:!0,type:!0,step:!0}),T.forEach(d),c=A(N),h=g(N,"DIV",{class:!0});var ne=k(h);p=g(ne,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(p)!=="svelte-1w5jg9d"&&(p.innerHTML=b),v=A(ne),y=g(ne,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0,id:!0}),B=A(ne),I=g(ne,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(I)!=="svelte-1ggq6c"&&(I.innerHTML=E),ne.forEach(d),this.h()},h(){f(t,"class","presetButtons svelte-4hv8w0"),f(r,"class","dolarSign svelte-4hv8w0"),f(l,"class","betDisplay svelte-4hv8w0"),f(l,"type","number"),f(l,"step","0.01"),f(e,"class","betDisplayRow svelte-4hv8w0"),f(p,"class","betSliderButton svelte-4hv8w0"),f(y,"type","range"),f(y,"min",s[9]),f(y,"max",s[10]),f(y,"step","0.01"),f(y,"class","slider svelte-4hv8w0"),f(y,"id","myRange"),f(I,"class","betSliderButton svelte-4hv8w0"),f(h,"class","betSlider svelte-4hv8w0")},m(N,T){L(N,e,T),u(e,t);for(let D=0;D<w.length;D+=1)w[D]&&w[D].m(t,null);u(e,n),u(e,r),u(r,o),u(e,a),u(e,l),Wt(l,s[11]),L(N,c,T),L(N,h,T),u(h,p),u(h,v),u(h,y),Wt(y,s[11]),u(h,B),u(h,I),R||(P=[te(l,"input",s[53]),te(l,"keydown",s[54]),te(p,"click",s[31]),te(y,"change",s[55]),te(y,"input",s[55]),te(I,"click",s[30])],R=!0)},p(N,T){if(T[0]&655360|T[1]&2){O=ve(N[19].presetButtons[N[17]]);let D;for(D=0;D<O.length;D+=1){const U=tr(N,O,D);w[D]?w[D].p(U,T):(w[D]=fr(U),w[D].c(),w[D].m(t,null))}for(;D<w.length;D+=1)w[D].d(1);w.length=O.length}T[0]&524288&&i!==(i=N[19].showValuesInBB?"BB":"$")&&Q(o,i),T[0]&2048&&ts(l.value)!==N[11]&&Wt(l,N[11]),T[0]&512&&f(y,"min",N[9]),T[0]&1024&&f(y,"max",N[10]),T[0]&2048&&Wt(y,N[11])},d(N){N&&(d(e),d(c),d(h)),Tt(w,N),R=!1,tn(P)}}}function fr(s){let e,t=(s[84].value>0?s[84].value:"")+"",n,r=s[84].display+"",i,o,a;function l(){return s[52](s[84])}return{c(){e=_("button"),n=j(t),i=j(r),this.h()},l(c){e=g(c,"BUTTON",{class:!0});var h=k(e);n=W(h,t),i=W(h,r),h.forEach(d),this.h()},h(){f(e,"class","presetBetSizeButton svelte-4hv8w0")},m(c,h){L(c,e,h),u(e,n),u(e,i),o||(a=te(e,"click",l),o=!0)},p(c,h){s=c,h[0]&655360&&t!==(t=(s[84].value>0?s[84].value:"")+"")&&Q(n,t),h[0]&655360&&r!==(r=s[84].display+"")&&Q(i,r)},d(c){c&&d(e),o=!1,a()}}}function Oi(s){let e,t,n,r=s[19].showValuesInBB?"":"$ ",i,o,a=s[19].showValuesInBB?" BB":"",l,c,h,p;function b(I,E){return I[11]<I[1].betSize+I[1].stackSize?Li:Di}let v=b(s),y=v(s);function B(){return s[57](s[83])}return{c(){e=_("button"),y.c(),t=S(),n=_("span"),i=j(r),o=j(s[11]),l=j(a),c=S(),this.h()},l(I){e=g(I,"BUTTON",{class:!0});var E=k(e);y.l(E),t=A(E),n=g(E,"SPAN",{class:!0});var R=k(n);i=W(R,r),o=W(R,s[11]),l=W(R,a),R.forEach(d),c=A(E),E.forEach(d),this.h()},h(){f(n,"class","svelte-4hv8w0"),f(e,"class","playButton svelte-4hv8w0")},m(I,E){L(I,e,E),y.m(e,null),u(e,t),u(e,n),u(n,i),u(n,o),u(n,l),u(e,c),h||(p=te(e,"click",B),h=!0)},p(I,E){s=I,v===(v=b(s))&&y?y.p(s,E):(y.d(1),y=v(s),y&&(y.c(),y.m(e,t))),E[0]&524288&&r!==(r=s[19].showValuesInBB?"":"$ ")&&Q(i,r),E[0]&2048&&Q(o,s[11]),E[0]&524288&&a!==(a=s[19].showValuesInBB?" BB":"")&&Q(l,a)},d(I){I&&d(e),y.d(),h=!1,p()}}}function Ni(s){let e,t,n=s[81].type+"",r,i,o,a,l,c=s[81].amount>0&&dr(s);function h(){return s[56](s[83])}return{c(){e=_("button"),t=_("span"),r=j(n),i=S(),c&&c.c(),o=S(),this.h()},l(p){e=g(p,"BUTTON",{class:!0});var b=k(e);t=g(b,"SPAN",{class:!0});var v=k(t);r=W(v,n),v.forEach(d),i=A(b),c&&c.l(b),o=A(b),b.forEach(d),this.h()},h(){f(t,"class","svelte-4hv8w0"),J(t,"fastFold",s[81].type==="Fold"),f(e,"class","playButton svelte-4hv8w0"),J(e,"playerButtonHide",s[81].amount>=s[1].betSize+s[1].stackSize)},m(p,b){L(p,e,b),u(e,t),u(t,r),u(e,i),c&&c.m(e,null),u(e,o),a||(l=te(e,"click",h),a=!0)},p(p,b){s=p,b[0]&64&&n!==(n=s[81].type+"")&&Q(r,n),b[0]&64&&J(t,"fastFold",s[81].type==="Fold"),s[81].amount>0?c?c.p(s,b):(c=dr(s),c.c(),c.m(e,o)):c&&(c.d(1),c=null),b[0]&66&&J(e,"playerButtonHide",s[81].amount>=s[1].betSize+s[1].stackSize)},d(p){p&&d(e),c&&c.d(),a=!1,l()}}}function Di(s){let e,t="All-in";return{c(){e=_("span"),e.textContent=t,this.h()},l(n){e=g(n,"SPAN",{class:!0,"data-svelte-h":!0}),oe(e)!=="svelte-s049cb"&&(e.textContent=t),this.h()},h(){f(e,"class","svelte-4hv8w0")},m(n,r){L(n,e,r)},p:re,d(n){n&&d(e)}}}function Li(s){let e,t=s[81].type+"",n;return{c(){e=_("span"),n=j(t),this.h()},l(r){e=g(r,"SPAN",{class:!0});var i=k(e);n=W(i,t),i.forEach(d),this.h()},h(){f(e,"class","svelte-4hv8w0")},m(r,i){L(r,e,i),u(e,n)},p(r,i){i[0]&64&&t!==(t=r[81].type+"")&&Q(n,t)},d(r){r&&d(e)}}}function dr(s){let e,t=s[19].showValuesInBB?"":"$ ",n,r=Math.round((s[81].amount-s[1].betSize)*100)/100+"",i,o=s[19].showValuesInBB?" BB":"",a;return{c(){e=_("span"),n=j(t),i=j(r),a=j(o),this.h()},l(l){e=g(l,"SPAN",{class:!0});var c=k(e);n=W(c,t),i=W(c,r),a=W(c,o),c.forEach(d),this.h()},h(){f(e,"class","svelte-4hv8w0")},m(l,c){L(l,e,c),u(e,n),u(e,i),u(e,a)},p(l,c){c[0]&524288&&t!==(t=l[19].showValuesInBB?"":"$ ")&&Q(n,t),c[0]&66&&r!==(r=Math.round((l[81].amount-l[1].betSize)*100)/100+"")&&Q(i,r),c[0]&524288&&o!==(o=l[19].showValuesInBB?" BB":"")&&Q(a,o)},d(l){l&&d(e)}}}function pr(s){let e;function t(i,o){return i[83]<2?Ni:Oi}let r=t(s)(s);return{c(){r.c(),e=ke()},l(i){r.l(i),e=ke()},m(i,o){r.m(i,o),L(i,e,o)},p(i,o){r.p(i,o)},d(i){i&&d(e),r.d(i)}}}function mr(s){let e,t,n;return{c(){e=_("div"),t=_("span"),n=j(s[15]),this.h()},l(r){e=g(r,"DIV",{class:!0});var i=k(e);t=g(i,"SPAN",{});var o=k(t);n=W(o,s[15]),o.forEach(d),i.forEach(d),this.h()},h(){f(e,"class","handStrengthDiv svelte-4hv8w0")},m(r,i){L(r,e,i),u(e,t),u(t,n)},p(r,i){i[0]&32768&&Q(n,r[15])},d(r){r&&d(e)}}}function Mi(s){let e,t="Hand History Is Empty";return{c(){e=_("div"),e.textContent=t,this.h()},l(n){e=g(n,"DIV",{class:!0,"data-svelte-h":!0}),oe(e)!=="svelte-1h1sk4w"&&(e.textContent=t),this.h()},h(){f(e,"class","handHistory svelte-4hv8w0")},m(n,r){L(n,e,r)},p:re,d(n){n&&d(e)}}}function zi(s){let e,t=s[2][s[3]]+"",n;return{c(){e=_("div"),n=j(t),this.h()},l(r){e=g(r,"DIV",{class:!0});var i=k(e);n=W(i,t),i.forEach(d),this.h()},h(){f(e,"class","handHistory svelte-4hv8w0")},m(r,i){L(r,e,i),u(e,n)},p(r,i){i[0]&12&&t!==(t=r[2][r[3]]+"")&&Q(n,t)},d(r){r&&d(e)}}}function qi(s){let e,t,n;function r(o){s[64](o)}let i={};return s[16]!==void 0&&(i.changeAds=s[16]),e=new gi({props:i}),Ge.push(()=>bt(e,"changeAds",r)),{c(){Ve(e.$$.fragment)},l(o){Oe(e.$$.fragment,o)},m(o,a){Ne(e,o,a),n=!0},p(o,a){const l={};!t&&a[0]&65536&&(t=!0,l.changeAds=o[16],gt(()=>t=!1)),e.$set(l)},i(o){n||(K(e.$$.fragment,o),n=!0)},o(o){Z(e.$$.fragment,o),n=!1},d(o){De(e,o)}}}function Ui(s){let e,t,n,r="Leave Table",i,o,a="Hand History",l,c,h="Rebuy",p,b,v="Sitout",y,B,I,E,R,P,O,w,N,T,D,U,ne,$,me,se,z,q,Y,X,ue,Ee,ee,G,_e,he,ge,de,be,V,we,lt,Le=s[3]+1+"",Me,fe,We=s[2].length+"",Ue,Je,Ce,Te,et,Qe,tt,ze,at="X",ct,ut,Kt,st,Yt,Ke,wt,ht,Xt,Gt,Qt,Ye,nt,ft,ss="AVAIABLE BALANCE:",Zt,dt,m,M,ie,qe,Bt,Vt,hn="REBUY AMOUNT:",Ss,kt,Ot,fn="$",As,Ie,Ts,It,pt,Nt,dn="MIN",Ps,Dt,Rs,ns,Vs,mt,Lt,pn="MAX",Os,Mt,Ns,rs,Ds,Et,_t,Ls,os,Ms,Ct,mn="CANCEL",zs,Ht,Be,qs,_n,Pe=s[14]&&!s[21]&&or(),Re=s[22]&&ir(),zt=ve(s[7]),ae=[];for(let C=0;C<zt.length;C+=1)ae[C]=lr(rr(s,zt,C));const zr=C=>Z(ae[C],1,1,()=>{ae[C]=null});function qr(C){s[43](C)}function Ur(C){s[44](C)}let Us={};s[8][0]!==void 0&&(Us.potAmount=s[8][0]),s[19].showValuesInBB!==void 0&&(Us.showValuesInBB=s[19].showValuesInBB),T=new Mr({props:Us}),Ge.push(()=>bt(T,"potAmount",qr)),Ge.push(()=>bt(T,"showValuesInBB",Ur));let qt=ve(s[8]),ce=[];for(let C=0;C<qt.length;C+=1)ce[C]=ar(nr(s,qt,C));const Hr=C=>Z(ce[C],1,1,()=>{ce[C]=null}),Fr=[Vi,Ri],Hs=[];function jr(C,F){return 0}se=jr(),z=Hs[se]=Fr[se](s);let Se=s[6].length>0&&ur(s),Ae=s[15]&&s[15]!=""&&mr(s);function gn(C,F){return C[2].length>0?zi:Mi}let is=gn(s),Ze=is(s),xe=qi(s);return{c(){e=_("main"),t=_("div"),n=_("button"),n.textContent=r,i=S(),o=_("button"),o.textContent=a,l=S(),c=_("button"),c.textContent=h,p=S(),b=_("button"),b.textContent=v,y=S(),B=_("div"),I=_("div"),E=S(),Pe&&Pe.c(),R=S(),Re&&Re.c(),P=S(),O=_("div");for(let C=0;C<ae.length;C+=1)ae[C].c();w=S(),N=_("div"),Ve(T.$$.fragment),ne=S(),$=_("div");for(let C=0;C<ce.length;C+=1)ce[C].c();me=S(),z.c(),q=S(),Se&&Se.c(),Y=S(),Ae&&Ae.c(),X=S(),ue=_("div"),Ee=S(),ee=_("div"),G=_("div"),_e=_("button"),he=gs("svg"),ge=gs("path"),be=S(),V=_("span"),we=_("pre"),lt=j("Hand History "),Me=j(Le),fe=j("/"),Ue=j(We),Je=S(),Ce=_("button"),Te=gs("svg"),et=gs("path"),tt=S(),ze=_("button"),ze.textContent=at,ct=S(),ut=_("div"),Ze.c(),Kt=S(),st=_("div"),Yt=S(),Ke=_("div"),wt=_("div"),ht=_("span"),Xt=j("REBUY "),Gt=j(_r),Qt=S(),Ye=_("div"),nt=_("div"),ft=_("span"),ft.textContent=ss,Zt=S(),dt=_("span"),m=j("$"),M=j(s[18]),ie=S(),qe=_("div"),Bt=_("div"),Vt=_("label"),Vt.textContent=hn,Ss=S(),kt=_("div"),Ot=_("span"),Ot.textContent=fn,As=S(),Ie=_("input"),Ts=S(),It=_("div"),pt=_("button"),Nt=_("span"),Nt.textContent=dn,Ps=S(),Dt=_("span"),Rs=j("$"),ns=j(s[25]),Vs=S(),mt=_("button"),Lt=_("span"),Lt.textContent=pn,Os=S(),Mt=_("span"),Ns=j("$"),rs=j(s[26]),Ds=S(),Et=_("div"),_t=_("button"),Ls=j("OK"),Ms=S(),Ct=_("button"),Ct.textContent=mn,zs=S(),Ht=_("div"),xe&&xe.c(),this.h()},l(C){e=g(C,"MAIN",{class:!0});var F=k(e);t=g(F,"DIV",{class:!0});var pe=k(t);n=g(pe,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(n)!=="svelte-c697ne"&&(n.textContent=r),i=A(pe),o=g(pe,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(o)!=="svelte-9ccdu1"&&(o.textContent=a),l=A(pe),c=g(pe,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(c)!=="svelte-fli994"&&(c.textContent=h),p=A(pe),b=g(pe,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(b)!=="svelte-1t1lie"&&(b.textContent=v),pe.forEach(d),y=A(F),B=g(F,"DIV",{class:!0});var H=k(B);I=g(H,"DIV",{class:!0}),k(I).forEach(d),E=A(H),Pe&&Pe.l(H),R=A(H),Re&&Re.l(H),P=A(H),O=g(H,"DIV",{class:!0});var St=k(O);for(let Ut=0;Ut<ae.length;Ut+=1)ae[Ut].l(St);St.forEach(d),w=A(H),N=g(H,"DIV",{class:!0});var bn=k(N);Oe(T.$$.fragment,bn),bn.forEach(d),ne=A(H),$=g(H,"DIV",{class:!0});var vn=k($);for(let Ut=0;Ut<ce.length;Ut+=1)ce[Ut].l(vn);vn.forEach(d),me=A(H),z.l(H),q=A(H),Se&&Se.l(H),Y=A(H),Ae&&Ae.l(H),X=A(H),ue=g(H,"DIV",{class:!0}),k(ue).forEach(d),Ee=A(H),ee=g(H,"DIV",{class:!0,popover:!0,id:!0});var ls=k(ee);G=g(ls,"DIV",{class:!0});var At=k(G);_e=g(At,"BUTTON",{class:!0});var yn=k(_e);he=bs(yn,"svg",{xmlns:!0,height:!0,viewBox:!0});var wn=k(he);ge=bs(wn,"path",{d:!0}),k(ge).forEach(d),wn.forEach(d),yn.forEach(d),be=A(At),V=g(At,"SPAN",{});var Bn=k(V);we=g(Bn,"PRE",{});var xt=k(we);lt=W(xt,"Hand History "),Me=W(xt,Le),fe=W(xt,"/"),Ue=W(xt,We),xt.forEach(d),Bn.forEach(d),Je=A(At),Ce=g(At,"BUTTON",{class:!0});var kn=k(Ce);Te=bs(kn,"svg",{xmlns:!0,height:!0,viewBox:!0});var In=k(Te);et=bs(In,"path",{d:!0}),k(et).forEach(d),In.forEach(d),kn.forEach(d),tt=A(At),ze=g(At,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(ze)!=="svelte-1nvu3h7"&&(ze.textContent=at),At.forEach(d),ct=A(ls),ut=g(ls,"DIV",{class:!0});var En=k(ut);Ze.l(En),En.forEach(d),ls.forEach(d),Kt=A(H),st=g(H,"DIV",{class:!0}),k(st).forEach(d),Yt=A(H),Ke=g(H,"DIV",{class:!0,popover:!0,id:!0});var as=k(Ke);wt=g(as,"DIV",{class:!0});var Cn=k(wt);ht=g(Cn,"SPAN",{class:!0});var Fs=k(ht);Xt=W(Fs,"REBUY "),Gt=W(Fs,_r),Fs.forEach(d),Cn.forEach(d),Qt=A(as),Ye=g(as,"DIV",{class:!0});var Ft=k(Ye);nt=g(Ft,"DIV",{class:!0});var cs=k(nt);ft=g(cs,"SPAN",{class:!0,"data-svelte-h":!0}),oe(ft)!=="svelte-j71th9"&&(ft.textContent=ss),Zt=A(cs),dt=g(cs,"SPAN",{class:!0});var js=k(dt);m=W(js,"$"),M=W(js,s[18]),js.forEach(d),cs.forEach(d),ie=A(Ft),qe=g(Ft,"DIV",{class:!0});var us=k(qe);Bt=g(us,"DIV",{class:!0});var hs=k(Bt);Vt=g(hs,"LABEL",{for:!0,"data-svelte-h":!0}),oe(Vt)!=="svelte-e3m5wi"&&(Vt.textContent=hn),Ss=A(hs),kt=g(hs,"DIV",{class:!0});var fs=k(kt);Ot=g(fs,"SPAN",{class:!0,"data-svelte-h":!0}),oe(Ot)!=="svelte-83dhq"&&(Ot.textContent=fn),As=A(fs),Ie=g(fs,"INPUT",{placeholder:!0,id:!0,min:!0,max:!0,step:!0,type:!0,class:!0}),fs.forEach(d),hs.forEach(d),Ts=A(us),It=g(us,"DIV",{class:!0});var ds=k(It);pt=g(ds,"BUTTON",{class:!0});var ps=k(pt);Nt=g(ps,"SPAN",{class:!0,"data-svelte-h":!0}),oe(Nt)!=="svelte-1bmqyoi"&&(Nt.textContent=dn),Ps=A(ps),Dt=g(ps,"SPAN",{class:!0});var Ws=k(Dt);Rs=W(Ws,"$"),ns=W(Ws,s[25]),Ws.forEach(d),ps.forEach(d),Vs=A(ds),mt=g(ds,"BUTTON",{class:!0});var ms=k(mt);Lt=g(ms,"SPAN",{class:!0,"data-svelte-h":!0}),oe(Lt)!=="svelte-1uqut8w"&&(Lt.textContent=pn),Os=A(ms),Mt=g(ms,"SPAN",{class:!0});var Js=k(Mt);Ns=W(Js,"$"),rs=W(Js,s[26]),Js.forEach(d),ms.forEach(d),ds.forEach(d),us.forEach(d),Ds=A(Ft),Et=g(Ft,"DIV",{class:!0});var _s=k(Et);_t=g(_s,"BUTTON",{class:!0});var Sn=k(_t);Ls=W(Sn,"OK"),Sn.forEach(d),Ms=A(_s),Ct=g(_s,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(Ct)!=="svelte-16wc3f4"&&(Ct.textContent=mn),_s.forEach(d),Ft.forEach(d),as.forEach(d),H.forEach(d),zs=A(F),Ht=g(F,"DIV",{class:!0});var An=k(Ht);xe&&xe.l(An),An.forEach(d),F.forEach(d),this.h()},h(){f(n,"class","svelte-4hv8w0"),f(o,"class","svelte-4hv8w0"),f(c,"class","svelte-4hv8w0"),f(b,"class","svelte-4hv8w0"),J(b,"sitout",s[21]),f(t,"class","auxiliarButtons svelte-4hv8w0"),f(I,"class","svelte-4hv8w0"),J(I,"transitioning",s[28]),f(O,"class","board svelte-4hv8w0"),f(N,"class","potLine potPrincipal svelte-4hv8w0"),f($,"class","potLine potsParalelos svelte-4hv8w0"),f(ue,"class","popoverOverlay svelte-4hv8w0"),J(ue,"active",s[27]),f(ge,"d","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"),f(he,"xmlns","http://www.w3.org/2000/svg"),f(he,"height","1em"),f(he,"viewBox","0 0 448 512"),_e.disabled=de=s[3]<=0,f(_e,"class","svelte-4hv8w0"),f(et,"d","M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"),f(Te,"xmlns","http://www.w3.org/2000/svg"),f(Te,"height","1em"),f(Te,"viewBox","0 0 448 512"),Ce.disabled=Qe=s[3]>=s[2].length-1,f(Ce,"class","svelte-4hv8w0"),f(ze,"class","closeButton svelte-4hv8w0"),f(G,"class","popoverTitle svelte-4hv8w0"),f(ut,"class","popoverMain svelte-4hv8w0"),f(ee,"class","hhPopover svelte-4hv8w0"),f(ee,"popover",""),f(ee,"id","hhPopover"),f(st,"class","popoverOverlay svelte-4hv8w0"),J(st,"active",s[23]),f(ht,"class","svelte-4hv8w0"),f(wt,"class","popoverTitle svelte-4hv8w0"),f(ft,"class","svelte-4hv8w0"),f(dt,"class","svelte-4hv8w0"),f(nt,"class","balanceBlock svelte-4hv8w0"),f(Vt,"for","rebuyAmount"),f(Ot,"class","svelte-4hv8w0"),f(Ie,"placeholder","Amount to Rebuy"),f(Ie,"id","rebuyAmount"),f(Ie,"min",s[25]),f(Ie,"max",s[26]),f(Ie,"step","0.01"),f(Ie,"type","number"),f(Ie,"class","svelte-4hv8w0"),f(kt,"class","inputWrapper svelte-4hv8w0"),f(Bt,"class","rebuyInputBlock svelte-4hv8w0"),f(Nt,"class","svelte-4hv8w0"),f(Dt,"class","value svelte-4hv8w0"),f(pt,"class","rebuyPresetButton svelte-4hv8w0"),f(Lt,"class","svelte-4hv8w0"),f(Mt,"class","value svelte-4hv8w0"),f(mt,"class","rebuyPresetButton svelte-4hv8w0"),f(It,"class","rebuyButtonsBlock svelte-4hv8w0"),f(qe,"class","rebuyBlock svelte-4hv8w0"),f(_t,"class","rebuyConfirmButtons confirm svelte-4hv8w0"),_t.disabled=os=s[24]>s[18]||s[24]>s[26]||s[24]<s[25],f(Ct,"class","rebuyConfirmButtons cancel svelte-4hv8w0"),f(Et,"class","rebuyConfirmButtonsBlock svelte-4hv8w0"),f(Ye,"class","popoverMain svelte-4hv8w0"),f(Ke,"class","rebuyPopover svelte-4hv8w0"),f(Ke,"popover",""),f(Ke,"id","rebuyPopover"),f(B,"class","bg-table svelte-4hv8w0"),J(B,"doordash",Hi),f(Ht,"class","adsContainer svelte-4hv8w0"),f(e,"class","flex svelte-4hv8w0"),J(e,"hidden",!s[29])},m(C,F){L(C,e,F),u(e,t),u(t,n),u(t,i),u(t,o),u(t,l),u(t,c),u(t,p),u(t,b),u(e,y),u(e,B),u(B,I),u(B,E),Pe&&Pe.m(B,null),u(B,R),Re&&Re.m(B,null),u(B,P),u(B,O);for(let pe=0;pe<ae.length;pe+=1)ae[pe]&&ae[pe].m(O,null);u(B,w),u(B,N),Ne(T,N,null),u(B,ne),u(B,$);for(let pe=0;pe<ce.length;pe+=1)ce[pe]&&ce[pe].m($,null);u(B,me),Hs[se].m(B,null),u(B,q),Se&&Se.m(B,null),u(B,Y),Ae&&Ae.m(B,null),u(B,X),u(B,ue),u(B,Ee),u(B,ee),u(ee,G),u(G,_e),u(_e,he),u(he,ge),u(G,be),u(G,V),u(V,we),u(we,lt),u(we,Me),u(we,fe),u(we,Ue),u(G,Je),u(G,Ce),u(Ce,Te),u(Te,et),u(G,tt),u(G,ze),u(ee,ct),u(ee,ut),Ze.m(ut,null),u(B,Kt),u(B,st),u(B,Yt),u(B,Ke),u(Ke,wt),u(wt,ht),u(ht,Xt),u(ht,Gt),u(Ke,Qt),u(Ke,Ye),u(Ye,nt),u(nt,ft),u(nt,Zt),u(nt,dt),u(dt,m),u(dt,M),u(Ye,ie),u(Ye,qe),u(qe,Bt),u(Bt,Vt),u(Bt,Ss),u(Bt,kt),u(kt,Ot),u(kt,As),u(kt,Ie),Wt(Ie,s[24]),u(qe,Ts),u(qe,It),u(It,pt),u(pt,Nt),u(pt,Ps),u(pt,Dt),u(Dt,Rs),u(Dt,ns),u(It,Vs),u(It,mt),u(mt,Lt),u(mt,Os),u(mt,Mt),u(Mt,Ns),u(Mt,rs),u(Ye,Ds),u(Ye,Et),u(Et,_t),u(_t,Ls),u(Et,Ms),u(Et,Ct),u(e,zs),u(e,Ht),xe&&xe.m(Ht,null),Be=!0,qs||(_n=[te(n,"click",s[41]),te(o,"click",s[37]),te(c,"click",s[35]),te(b,"click",s[34]),te(ue,"click",s[37]),te(_e,"click",s[58]),te(Ce,"click",s[59]),te(ze,"click",s[37]),te(st,"click",s[35]),te(Ie,"input",s[60]),te(Ie,"keydown",s[61]),te(pt,"click",s[62]),te(mt,"click",s[63]),te(_t,"click",s[36]),te(Ct,"click",s[35]),te(B,"wheel",s[33])],qs=!0)},p(C,F){if((!Be||F[0]&2097152)&&J(b,"sitout",C[21]),(!Be||F[0]&268435456)&&J(I,"transitioning",C[28]),C[14]&&!C[21]?Pe||(Pe=or(),Pe.c(),Pe.m(B,R)):Pe&&(Pe.d(1),Pe=null),C[22]?Re||(Re=ir(),Re.c(),Re.m(B,P)):Re&&(Re.d(1),Re=null),F[0]&128){zt=ve(C[7]);let H;for(H=0;H<zt.length;H+=1){const St=rr(C,zt,H);ae[H]?(ae[H].p(St,F),K(ae[H],1)):(ae[H]=lr(St),ae[H].c(),K(ae[H],1),ae[H].m(O,null))}for(vt(),H=zt.length;H<ae.length;H+=1)zr(H);yt()}const pe={};if(!D&&F[0]&256&&(D=!0,pe.potAmount=C[8][0],gt(()=>D=!1)),!U&&F[0]&524288&&(U=!0,pe.showValuesInBB=C[19].showValuesInBB,gt(()=>U=!1)),T.$set(pe),F[0]&524544){qt=ve(C[8]);let H;for(H=0;H<qt.length;H+=1){const St=nr(C,qt,H);ce[H]?(ce[H].p(St,F),K(ce[H],1)):(ce[H]=ar(St),ce[H].c(),K(ce[H],1),ce[H].m($,null))}for(vt(),H=qt.length;H<ce.length;H+=1)Hr(H);yt()}z.p(C,F),C[6].length>0?Se?Se.p(C,F):(Se=ur(C),Se.c(),Se.m(B,Y)):Se&&(Se.d(1),Se=null),C[15]&&C[15]!=""?Ae?Ae.p(C,F):(Ae=mr(C),Ae.c(),Ae.m(B,X)):Ae&&(Ae.d(1),Ae=null),(!Be||F[0]&134217728)&&J(ue,"active",C[27]),(!Be||F[0]&8&&de!==(de=C[3]<=0))&&(_e.disabled=de),(!Be||F[0]&8)&&Le!==(Le=C[3]+1+"")&&Q(Me,Le),(!Be||F[0]&4)&&We!==(We=C[2].length+"")&&Q(Ue,We),(!Be||F[0]&12&&Qe!==(Qe=C[3]>=C[2].length-1))&&(Ce.disabled=Qe),is===(is=gn(C))&&Ze?Ze.p(C,F):(Ze.d(1),Ze=is(C),Ze&&(Ze.c(),Ze.m(ut,null))),(!Be||F[0]&8388608)&&J(st,"active",C[23]),(!Be||F[0]&262144)&&Q(M,C[18]),(!Be||F[0]&33554432)&&f(Ie,"min",C[25]),(!Be||F[0]&67108864)&&f(Ie,"max",C[26]),F[0]&16777216&&ts(Ie.value)!==C[24]&&Wt(Ie,C[24]),(!Be||F[0]&33554432)&&Q(ns,C[25]),(!Be||F[0]&67108864)&&Q(rs,C[26]),(!Be||F[0]&117702656&&os!==(os=C[24]>C[18]||C[24]>C[26]||C[24]<C[25]))&&(_t.disabled=os),xe.p(C,F),(!Be||F[0]&536870912)&&J(e,"hidden",!C[29])},i(C){if(!Be){for(let F=0;F<zt.length;F+=1)K(ae[F]);K(T.$$.fragment,C);for(let F=0;F<qt.length;F+=1)K(ce[F]);K(z),K(xe),Be=!0}},o(C){ae=ae.filter(Boolean);for(let F=0;F<ae.length;F+=1)Z(ae[F]);Z(T.$$.fragment,C),ce=ce.filter(Boolean);for(let F=0;F<ce.length;F+=1)Z(ce[F]);Z(z),Z(xe),Be=!1},d(C){C&&d(e),Pe&&Pe.d(),Re&&Re.d(),Tt(ae,C),De(T),Tt(ce,C),Hs[se].d(),Se&&Se.d(),Ae&&Ae.d(),Ze.d(),xe&&xe.d(),qs=!1,tn(_n)}}}let _r="",Hi=!1;function Fi(s,e,t){let n,r;rt(s,Rt,m=>t(42,r=m));let{playerID:i}=e,o=5,a=10,l=[],c=0,h={id:"",poolID:"",position:0,cards:[],betSize:0,stackSize:0},p={},b={},v=[],y=[],B=[0],I=0,E=999999999e-2,R=0,P="",O=0,w=50,N=h.position,T,D=!1,U=!0,ne="",$,me="preflop",se=0,z={sounds:!0,preferedSeat:{"3max":0,"6max":0,"9max":0},showValuesInBB:!0,adjustBetByBB:!0,presetButtons:{preflop:[{type:"pot%",value:25,display:"%"},{type:"pot%",value:50,display:"%"},{type:"pot%",value:75,display:"%"},{type:"pot%",value:100,display:"%"}],postflop:[{type:"pot%",value:25,display:"%"},{type:"pot%",value:50,display:"%"},{type:"pot%",value:75,display:"%"},{type:"pot%",value:100,display:"%"}]}};le.on("updatePlayerInfo",m=>{if(console.log("updatePlayerInfo"),console.log(m),i!==m.id)return;let M=JSON.parse(JSON.stringify(p));t(1,h=m),t(1,h.isHero=!0,h),t(1,h.showCards=!0,h),t(1,h.betSize=parseFloat(h.betSize),h),t(1,h.stackSize=parseFloat(h.stackSize),h),z.showValuesInBB&&(console.log("changing hero values to BB"),t(1,h.betSize=Math.round(h.betSize/a*100)/100,h),t(1,h.stackSize=Math.round(h.stackSize/a*100)/100,h)),t(21,G=h.isSitout),h.isSitout&&he(h.isSitout),h.finalHandRank&&t(15,ne=h.finalHandRank.combination),h.possibleActions.length>1&&(z.showValuesInBB&&t(1,h.possibleActions[1].amount=Math.round(h.possibleActions[1].amount/a*100)/100,h),h.possibleActions[1].amount>h.betSize+h.stackSize&&t(1,h.possibleActions[1].amount=Math.round((h.betSize+h.stackSize)*100)/100,h),h.possibleActions[1].amount,t(11,w=z.showValuesInBB?Math.round(h.possibleActions[2].amount/a*100)/100:Math.round(h.possibleActions[2].amount*100)/100),w>h.betSize+h.stackSize&&t(11,w=Math.round((h.betSize+h.stackSize)*100)/100),t(9,I=w),t(10,E=Math.round((h.betSize+h.stackSize)*100)/100)),G||t(6,v=h.possibleActions),t(12,N=h.position),M[h.id]=h,t(4,p=M),console.log(h)}),le.on("updateUserInfo",({user:m})=>{console.log(m),t(18,se=parseFloat(m.balance))}),le.on("updateUserSettings",m=>{if(console.log("updateUserSettings"),z.showValuesInBB!=m.showValuesInBB){if(p){const M=JSON.parse(JSON.stringify(p));Object.values(M).forEach(ie=>{m.showValuesInBB&&(ie.betSize=Math.round(ie.betSize/a*100)/100,ie.stackSize=Math.round(ie.stackSize/a*100)/100),m.showValuesInBB||(ie.betSize=Math.round(ie.betSize*a*100)/100,ie.stackSize=Math.round(ie.stackSize*a*100)/100),ie.id===h.id&&t(1,h=ie)}),t(4,p=M)}if(B){const M=JSON.parse(JSON.stringify(B));for(let ie=0;ie<M.length;ie++)m.showValuesInBB&&(M[ie]=Math.round(M[ie]/a*100)/100),m.showValuesInBB||(M[ie]=Math.round(M[ie]*a*100)/100);t(8,B=M)}v.length>1&&(v.forEach(M=>{m.showValuesInBB&&(M.amount=Math.round(M.amount/a*100)/100),m.showValuesInBB||(M.amount=Math.round(M.amount*a*100)/100)}),m.showValuesInBB&&(t(11,w=Math.round(w/a*100)/100),t(9,I=Math.round(I/a*100)/100),t(10,E=Math.round(E/a*100)/100),R=Math.round(R/a*100)/100),m.showValuesInBB||(t(11,w=Math.round(w*a*100)/100),t(9,I=Math.round(I*a*100)/100),t(10,E=Math.round(E*a*100)/100),R=Math.round(R*a*100)/100))}t(19,z=m),console.log(z)}),le.on("updateGameState",m=>{if(console.log("updateGameState"),console.log(m),i in m.players){if(JSON.parse(JSON.stringify(m)),O=0,P="empty player",t(13,D=m.handIsBeingPlayed),t(20,Ee=m.tableSize),t(7,y=m.boardCards),o=parseFloat(m.sb),a=parseFloat(m.bb),console.log("gameState.pots"),console.log(m.pots),z.showValuesInBB){console.log("updating pot size to bbs");for(let M=0;M<m.pots.length;M++)m.pots[M]=Math.round(parseFloat(m.pots[M])/a*100)/100;R=Math.round(m.biggestBet/a*100)/100}t(8,B=m.pots),console.log("pots"),console.log(B),R=parseFloat(m.biggestBet),t(17,me=m.boardRound===0?"preflop":"postflop"),clearInterval(T),m.handIsBeingPlayed||t(6,v=[]),m.handIsBeingPlayed||m.isShowdown?t(14,U=!1):t(14,U=!0),Object.values(m.players).forEach(M=>{M.isHero=!1,M.isButton=!1,z.showValuesInBB&&(M.betSize=Math.round(M.betSize/a*100)/100,M.stackSize=Math.round(M.stackSize/a*100)/100),O+=parseFloat(M.betSize),m.positionActing===M.position&&(P=M.id),M.position===m.dealerPos&&(M.isButton=!0),M.id===h.id&&(M.isHero=!0,M.showCards=!0,M.cards=h.cards,t(21,G=M.isSitout),M.isSitout&&he(M.isSitout))}),t(4,p=m.players),console.log(p),console.log(b),Object.values(b).forEach(M=>{M&&M.endPlayerTurn()}),console.log(P),m.handIsBeingPlayed&&!m.isShowdown&&(T=setInterval(()=>{P in b&&(b[P].startPlayerTurn(m.timeLimitToAct),clearInterval(T))},100))}}),le.on("handTransition",m=>{console.log("handTransition"),i===m.id&&(t(6,v=[]),t(15,ne=""),Ue(),$())}),le.on("updateHandHistory",m=>{console.log("updateHandHistory"),l.push(m),t(2,l),c===-1&&t(3,c=l.length-1)}),le.on("askRebuy",m=>{we()}),le.on("sitoutUpdate",m=>{i===m.playerID&&(t(21,G=m.isSitout),he(G))}),le.on("updatePlayerCards",m=>{console.log("updatePlayerCards"),t(1,h.cards=m,h)}),le.on("leavePoolResponse",({status:m})=>{switch(console.log("leavePoolResponse"),m){case 200:Rt.set("lobby");break}});function q(){let m=o;z.adjustBetByBB&&(m=a),z.showValuesInBB&&(m=m/a),w+m>=E?t(11,w=Math.round(E*100)/100):t(11,w=Math.round((w+m)*100)/100)}function Y(){let m=o;z.adjustBetByBB&&(m=a),z.showValuesInBB&&(m=m/a),w-m<=I?t(11,w=Math.round(I*100)/100):t(11,w=Math.round((w-m)*100)/100)}function X(m){if(m.type==="min"&&t(11,w=I),m.type==="max"&&t(11,w=E),m.type==="bbs"&&t(11,w=z.showValuesInBB?m.value:Math.round(m.value*a*100)/100),m.type==="pot%"){const M=m.value;let ie=0;for(let qe=0;qe<B.length;qe++)ie+=parseFloat(B[qe]);t(11,w=M/100*(ie+O+R-h.betSize)+R)}w>h.betSize+h.stackSize&&t(11,w=h.betSize+h.stackSize),w<I&&t(11,w=I),t(11,w=Math.round(w*100)/100)}function ue(m){m.deltaY<0?q():Y()}let Ee=6;function ee(){console.log("toggleSitout()"),console.log(h),t(21,G=!G),G||he(G),le.emit("sitoutUpdate",{playerID:h.id,poolID:h.poolID,isSitout:G})}let G=!1,_e=!1;function he(m=!0){console.log("sitoutPopover"+m),m&&t(6,v=[{type:"I`m Back",amount:0}]),m||t(6,v=h.possibleActions),t(22,_e=m)}let ge=!1,de=0,be=0,V=0;function we(){console.log("toggleRebuy"),t(24,de=z.showValuesInBB?a*100-Math.round(h.stackSize*a*100)/100:a*100-h.stackSize),t(25,be=z.showValuesInBB?a*20-Math.round(h.stackSize*a*100)/100:a*20-h.stackSize),be<0&&t(25,be=0),de<0&&t(24,de=0),t(26,V=de);const m=document.getElementById("rebuyPopover");ge&&(m==null||m.hidePopover()),ge||m==null||m.showPopover(),t(23,ge=!ge)}function lt(){console.log("toggleRebuy");let m=Math.round(de*100)/100;m>0&&le.emit("tryRebuy",{playerID:h.id,poolID:h.poolID,stackSize:m}),we()}let Le=!1;function Me(){const m=document.getElementById("hhPopover");Le&&(m==null||m.hidePopover()),Le||m==null||m.showPopover(),t(27,Le=!Le),t(3,c=l.length-1)}function fe(m){console.log(`changeHandHistoryIndex(${m})`),c+m>=0&&c+m<l.length&&t(3,c+=m)}let We=!1;function Ue(){t(28,We=!0),setTimeout(()=>{t(28,We=!1)},1e3)}function Je(m){let M=v[m];if(M.type==="I`m Back")return ee();t(11,w=parseFloat(w.toString().replace(",","."))),m===2&&(M.amount=Math.round(w*100)/100),M.amount!=0&&z.showValuesInBB&&(M.amount=Math.round(M.amount*a*100)/100),le.emit("parseAction",{player:h,action:M}),t(6,v=[])}function Ce(m){console.log(`setRebuyAmount(${m})`),t(24,de=m)}function Te(){console.log("leavePool"),le.emit("leavePool",h)}function et(m){s.$$.not_equal(B[0],m)&&(B[0]=m,t(8,B))}function Qe(m){s.$$.not_equal(z.showValuesInBB,m)&&(z.showValuesInBB=m,t(19,z))}function tt(m,M,ie,qe){ie[qe]=m,t(8,B)}function ze(m){s.$$.not_equal(z.showValuesInBB,m)&&(z.showValuesInBB=m,t(19,z))}function at(m){N=m,t(12,N),t(1,h)}function ct(m){Ee=m,t(20,Ee)}function ut(m){D=m,t(13,D)}function Kt(m,M){Ge[m?"unshift":"push"](()=>{b[M]=m,t(5,b)})}function st(m){s.$$.not_equal(z.showValuesInBB,m)&&(z.showValuesInBB=m,t(19,z))}const Yt=m=>X(m);function Ke(){w=ts(this.value),t(11,w)}const wt=()=>t(11,w=Number(w.toFixed(1)));function ht(){w=ts(this.value),t(11,w)}const Xt=m=>Je(m),Gt=m=>Je(m),Qt=()=>{fe(-1)},Ye=()=>{fe(1)};function nt(){de=ts(this.value),t(24,de)}const ft=()=>t(24,de=Number(de.toFixed(2))),ss=()=>{Ce(be)},Zt=()=>{Ce(V)};function dt(m){$=m,t(16,$)}return s.$$set=m=>{"playerID"in m&&t(0,i=m.playerID)},s.$$.update=()=>{s.$$.dirty[0]&1|s.$$.dirty[1]&2048&&t(29,n=i===r),s.$$.dirty[0]&2&&console.log(t(12,N=h.position))},[i,h,l,c,p,b,v,y,B,I,E,w,N,D,U,ne,$,me,se,z,Ee,G,_e,ge,de,be,V,Le,We,n,q,Y,X,ue,ee,we,lt,Me,fe,Je,Ce,Te,r,et,Qe,tt,ze,at,ct,ut,Kt,st,Yt,Ke,wt,ht,Xt,Gt,Qt,Ye,nt,ft,ss,Zt,dt]}class ji extends Fe{constructor(e){super(),je(this,e,Fi,Ui,He,{playerID:0},null,[-1,-1,-1,-1])}}function gr(s,e,t){const n=s.slice();return n[1]=e[t][0],n[2]=e[t][1],n}function Wi(s){let e,t,n,r,i,o,a=[],l=new Map,c,h;e=new pi({}),n=new ai({}),i=new hi({});let p=ve(Object.entries(s[0].players));const b=v=>v[1];for(let v=0;v<p.length;v+=1){let y=gr(s,p,v),B=b(y);l.set(B,a[v]=br(B,y))}return{c(){Ve(e.$$.fragment),t=S(),Ve(n.$$.fragment),r=S(),Ve(i.$$.fragment),o=S();for(let v=0;v<a.length;v+=1)a[v].c();c=ke()},l(v){Oe(e.$$.fragment,v),t=A(v),Oe(n.$$.fragment,v),r=A(v),Oe(i.$$.fragment,v),o=A(v);for(let y=0;y<a.length;y+=1)a[y].l(v);c=ke()},m(v,y){Ne(e,v,y),L(v,t,y),Ne(n,v,y),L(v,r,y),Ne(i,v,y),L(v,o,y);for(let B=0;B<a.length;B+=1)a[B]&&a[B].m(v,y);L(v,c,y),h=!0},p(v,y){y&1&&(p=ve(Object.entries(v[0].players)),vt(),a=wr(a,y,b,1,v,p,l,c.parentNode,Zr,br,c,gr),yt())},i(v){if(!h){K(e.$$.fragment,v),K(n.$$.fragment,v),K(i.$$.fragment,v);for(let y=0;y<p.length;y+=1)K(a[y]);h=!0}},o(v){Z(e.$$.fragment,v),Z(n.$$.fragment,v),Z(i.$$.fragment,v);for(let y=0;y<a.length;y+=1)Z(a[y]);h=!1},d(v){v&&(d(t),d(r),d(o),d(c)),De(e,v),De(n,v),De(i,v);for(let y=0;y<a.length;y+=1)a[y].d(v)}}}function Ji(s){let e,t;return e=new ni({}),{c(){Ve(e.$$.fragment)},l(n){Oe(e.$$.fragment,n)},m(n,r){Ne(e,n,r),t=!0},p:re,i(n){t||(K(e.$$.fragment,n),t=!0)},o(n){Z(e.$$.fragment,n),t=!1},d(n){De(e,n)}}}function br(s,e){let t,n,r;return n=new ji({props:{playerID:e[1]}}),{key:s,first:null,c(){t=ke(),Ve(n.$$.fragment),this.h()},l(i){t=ke(),Oe(n.$$.fragment,i),this.h()},h(){this.first=t},m(i,o){L(i,t,o),Ne(n,i,o),r=!0},p(i,o){e=i;const a={};o&1&&(a.playerID=e[1]),n.$set(a)},i(i){r||(K(n.$$.fragment,i),r=!0)},o(i){Z(n.$$.fragment,i),r=!1},d(i){i&&d(t),De(n,i)}}}function Ki(s){let e,t,n,r;const i=[Ji,Wi],o=[];function a(l,c){return l[0]?1:0}return e=a(s),t=o[e]=i[e](s),{c(){t.c(),n=ke()},l(l){t.l(l),n=ke()},m(l,c){o[e].m(l,c),L(l,n,c),r=!0},p(l,c){let h=e;e=a(l),e===h?o[e].p(l,c):(vt(),Z(o[h],1,1,()=>{o[h]=null}),yt(),t=o[e],t?t.p(l,c):(t=o[e]=i[e](l),t.c()),K(t,1),t.m(n.parentNode,n))},i(l){r||(K(t),r=!0)},o(l){Z(t),r=!1},d(l){l&&d(n),o[e].d(l)}}}function Yi(s){let e,t;return e=new Ko({props:{$$slots:{default:[Ki]},$$scope:{ctx:s}}}),{c(){Ve(e.$$.fragment)},l(n){Oe(e.$$.fragment,n)},m(n,r){Ne(e,n,r),t=!0},p(n,[r]){const i={};r&33&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(K(e.$$.fragment,n),t=!0)},o(n){Z(e.$$.fragment,n),t=!1},d(n){De(e,n)}}}function Xi(s,e,t){let n;return rt(s,Pt,r=>t(0,n=r)),le.on("updateUserInfo",({user:r,status:i})=>{console.log("updateUserInfo"),console.log(r),i===200&&Pt.set({name:r.name,balance:Math.round(r.balance*100)/100,avatar:r.avatar,email:r.email,settings:r.settings,players:r.players})}),Rt.set("lobby"),[n]}class xi extends Fe{constructor(e){super(),je(this,e,Xi,Yi,He,{})}}export{xi as component};
