"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.calcBestHand = void 0;
const cardRank_1 = require("./cardRank");
const calcBestHand = (gameType, pocketCards, communityCards) => {
    const getHandRanker = () => {
        if (gameType === 'short_deck') {
            return cardRank_1.rankShortDeckHand;
        }
        if (gameType === 'omaha') {
            return cardRank_1.rankOmahaHand;
        }
        return cardRank_1.rankTexasHand;
    };
    const rankHand = getHandRanker();
    const cards = [...pocketCards, ...communityCards];
    const { rank, madeHand } = rankHand(pocketCards, communityCards);
    return {
        rank,
        madeHand,
        unused: cards.filter((c) => !madeHand.find((mc) => mc === c)),
    };
};
exports.calcBestHand = calcBestHand;
